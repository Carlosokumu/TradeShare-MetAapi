'use strict';

var _promise = require('babel-runtime/core-js/promise');

var _promise2 = _interopRequireDefault(_promise);

var _should = require('should');

var _should2 = _interopRequireDefault(_should);

var _sinon = require('sinon');

var _sinon2 = _interopRequireDefault(_sinon);

var _streamingMetaApiConnection = require('./streamingMetaApiConnection');

var _streamingMetaApiConnection2 = _interopRequireDefault(_streamingMetaApiConnection);

var _notSynchronizedError = require('../clients/metaApi/notSynchronizedError');

var _notSynchronizedError2 = _interopRequireDefault(_notSynchronizedError);

var _randomstring = require('randomstring');

var _randomstring2 = _interopRequireDefault(_randomstring);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @test {MetaApiConnection}
 */
// eslint-disable-next-line max-statements
describe('StreamingMetaApiConnection', () => {

  let sandbox;
  let api;
  let account;
  let clock;
  let client = {
    getAccountInformation: () => {},
    getPositions: () => {},
    getPosition: () => {},
    getOrders: () => {},
    getOrder: () => {},
    getHistoryOrdersByTicket: () => {},
    getHistoryOrdersByPosition: () => {},
    getHistoryOrdersByTimeRange: () => {},
    getDealsByTicket: () => {},
    getDealsByPosition: () => {},
    getDealsByTimeRange: () => {},
    removeApplication: () => {},
    trade: () => {},
    calculateMargin: () => {},
    reconnect: () => {},
    synchronize: () => true,
    ensureSubscribe: () => {},
    subscribeToMarketData: () => {},
    unsubscribeFromMarketData: () => {},
    addSynchronizationListener: () => {},
    addReconnectListener: () => {},
    removeSynchronizationListener: () => {},
    removeReconnectListener: () => {},
    getSymbols: () => {},
    getSymbolSpecification: () => {},
    getSymbolPrice: () => {},
    getCandle: () => {},
    getTick: () => {},
    getBook: () => {},
    saveUptime: () => {},
    waitSynchronized: () => {},
    unsubscribe: () => {},
    refreshMarketDataSubscriptions: () => {},
    regionsByAccounts: {},
    addAccountCache: () => {},
    getAccountRegion: accountId => accountId === 'accountIdReplica' ? 'new-york' : 'vint-hill',
    removeAccountCache: () => {},
    queueEvent: () => {}
  };

  let clientApiClient = {
    getHashingIgnoredFieldLists: () => ({
      g1: {
        specification: ['description'],
        position: ['time'],
        order: ['time']
      },
      g2: {
        specification: ['pipSize'],
        position: ['comment'],
        order: ['comment']
      }
    })
  };

  let connectionRegistry = {
    connect: () => {},
    remove: () => {},
    application: 'MetaApi'
  };

  let accountRegions = {
    'vint-hill': 'accountId',
    'new-york': 'accountIdReplica'
  };

  before(() => {
    sandbox = _sinon2.default.createSandbox();
  });

  beforeEach(() => {
    account = {
      id: 'accountId',
      state: 'DEPLOYED',
      region: 'vint-hill',
      accountRegions,
      reload: () => {}
    };
    api = new _streamingMetaApiConnection2.default(client, clientApiClient, account, undefined, connectionRegistry, 0, {
      minDelayInSeconds: 1,
      maxDelayInSeconds: 1
    });
    sandbox.stub(api._terminalState, 'specification').withArgs('EURUSD').returns({ symbol: 'EURUSD' });
    clock = _sinon2.default.useFakeTimers({
      shouldAdvanceTime: true
    });
  });

  afterEach(() => {
    clock.restore();
    sandbox.restore();
  });

  /**
   * @test {MetaApiConnection#removeApplication}
   */
  it('should remove application', async () => {
    await api.connect();
    sandbox.stub(client, 'removeApplication').resolves();
    sandbox.stub(api.historyStorage, 'clear').resolves();
    await api.removeApplication();
    _sinon2.default.assert.calledWith(client.removeApplication, 'accountId');
    _sinon2.default.assert.calledOnce(api.historyStorage.clear);
  });

  /**
   * @test {MetaApiConnection#createMarketBuyOrder}
   */
  it('should create market buy order', async () => {
    await api.connect();
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: 46870472
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.createMarketBuyOrder('GBPUSD', 0.07, 0.9, 2.0, { comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_TYPE_BUY', symbol: 'GBPUSD',
      volume: 0.07, stopLoss: 0.9, takeProfit: 2.0, comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' }));
  });

  /**
   * @test {MetaApiConnection#createMarketBuyOrder}
   */
  it('should create market buy order with relative SL/TP', async () => {
    await api.connect();
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: 46870472
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.createMarketBuyOrder('GBPUSD', 0.07, { value: 0.1, units: 'RELATIVE_PRICE' }, { value: 2000, units: 'RELATIVE_POINTS' }, { comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_TYPE_BUY', symbol: 'GBPUSD',
      volume: 0.07, stopLoss: 0.1, stopLossUnits: 'RELATIVE_PRICE', takeProfit: 2000,
      takeProfitUnits: 'RELATIVE_POINTS', comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' }));
  });

  /**
   * @test {MetaApiConnection#createMarketSellOrder}
   */
  it('should create market sell order', async () => {
    await api.connect();
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: 46870472
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.createMarketSellOrder('GBPUSD', 0.07, 2.0, 0.9, { comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_TYPE_SELL', symbol: 'GBPUSD',
      volume: 0.07, stopLoss: 2.0, takeProfit: 0.9, comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' }));
  });

  /**
   * @test {MetaApiConnection#createLimitBuyOrder}
   */
  it('should create limit buy order', async () => {
    await api.connect();
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: 46870472
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.createLimitBuyOrder('GBPUSD', 0.07, 1.0, 0.9, 2.0, { comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_TYPE_BUY_LIMIT',
      symbol: 'GBPUSD', volume: 0.07, openPrice: 1.0, stopLoss: 0.9, takeProfit: 2.0, comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' }));
  });

  /**
   * @test {MetaApiConnection#createLimitSellOrder}
   */
  it('should create limit sell order', async () => {
    await api.connect();
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: 46870472
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.createLimitSellOrder('GBPUSD', 0.07, 1.5, 2.0, 0.9, { comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_TYPE_SELL_LIMIT',
      symbol: 'GBPUSD', volume: 0.07, openPrice: 1.5, stopLoss: 2.0, takeProfit: 0.9, comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' }));
  });

  /**
   * @test {MetaApiConnection#createStopBuyOrder}
   */
  it('should create stop buy order', async () => {
    await api.connect();
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: 46870472
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.createStopBuyOrder('GBPUSD', 0.07, 1.5, 0.9, 2.0, { comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_TYPE_BUY_STOP',
      symbol: 'GBPUSD', volume: 0.07, openPrice: 1.5, stopLoss: 0.9, takeProfit: 2.0, comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' }));
  });

  /**
   * @test {MetaApiConnection#createStopSellOrder}
   */
  it('should create stop sell order', async () => {
    await api.connect();
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: '46870472'
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.createStopSellOrder('GBPUSD', 0.07, 1.0, 2.0, 0.9, { comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_TYPE_SELL_STOP',
      symbol: 'GBPUSD', volume: 0.07, openPrice: 1.0, stopLoss: 2.0, takeProfit: 0.9, comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' }));
  });

  /**
   * @test {MetaApiConnection#createStopLimitBuyOrder}
   */
  it('should create stop limit buy order', async () => {
    await api.connect();
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: 46870472
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.createStopLimitBuyOrder('GBPUSD', 0.07, 1.5, 1.4, 0.9, 2.0, { comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_TYPE_BUY_STOP_LIMIT',
      symbol: 'GBPUSD', volume: 0.07, openPrice: 1.5, stopLimitPrice: 1.4, stopLoss: 0.9, takeProfit: 2.0,
      comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' }));
  });

  /**
   * @test {MetaApiConnection#createStopLimitSellOrder}
   */
  it('should create stop limit sell order', async () => {
    await api.connect();
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: '46870472'
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.createStopLimitSellOrder('GBPUSD', 0.07, 1.0, 1.1, 2.0, 0.9, { comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_TYPE_SELL_STOP_LIMIT',
      symbol: 'GBPUSD', volume: 0.07, openPrice: 1.0, stopLimitPrice: 1.1, stopLoss: 2.0, takeProfit: 0.9,
      comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' }));
  });

  /**
   * @test {MetaApiConnection#modifyPosition}
   */
  it('should modify position', async () => {
    await api.connect();
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      positionId: '46870472'
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.modifyPosition('46870472', 2.0, 0.9);
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'POSITION_MODIFY',
      positionId: '46870472', stopLoss: 2.0, takeProfit: 0.9 }));
  });

  /**
   * @test {MetaApiConnection#closePositionPartially}
   */
  it('should close position partially', async () => {
    await api.connect();
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      positionId: '46870472'
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.closePositionPartially('46870472', 0.9, { comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'POSITION_PARTIAL',
      positionId: '46870472', volume: 0.9, comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' }));
  });

  /**
   * @test {MetaApiConnection#closePosition}
   */
  it('should close position', async () => {
    await api.connect();
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      positionId: '46870472'
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.closePosition('46870472', { comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'POSITION_CLOSE_ID',
      positionId: '46870472', comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' }));
  });

  /**
   * @test {MetaApiConnection#closeBy}
   */
  it('should close position by an opposite one', async () => {
    await api.connect();
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      positionId: '46870472',
      closeByPositionId: '46870482'
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.closeBy('46870472', '46870482', { comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'POSITION_CLOSE_BY',
      positionId: '46870472', closeByPositionId: '46870482', comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' }));
  });

  /**
   * @test {MetaApiConnection#closePositionsBySymbol}
   */
  it('should close positions by symbol', async () => {
    await api.connect();
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      positionId: '46870472'
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.closePositionsBySymbol('EURUSD', { comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'POSITIONS_CLOSE_SYMBOL',
      symbol: 'EURUSD', comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' }));
  });

  /**
   * @test {MetaApiConnection#modifyOrder}
   */
  it('should modify order', async () => {
    await api.connect();
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: '46870472'
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.modifyOrder('46870472', 1.0, 2.0, 0.9);
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_MODIFY', orderId: '46870472',
      openPrice: 1.0, stopLoss: 2.0, takeProfit: 0.9 }));
  });

  /**
   * @test {MetaApiConnection#cancelOrder}
   */
  it('should cancel order', async () => {
    await api.connect();
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: '46870472'
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.cancelOrder('46870472');
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_CANCEL', orderId: '46870472' }));
  });

  /**
   * @test {MetaApiConnection#calculateMargin}
   */
  it('should calculate margin', async () => {
    await api.connect();
    let margin = {
      margin: 110
    };
    let order = {
      symbol: 'EURUSD',
      type: 'ORDER_TYPE_BUY',
      volume: 0.1,
      openPrice: 1.1
    };
    sandbox.stub(client, 'calculateMargin').resolves(margin);
    let actual = await api.calculateMargin(order);
    actual.should.match(margin);
    _sinon2.default.assert.calledWith(client.calculateMargin, 'accountId', undefined, undefined, _sinon2.default.match(order));
  });

  /**
   * @test {MetaApiConnection#subscribe}
   */
  describe('ensure subscribe', () => {

    /**
     * @test {MetaApiConnection#subscribe}
     */
    it('should subscribe to terminal', async () => {
      await api.connect();
      sandbox.stub(client, 'ensureSubscribe').resolves();
      await api.subscribe();
      _sinon2.default.assert.calledWith(client.ensureSubscribe, 'accountId', 0);
      _sinon2.default.assert.calledWith(client.ensureSubscribe, 'accountId', 1);
      _sinon2.default.assert.calledWith(client.ensureSubscribe, 'accountIdReplica', 0);
      _sinon2.default.assert.calledWith(client.ensureSubscribe, 'accountIdReplica', 1);
    });
  });

  /**
   * @test {MetaApiConnection#synchronize}
   */
  it('should not subscribe if connection is not open', async () => {
    const ensureSubscribeStub = sandbox.stub(client, 'ensureSubscribe').resolves();
    try {
      await api.subscribe();
      throw new Error('Error is expected');
    } catch (err) {
      err.message.should.equal('This connection has not been initialized yet,' + ' please invoke await connection.connect()');
    }
    _sinon2.default.assert.notCalled(ensureSubscribeStub);
  });

  /**
   * @test {MetaApiConnection#synchronize}
   */
  it('should not subscribe if connection is closed', async () => {
    await api.connect();
    const ensureSubscribeStub = sandbox.stub(client, 'ensureSubscribe').resolves();
    await api.close();
    try {
      await api.subscribe();
      throw new Error('Error is expected');
    } catch (err) {
      err.message.should.equal('This connection has been closed, please create a new connection');
    }
    _sinon2.default.assert.notCalled(ensureSubscribeStub);
  });

  /**
   * @test {MetaApiConnection#synchronize}
   */
  it('should synchronize state with terminal', async () => {
    sandbox.stub(client, 'synchronize').resolves();
    sandbox.stub(_randomstring2.default, 'generate').returns('synchronizationId');
    api = new _streamingMetaApiConnection2.default(client, clientApiClient, { id: 'accountId', accountRegions }, undefined, connectionRegistry);
    await api.connect();
    api.historyStorage.onHistoryOrderAdded('vint-hill:1:ps-mpa-1', { doneTime: new Date('2020-01-01T00:00:00.000Z') });
    api.historyStorage.onDealAdded('vint-hill:1:ps-mpa-1', { time: new Date('2020-01-02T00:00:00.000Z') });
    await api.synchronize('vint-hill:1:ps-mpa-1');
    _sinon2.default.assert.calledWith(client.synchronize, 'accountId', 1, 'ps-mpa-1', 'synchronizationId', new Date('2020-01-01T00:00:00.000Z'), new Date('2020-01-02T00:00:00.000Z'));
  });

  /**
   * @test {MetaApiConnection#synchronize}
   */
  it('should synchronize state with terminal from specified time', async () => {
    sandbox.stub(client, 'synchronize').resolves();
    sandbox.stub(_randomstring2.default, 'generate').returns('synchronizationId');
    api = new _streamingMetaApiConnection2.default(client, clientApiClient, { id: 'accountId', accountRegions }, undefined, connectionRegistry, new Date('2020-10-07T00:00:00.000Z'));
    await api.connect();
    api.historyStorage.onHistoryOrderAdded('vint-hill:1:ps-mpa-1', { doneTime: new Date('2020-01-01T00:00:00.000Z') });
    api.historyStorage.onDealAdded('vint-hill:1:ps-mpa-1', { time: new Date('2020-01-02T00:00:00.000Z') });
    await api.synchronize('vint-hill:1:ps-mpa-1');
    _sinon2.default.assert.calledWith(client.synchronize, 'accountId', 1, 'ps-mpa-1', 'synchronizationId', new Date('2020-10-07T00:00:00.000Z'), new Date('2020-10-07T00:00:00.000Z'));
  });

  /**
   * @test {MetaApiConnection#subscribeToMarketData}
   */
  it('should subscribe to market data', async () => {
    await api.connect();
    sandbox.stub(client, 'subscribeToMarketData').resolves();
    let promise = api.subscribeToMarketData('EURUSD', undefined);
    api.terminalState.onSymbolPricesUpdated('vint-hill:1:ps-mpa-1', [{ time: new Date(), symbol: 'EURUSD', bid: 1, ask: 1.1 }]);
    await promise;
    _sinon2.default.assert.calledWith(client.subscribeToMarketData, 'accountId', 'EURUSD', [{ type: 'quotes' }]);
    _sinon2.default.assert.match(api.subscriptions('EURUSD'), [{ type: 'quotes' }]);
    await api.subscribeToMarketData('EURUSD', [{ type: 'books' }, { type: 'candles', timeframe: '1m' }]);
    _sinon2.default.assert.match(api.subscriptions('EURUSD'), [{ type: 'quotes' }, { type: 'books' }, { type: 'candles', timeframe: '1m' }]);
    await api.subscribeToMarketData('EURUSD', [{ type: 'quotes' }, { type: 'candles', timeframe: '5m' }]);
    _sinon2.default.assert.match(api.subscriptions('EURUSD'), [{ type: 'quotes' }, { type: 'books' }, { type: 'candles', timeframe: '1m' }, { type: 'candles', timeframe: '5m' }]);
  });

  /**
   * @test {MetaApiConnection#subscribeToMarketData}
   */
  it('should not subscribe to symbol that has no specification', async () => {
    await api.connect();
    sandbox.stub(client, 'subscribeToMarketData').resolves();
    api.terminalState.onSymbolPricesUpdated('vint-hill:1:ps-mpa-1', [{ time: new Date(), symbol: 'EURUSD', bid: 1, ask: 1.1 }]);
    api.terminalState.onSymbolPricesUpdated('vint-hill:1:ps-mpa-1', [{ time: new Date(), symbol: 'AAAAA', bid: 1, ask: 1.1 }]);
    try {
      await api.subscribeToMarketData('AAAAA');
      throw new Error('ValidationError expected');
    } catch (err) {
      err.name.should.equal('ValidationError');
    }
  });

  /**
   * @test {MetaApiConnection#unsubscribeFromMarketData}
   */
  it('should unsubscribe from market data', async () => {
    await api.connect();
    await api.terminalState.onSymbolPricesUpdated('vint-hill:1:ps-mpa-1', [{ time: new Date(), symbol: 'EURUSD', bid: 1, ask: 1.1 }]);
    sandbox.stub(client, 'unsubscribeFromMarketData').resolves();
    await api.unsubscribeFromMarketData('EURUSD', [{ type: 'quotes' }]);
    _sinon2.default.assert.calledWith(client.unsubscribeFromMarketData, 'accountId', 'EURUSD', [{ type: 'quotes' }]);
    await api.subscribeToMarketData('EURUSD', [{ type: 'quotes' }, { type: 'books' }, { type: 'candles', timeframe: '1m' }, { type: 'candles', timeframe: '5m' }]);
    _sinon2.default.assert.match(api.subscriptions('EURUSD'), [{ type: 'quotes' }, { type: 'books' }, { type: 'candles', timeframe: '1m' }, { type: 'candles', timeframe: '5m' }]);
    await api.unsubscribeFromMarketData('EURUSD', [{ type: 'quotes' }, { type: 'candles', timeframe: '5m' }]);
    _sinon2.default.assert.match(api.subscriptions('EURUSD'), [{ type: 'books' }, { type: 'candles', timeframe: '1m' }]);
  });

  describe('onSubscriptionDowngrade', () => {

    /**
     * @test {MetaApiConnection#onSubscriptionDowngrade}
     */
    it('should unsubscribe during market data subscription downgrade', async () => {
      await api.connect();
      sandbox.stub(api, 'subscribeToMarketData').resolves();
      sandbox.stub(api, 'unsubscribeFromMarketData').resolves();
      await api.onSubscriptionDowngraded('vint-hill:1:ps-mpa-1', 'EURUSD', undefined, [{ type: 'ticks' }, { type: 'books' }]);
      _sinon2.default.assert.calledWith(api.unsubscribeFromMarketData, 'EURUSD', [{ type: 'ticks' }, { type: 'books' }]);
      _sinon2.default.assert.notCalled(api.subscribeToMarketData);
    });

    /**
     * @test {MetaApiConnection#onSubscriptionDowngrade}
     */
    it('should update market data subscription on downgrade', async () => {
      await api.connect();
      sandbox.stub(api, 'subscribeToMarketData').resolves();
      sandbox.stub(api, 'unsubscribeFromMarketData').resolves();
      await api.onSubscriptionDowngraded('vint-hill:1:ps-mpa-1', 'EURUSD', [{ type: 'quotes', intervalInMilliseconds: 30000 }]);
      _sinon2.default.assert.calledWith(api.subscribeToMarketData, 'EURUSD', [{ type: 'quotes', intervalInMilliseconds: 30000 }]);
      _sinon2.default.assert.notCalled(api.unsubscribeFromMarketData);
    });
  });

  /**
   * @test {MetaApiConnection#saveUptime}
   */
  it('should save uptime stats to the server', async () => {
    await api.connect();
    sandbox.stub(client, 'saveUptime').resolves();
    await api.saveUptime({ '1h': 100 });
    _sinon2.default.assert.calledWith(client.saveUptime, 'accountId', { '1h': 100 });
  });

  /**
   * @test {MetaApiConnection#terminalState}
   * @test {MetaApiConnection#historyStorage}
   */
  it('should initialize listeners, terminal state and history storage for accounts with user synch mode', async () => {
    sandbox.stub(client, 'addSynchronizationListener').returns();
    api = new _streamingMetaApiConnection2.default(client, clientApiClient, { id: 'accountId', accountRegions }, undefined, connectionRegistry);
    await api.connect();
    _should2.default.exist(api.terminalState);
    _should2.default.exist(api.historyStorage);
    _sinon2.default.assert.calledWith(client.addSynchronizationListener, 'accountId', api);
    _sinon2.default.assert.calledWith(client.addSynchronizationListener, 'accountId', api.terminalState);
    _sinon2.default.assert.calledWith(client.addSynchronizationListener, 'accountId', api.historyStorage);
  });

  /**
   * @test {MetaApiConnection#addSynchronizationListener}
   */
  it('should add synchronization listeners', async () => {
    sandbox.stub(client, 'addSynchronizationListener').returns();
    api = new _streamingMetaApiConnection2.default(client, clientApiClient, { id: 'accountId', accountRegions }, undefined, connectionRegistry);
    await api.connect();
    let listener = {};
    api.addSynchronizationListener(listener);
    _sinon2.default.assert.calledWith(client.addSynchronizationListener, 'accountId', listener);
  });

  /**
   * @test {MetaApiConnection#removeSynchronizationListener}
   */
  it('should remove synchronization listeners', async () => {
    sandbox.stub(client, 'removeSynchronizationListener').returns();
    api = new _streamingMetaApiConnection2.default(client, clientApiClient, { id: 'accountId', accountRegions }, undefined, connectionRegistry);
    await api.connect();
    let listener = {};
    api.removeSynchronizationListener(listener);
    _sinon2.default.assert.calledWith(client.removeSynchronizationListener, 'accountId', listener);
  });

  /**
   * @test {MetaApiConnection#onConnected}
   */
  it('should sychronize on connection', async () => {
    sandbox.stub(client, 'synchronize').resolves();
    sandbox.stub(_randomstring2.default, 'generate').returns('synchronizationId');
    api = new _streamingMetaApiConnection2.default(client, clientApiClient, { id: 'accountId', accountRegions }, undefined, connectionRegistry);
    await api.connect();
    api.historyStorage.onHistoryOrderAdded('vint-hill:1:ps-mpa-1', { doneTime: new Date('2020-01-01T00:00:00.000Z') });
    api.historyStorage.onDealAdded('vint-hill:1:ps-mpa-1', { time: new Date('2020-01-02T00:00:00.000Z') });
    await api.onConnected('vint-hill:1:ps-mpa-1', 1);
    await new _promise2.default(res => setTimeout(res, 50));
    _sinon2.default.assert.calledWith(client.synchronize, 'accountId', 1, 'ps-mpa-1', 'synchronizationId', new Date('2020-01-01T00:00:00.000Z'), new Date('2020-01-02T00:00:00.000Z'));
  });

  /**
   * @test {MetaApiConnection#onConnected}
   */
  it('should maintain synchronization if connection has failed', async () => {
    let stub = sandbox.stub(client, 'synchronize');
    stub.onFirstCall().throws(new Error('test error'));
    stub.onSecondCall().resolves();
    sandbox.stub(_randomstring2.default, 'generate').returns('synchronizationId');
    api = new _streamingMetaApiConnection2.default(client, clientApiClient, { id: 'accountId', accountRegions }, undefined, connectionRegistry);
    await api.connect();
    await api.historyStorage.onHistoryOrderAdded('vint-hill:1:ps-mpa-1', { doneTime: new Date('2020-01-01T00:00:00.000Z') });
    await api.historyStorage.onDealAdded('vint-hill:1:ps-mpa-1', { time: new Date('2020-01-02T00:00:00.000Z') });
    await api.onConnected('vint-hill:1:ps-mpa-1', 1);
    await new _promise2.default(res => setTimeout(res, 50));
    _sinon2.default.assert.calledWith(client.synchronize, 'accountId', 1, 'ps-mpa-1', 'synchronizationId', new Date('2020-01-01T00:00:00.000Z'), new Date('2020-01-02T00:00:00.000Z'));
  });

  /**
   * @test {MetaApiConnection#onConnected}
   */
  it('should not synchronize if connection is closed', async () => {
    let synchronizeStub = sandbox.stub(client, 'synchronize');
    api = new _streamingMetaApiConnection2.default(client, clientApiClient, { id: 'accountId', accountRegions }, undefined, connectionRegistry);
    await api.connect();
    await api.historyStorage.onHistoryOrderAdded('vint-hill:1:ps-mpa-1', { doneTime: new Date('2020-01-01T00:00:00.000Z') });
    await api.historyStorage.onDealAdded('vint-hill:1:ps-mpa-1', { time: new Date('2020-01-02T00:00:00.000Z') });
    await api.close();
    await api.onConnected('vint-hill:1:ps-mpa-1', 1);
    _sinon2.default.assert.notCalled(synchronizeStub);
  });

  /**
   * @test {MetaApiConnection#close}
   */
  it('should unsubscribe from events on close', async () => {
    sandbox.stub(client, 'addSynchronizationListener').returns();
    sandbox.stub(client, 'removeSynchronizationListener').returns();
    sandbox.stub(client, 'unsubscribe').resolves();
    sandbox.stub(connectionRegistry, 'remove').returns();
    api = new _streamingMetaApiConnection2.default(client, clientApiClient, { id: 'accountId', accountRegions }, undefined, connectionRegistry);
    await api.connect();
    await api.close();
    _sinon2.default.assert.calledWith(client.unsubscribe, 'accountId');
    _sinon2.default.assert.calledWith(client.removeSynchronizationListener, 'accountId', api);
    _sinon2.default.assert.calledWith(client.removeSynchronizationListener, 'accountId', api.terminalState);
    _sinon2.default.assert.calledWith(client.removeSynchronizationListener, 'accountId', api.historyStorage);
    _sinon2.default.assert.calledWith(connectionRegistry.remove, 'accountId');
  });

  describe('waitSynchronized', () => {

    /**
     * @test {MetaApiConnection#waitSynchronized}
     */
    it('should wait util synchronization complete', async () => {
      await api.connect();
      sandbox.stub(client, 'waitSynchronized').resolves();
      _sinon2.default.assert.match((await api.isSynchronized('vint-hill:1:ps-mpa-1')), false);
      (await api.isSynchronized()).should.equal(false);
      let promise = api.waitSynchronized({ applicationPattern: 'app.*', synchronizationId: 'synchronizationId',
        timeoutInSeconds: 1, intervalInMilliseconds: 10 });
      let startTime = Date.now();
      await _promise2.default.race([promise, new _promise2.default(res => setTimeout(res, 50))]);
      (Date.now() - startTime).should.be.approximately(50, 10);
      api.onHistoryOrdersSynchronized('vint-hill:1:ps-mpa-1', 'synchronizationId');
      api.onDealsSynchronized('vint-hill:1:ps-mpa-1', 'synchronizationId');
      startTime = Date.now();
      await promise;
      (Date.now() - startTime).should.be.approximately(10, 10);
      (await api.isSynchronized('vint-hill:1:ps-mpa-1', 'synchronizationId')).should.equal(true);
      _sinon2.default.assert.calledWith(client.waitSynchronized, 'accountId', 1, 'app.*', 0.92);
    });

    /**
     * @test {MetaApiConnection#waitSynchronized}
     */
    it('should wait synchronize on a replica', async () => {
      await api.connect();
      sandbox.stub(client, 'waitSynchronized').resolves();
      _sinon2.default.assert.match((await api.isSynchronized('new-york:1:ps-mpa-1')), false);
      (await api.isSynchronized()).should.equal(false);
      let promise = api.waitSynchronized({ applicationPattern: 'app.*', synchronizationId: 'synchronizationId',
        timeoutInSeconds: 1, intervalInMilliseconds: 10 });
      let startTime = Date.now();
      await _promise2.default.race([promise, new _promise2.default(res => setTimeout(res, 50))]);
      (Date.now() - startTime).should.be.approximately(50, 10);
      api.onHistoryOrdersSynchronized('new-york:1:ps-mpa-1', 'synchronizationId');
      api.onDealsSynchronized('new-york:1:ps-mpa-1', 'synchronizationId');
      startTime = Date.now();
      await promise;
      (Date.now() - startTime).should.be.approximately(10, 10);
      (await api.isSynchronized('new-york:1:ps-mpa-1', 'synchronizationId')).should.equal(true);
      _sinon2.default.assert.calledWith(client.waitSynchronized, 'accountIdReplica', 1, 'app.*', 0.92);
    });

    /**
     * @test {MetaApiConnection#waitSynchronized}
     */
    it('should time out waiting for synchronization complete', async () => {
      await api.connect();
      try {
        await api.waitSynchronized({ applicationPattern: 'app.*', synchronizationId: 'synchronizationId',
          timeoutInSeconds: 1, intervalInMilliseconds: 10 });
        throw new Error('TimeoutError is expected');
      } catch (err) {
        err.name.should.equal('TimeoutError');
      }
      (await api.isSynchronized('synchronizationId')).should.equal(false);
    });
  });

  /**
   * @test {MetaApiConnection#initialize}
   */
  it('should initialize connection', async () => {
    const addCacheStub = sandbox.stub(client, 'addAccountCache');
    await api.connect();
    sandbox.stub(api.historyStorage, 'initialize').resolves();
    await api.initialize();
    _sinon2.default.assert.calledOnce(api.historyStorage.initialize);
    _sinon2.default.assert.calledWith(addCacheStub, 'accountId', { 'new-york': 'accountIdReplica', 'vint-hill': 'accountId' });
  });

  /**
   * @test {MetaApiConnection#onDisconnected}
   */
  it('should set synchronized false on disconnect', async () => {
    await api.connect();
    await api.onConnected('vint-hill:1:ps-mpa-1', 2);
    await new _promise2.default(res => setTimeout(res, 50));
    _sinon2.default.assert.match(api.synchronized, true);
    await api.onDisconnected('vint-hill:1:ps-mpa-1');
    _sinon2.default.assert.match(api.synchronized, false);
  });

  /**
   * @test {MetaApiConnection#onDisconnected}
   */
  it('should delete state if stream closed', async () => {
    await api.connect();
    await api.onConnected('vint-hill:1:ps-mpa-1', 2);
    await new _promise2.default(res => setTimeout(res, 50));
    _sinon2.default.assert.match(api.synchronized, true);
    await api.onStreamClosed('vint-hill:1:ps-mpa-1');
    _sinon2.default.assert.match(api.synchronized, false);
  });

  /**
   * @test {MetaApiConnection#onDisconnected}
   */
  it('should create refresh subscriptions job', async () => {
    await api.connect();
    sandbox.stub(client, 'refreshMarketDataSubscriptions').resolves();
    sandbox.stub(client, 'subscribeToMarketData').resolves();
    sandbox.stub(client, 'waitSynchronized').resolves();
    await api.onSynchronizationStarted('vint-hill:1:ps-mpa-1');
    await clock.tickAsync(50);
    _sinon2.default.assert.calledWith(client.refreshMarketDataSubscriptions, 'accountId', 1, []);
    api.terminalState.onSymbolPricesUpdated('vint-hill:1:ps-mpa-1', [{ time: new Date(), symbol: 'EURUSD', bid: 1, ask: 1.1 }]);
    await api.subscribeToMarketData('EURUSD', [{ type: 'quotes' }], 1);
    await clock.tickAsync(1050);
    _sinon2.default.assert.calledWith(client.refreshMarketDataSubscriptions, 'accountId', 1, [{ symbol: 'EURUSD', subscriptions: [{ type: 'quotes' }] }]);
    _sinon2.default.assert.callCount(client.refreshMarketDataSubscriptions, 2);
    await api.onDisconnected('vint-hill:1:ps-mpa-1');
    await clock.tickAsync(1050);
    _sinon2.default.assert.callCount(client.refreshMarketDataSubscriptions, 2);
    await api.onSynchronizationStarted('vint-hill:1:ps-mpa-1');
    await clock.tickAsync(50);
    _sinon2.default.assert.callCount(client.refreshMarketDataSubscriptions, 3);
    await api.close();
    await clock.tickAsync(1050);
    _sinon2.default.assert.callCount(client.refreshMarketDataSubscriptions, 3);
  });

  /**
   * @test {MetaApiConnection#onDisconnected}
   */
  it('should create refresh subscriptions job with a replica', async () => {
    await api.connect();
    sandbox.stub(client, 'refreshMarketDataSubscriptions').resolves();
    sandbox.stub(client, 'subscribeToMarketData').resolves();
    sandbox.stub(client, 'waitSynchronized').resolves();
    await api.onSynchronizationStarted('new-york:1:ps-mpa-1');
    await clock.tickAsync(50);
    _sinon2.default.assert.calledWith(client.refreshMarketDataSubscriptions, 'accountIdReplica', 1, []);
    api.terminalState.onSymbolPricesUpdated('new-york:1:ps-mpa-1', [{ time: new Date(), symbol: 'EURUSD', bid: 1, ask: 1.1 }]);
    await api.subscribeToMarketData('EURUSD', [{ type: 'quotes' }], 1);
    await clock.tickAsync(1050);
    _sinon2.default.assert.calledWith(client.refreshMarketDataSubscriptions, 'accountIdReplica', 1, [{ symbol: 'EURUSD', subscriptions: [{ type: 'quotes' }] }]);
    _sinon2.default.assert.callCount(client.refreshMarketDataSubscriptions, 2);
    await api.onDisconnected('new-york:1:ps-mpa-1');
    await clock.tickAsync(1050);
    _sinon2.default.assert.callCount(client.refreshMarketDataSubscriptions, 2);
    await api.onSynchronizationStarted('new-york:1:ps-mpa-1');
    await clock.tickAsync(50);
    _sinon2.default.assert.callCount(client.refreshMarketDataSubscriptions, 3);
    await api.close();
    await clock.tickAsync(1050);
    _sinon2.default.assert.callCount(client.refreshMarketDataSubscriptions, 3);
  });

  /**
   * @test {MetaApiConnection#onUnsubscribeRegion}
   */
  it('should remove subscription job on region unsubscribe', async () => {
    await api.connect();
    sandbox.stub(client, 'refreshMarketDataSubscriptions').resolves();
    sandbox.stub(client, 'subscribeToMarketData').resolves();
    sandbox.stub(client, 'waitSynchronized').resolves();
    await api.onSynchronizationStarted('vint-hill:1:ps-mpa-1');
    await clock.tickAsync(50);
    _sinon2.default.assert.calledWith(client.refreshMarketDataSubscriptions, 'accountId', 1, []);
    await clock.tickAsync(1050);
    _sinon2.default.assert.callCount(client.refreshMarketDataSubscriptions, 2);
    await api.onUnsubscribeRegion('vint-hill');
    await clock.tickAsync(1050);
    _sinon2.default.assert.callCount(client.refreshMarketDataSubscriptions, 2);
  });

  /**
   * @test {StreamingMetaApiConnection#queueEvent}
   */
  it('should queue events', () => {
    sandbox.stub(client, 'queueEvent').returns();
    let eventCallable = () => {};
    api.queueEvent('test', eventCallable);
    _sinon2.default.assert.calledOnceWithExactly(client.queueEvent, 'accountId', 'test', eventCallable);
  });

  /**
   * @test {StreamingMetaApiConnection#onReconnected}
   */
  it('should clear region states on socket reconnect', async () => {
    await api.connect();
    sandbox.stub(client, 'refreshMarketDataSubscriptions').resolves();
    sandbox.stub(client, 'subscribeToMarketData').resolves();
    sandbox.stub(client, 'waitSynchronized').resolves();
    await api.onSynchronizationStarted('new-york:1:ps-mpa-1');
    await api.onSynchronizationStarted('vint-hill:1:ps-mpa-1');
    await clock.tickAsync(50);
    _sinon2.default.assert.calledWith(client.refreshMarketDataSubscriptions, 'accountIdReplica', 1, []);
    _sinon2.default.assert.calledWith(client.refreshMarketDataSubscriptions, 'accountId', 1, []);
    api.terminalState.onSymbolPricesUpdated('new-york:1:ps-mpa-1', [{ time: new Date(), symbol: 'EURUSD', bid: 1, ask: 1.1 }]);
    api.terminalState.onSymbolPricesUpdated('vint-hill:1:ps-mpa-1', [{ time: new Date(), symbol: 'EURUSD', bid: 1, ask: 1.1 }]);
    await api.subscribeToMarketData('EURUSD', [{ type: 'quotes' }], 1);
    await clock.tickAsync(1050);
    _sinon2.default.assert.callCount(client.refreshMarketDataSubscriptions, 4);
    await api.onReconnected('new-york', 1);
    await clock.tickAsync(1050);
    _sinon2.default.assert.callCount(client.refreshMarketDataSubscriptions, 5);
    await api.onReconnected('vint-hill', 1);
    await clock.tickAsync(1050);
    _sinon2.default.assert.callCount(client.refreshMarketDataSubscriptions, 5);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9tZXRhQXBpL3N0cmVhbWluZ01ldGFBcGlDb25uZWN0aW9uLnNwZWMuZXM2Il0sIm5hbWVzIjpbImRlc2NyaWJlIiwic2FuZGJveCIsImFwaSIsImFjY291bnQiLCJjbG9jayIsImNsaWVudCIsImdldEFjY291bnRJbmZvcm1hdGlvbiIsImdldFBvc2l0aW9ucyIsImdldFBvc2l0aW9uIiwiZ2V0T3JkZXJzIiwiZ2V0T3JkZXIiLCJnZXRIaXN0b3J5T3JkZXJzQnlUaWNrZXQiLCJnZXRIaXN0b3J5T3JkZXJzQnlQb3NpdGlvbiIsImdldEhpc3RvcnlPcmRlcnNCeVRpbWVSYW5nZSIsImdldERlYWxzQnlUaWNrZXQiLCJnZXREZWFsc0J5UG9zaXRpb24iLCJnZXREZWFsc0J5VGltZVJhbmdlIiwicmVtb3ZlQXBwbGljYXRpb24iLCJ0cmFkZSIsImNhbGN1bGF0ZU1hcmdpbiIsInJlY29ubmVjdCIsInN5bmNocm9uaXplIiwiZW5zdXJlU3Vic2NyaWJlIiwic3Vic2NyaWJlVG9NYXJrZXREYXRhIiwidW5zdWJzY3JpYmVGcm9tTWFya2V0RGF0YSIsImFkZFN5bmNocm9uaXphdGlvbkxpc3RlbmVyIiwiYWRkUmVjb25uZWN0TGlzdGVuZXIiLCJyZW1vdmVTeW5jaHJvbml6YXRpb25MaXN0ZW5lciIsInJlbW92ZVJlY29ubmVjdExpc3RlbmVyIiwiZ2V0U3ltYm9scyIsImdldFN5bWJvbFNwZWNpZmljYXRpb24iLCJnZXRTeW1ib2xQcmljZSIsImdldENhbmRsZSIsImdldFRpY2siLCJnZXRCb29rIiwic2F2ZVVwdGltZSIsIndhaXRTeW5jaHJvbml6ZWQiLCJ1bnN1YnNjcmliZSIsInJlZnJlc2hNYXJrZXREYXRhU3Vic2NyaXB0aW9ucyIsInJlZ2lvbnNCeUFjY291bnRzIiwiYWRkQWNjb3VudENhY2hlIiwiZ2V0QWNjb3VudFJlZ2lvbiIsImFjY291bnRJZCIsInJlbW92ZUFjY291bnRDYWNoZSIsInF1ZXVlRXZlbnQiLCJjbGllbnRBcGlDbGllbnQiLCJnZXRIYXNoaW5nSWdub3JlZEZpZWxkTGlzdHMiLCJnMSIsInNwZWNpZmljYXRpb24iLCJwb3NpdGlvbiIsIm9yZGVyIiwiZzIiLCJjb25uZWN0aW9uUmVnaXN0cnkiLCJjb25uZWN0IiwicmVtb3ZlIiwiYXBwbGljYXRpb24iLCJhY2NvdW50UmVnaW9ucyIsImJlZm9yZSIsInNpbm9uIiwiY3JlYXRlU2FuZGJveCIsImJlZm9yZUVhY2giLCJpZCIsInN0YXRlIiwicmVnaW9uIiwicmVsb2FkIiwiU3RyZWFtaW5nTWV0YUFwaUNvbm5lY3Rpb24iLCJ1bmRlZmluZWQiLCJtaW5EZWxheUluU2Vjb25kcyIsIm1heERlbGF5SW5TZWNvbmRzIiwic3R1YiIsIl90ZXJtaW5hbFN0YXRlIiwid2l0aEFyZ3MiLCJyZXR1cm5zIiwic3ltYm9sIiwidXNlRmFrZVRpbWVycyIsInNob3VsZEFkdmFuY2VUaW1lIiwiYWZ0ZXJFYWNoIiwicmVzdG9yZSIsIml0IiwicmVzb2x2ZXMiLCJoaXN0b3J5U3RvcmFnZSIsImFzc2VydCIsImNhbGxlZFdpdGgiLCJjYWxsZWRPbmNlIiwiY2xlYXIiLCJ0cmFkZVJlc3VsdCIsImVycm9yIiwiZGVzY3JpcHRpb24iLCJvcmRlcklkIiwiYWN0dWFsIiwiY3JlYXRlTWFya2V0QnV5T3JkZXIiLCJjb21tZW50IiwiY2xpZW50SWQiLCJzaG91bGQiLCJtYXRjaCIsImFjdGlvblR5cGUiLCJ2b2x1bWUiLCJzdG9wTG9zcyIsInRha2VQcm9maXQiLCJ2YWx1ZSIsInVuaXRzIiwic3RvcExvc3NVbml0cyIsInRha2VQcm9maXRVbml0cyIsImNyZWF0ZU1hcmtldFNlbGxPcmRlciIsImNyZWF0ZUxpbWl0QnV5T3JkZXIiLCJvcGVuUHJpY2UiLCJjcmVhdGVMaW1pdFNlbGxPcmRlciIsImNyZWF0ZVN0b3BCdXlPcmRlciIsImNyZWF0ZVN0b3BTZWxsT3JkZXIiLCJjcmVhdGVTdG9wTGltaXRCdXlPcmRlciIsInN0b3BMaW1pdFByaWNlIiwiY3JlYXRlU3RvcExpbWl0U2VsbE9yZGVyIiwicG9zaXRpb25JZCIsIm1vZGlmeVBvc2l0aW9uIiwiY2xvc2VQb3NpdGlvblBhcnRpYWxseSIsImNsb3NlUG9zaXRpb24iLCJjbG9zZUJ5UG9zaXRpb25JZCIsImNsb3NlQnkiLCJjbG9zZVBvc2l0aW9uc0J5U3ltYm9sIiwibW9kaWZ5T3JkZXIiLCJjYW5jZWxPcmRlciIsIm1hcmdpbiIsInR5cGUiLCJzdWJzY3JpYmUiLCJlbnN1cmVTdWJzY3JpYmVTdHViIiwiRXJyb3IiLCJlcnIiLCJtZXNzYWdlIiwiZXF1YWwiLCJub3RDYWxsZWQiLCJjbG9zZSIsInJhbmRvbXN0cmluZyIsIm9uSGlzdG9yeU9yZGVyQWRkZWQiLCJkb25lVGltZSIsIkRhdGUiLCJvbkRlYWxBZGRlZCIsInRpbWUiLCJwcm9taXNlIiwidGVybWluYWxTdGF0ZSIsIm9uU3ltYm9sUHJpY2VzVXBkYXRlZCIsImJpZCIsImFzayIsInN1YnNjcmlwdGlvbnMiLCJ0aW1lZnJhbWUiLCJuYW1lIiwib25TdWJzY3JpcHRpb25Eb3duZ3JhZGVkIiwiaW50ZXJ2YWxJbk1pbGxpc2Vjb25kcyIsImV4aXN0IiwibGlzdGVuZXIiLCJvbkNvbm5lY3RlZCIsInJlcyIsInNldFRpbWVvdXQiLCJvbkZpcnN0Q2FsbCIsInRocm93cyIsIm9uU2Vjb25kQ2FsbCIsInN5bmNocm9uaXplU3R1YiIsImlzU3luY2hyb25pemVkIiwiYXBwbGljYXRpb25QYXR0ZXJuIiwic3luY2hyb25pemF0aW9uSWQiLCJ0aW1lb3V0SW5TZWNvbmRzIiwic3RhcnRUaW1lIiwibm93IiwicmFjZSIsImJlIiwiYXBwcm94aW1hdGVseSIsIm9uSGlzdG9yeU9yZGVyc1N5bmNocm9uaXplZCIsIm9uRGVhbHNTeW5jaHJvbml6ZWQiLCJhZGRDYWNoZVN0dWIiLCJpbml0aWFsaXplIiwic3luY2hyb25pemVkIiwib25EaXNjb25uZWN0ZWQiLCJvblN0cmVhbUNsb3NlZCIsIm9uU3luY2hyb25pemF0aW9uU3RhcnRlZCIsInRpY2tBc3luYyIsImNhbGxDb3VudCIsIm9uVW5zdWJzY3JpYmVSZWdpb24iLCJldmVudENhbGxhYmxlIiwiY2FsbGVkT25jZVdpdGhFeGFjdGx5Iiwib25SZWNvbm5lY3RlZCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7OztBQUVBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7OztBQUVBOzs7QUFHQTtBQUNBQSxTQUFTLDRCQUFULEVBQXVDLE1BQU07O0FBRTNDLE1BQUlDLE9BQUo7QUFDQSxNQUFJQyxHQUFKO0FBQ0EsTUFBSUMsT0FBSjtBQUNBLE1BQUlDLEtBQUo7QUFDQSxNQUFJQyxTQUFTO0FBQ1hDLDJCQUF1QixNQUFNLENBQUUsQ0FEcEI7QUFFWEMsa0JBQWMsTUFBTSxDQUFFLENBRlg7QUFHWEMsaUJBQWEsTUFBTSxDQUFFLENBSFY7QUFJWEMsZUFBVyxNQUFNLENBQUUsQ0FKUjtBQUtYQyxjQUFVLE1BQU0sQ0FBRSxDQUxQO0FBTVhDLDhCQUEwQixNQUFNLENBQUUsQ0FOdkI7QUFPWEMsZ0NBQTRCLE1BQU0sQ0FBRSxDQVB6QjtBQVFYQyxpQ0FBNkIsTUFBTSxDQUFFLENBUjFCO0FBU1hDLHNCQUFrQixNQUFNLENBQUUsQ0FUZjtBQVVYQyx3QkFBb0IsTUFBTSxDQUFFLENBVmpCO0FBV1hDLHlCQUFxQixNQUFNLENBQUUsQ0FYbEI7QUFZWEMsdUJBQW1CLE1BQU0sQ0FBRSxDQVpoQjtBQWFYQyxXQUFPLE1BQU0sQ0FBRSxDQWJKO0FBY1hDLHFCQUFpQixNQUFNLENBQUUsQ0FkZDtBQWVYQyxlQUFXLE1BQU0sQ0FBRSxDQWZSO0FBZ0JYQyxpQkFBYSxNQUFNLElBaEJSO0FBaUJYQyxxQkFBaUIsTUFBTSxDQUFFLENBakJkO0FBa0JYQywyQkFBdUIsTUFBTSxDQUFFLENBbEJwQjtBQW1CWEMsK0JBQTJCLE1BQU0sQ0FBRSxDQW5CeEI7QUFvQlhDLGdDQUE0QixNQUFNLENBQUUsQ0FwQnpCO0FBcUJYQywwQkFBc0IsTUFBTSxDQUFFLENBckJuQjtBQXNCWEMsbUNBQStCLE1BQU0sQ0FBRSxDQXRCNUI7QUF1QlhDLDZCQUF5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QUFnQixJQUFoQixDQUFOO0FBQ0FuSCxvQkFBTXVCLE1BQU4sQ0FBYTZGLFNBQWIsQ0FBdUJ6SyxPQUFPaUMsOEJBQTlCLEVBQThELENBQTlEO0FBQ0EsVUFBTXBDLElBQUlnTCxhQUFKLENBQWtCLFdBQWxCLEVBQStCLENBQS9CLENBQU47QUFDQSxVQUFNOUssTUFBTXlLLFNBQU4sQ0FBZ0IsSUFBaEIsQ0FBTjtBQUNBbkgsb0JBQU11QixNQUFOLENBQWE2RixTQUFiLENBQXVCekssT0FBT2lDLDhCQUE5QixFQUE4RCxDQUE5RDtBQUNELEdBdkJEO0FBeUJELENBMzZCRCIsImZpbGUiOiJzdHJlYW1pbmdNZXRhQXBpQ29ubmVjdGlvbi5zcGVjLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgc2hvdWxkIGZyb20gJ3Nob3VsZCc7XG5pbXBvcnQgc2lub24gZnJvbSAnc2lub24nO1xuaW1wb3J0IFN0cmVhbWluZ01ldGFBcGlDb25uZWN0aW9uIGZyb20gJy4vc3RyZWFtaW5nTWV0YUFwaUNvbm5lY3Rpb24nO1xuaW1wb3J0IE5vdFN5bmNocm9uaXplZEVycm9yIGZyb20gJy4uL2NsaWVudHMvbWV0YUFwaS9ub3RTeW5jaHJvbml6ZWRFcnJvcic7XG5pbXBvcnQgcmFuZG9tc3RyaW5nIGZyb20gJ3JhbmRvbXN0cmluZyc7XG5cbi8qKlxuICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9ufVxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LXN0YXRlbWVudHNcbmRlc2NyaWJlKCdTdHJlYW1pbmdNZXRhQXBpQ29ubmVjdGlvbicsICgpID0+IHtcblxuICBsZXQgc2FuZGJveDtcbiAgbGV0IGFwaTtcbiAgbGV0IGFjY291bnQ7XG4gIGxldCBjbG9jaztcbiAgbGV0IGNsaWVudCA9IHtcbiAgICBnZXRBY2NvdW50SW5mb3JtYXRpb246ICgpID0+IHt9LFxuICAgIGdldFBvc2l0aW9uczogKCkgPT4ge30sXG4gICAgZ2V0UG9zaXRpb246ICgpID0+IHt9LFxuICAgIGdldE9yZGVyczogKCkgPT4ge30sXG4gICAgZ2V0T3JkZXI6ICgpID0+IHt9LFxuICAgIGdldEhpc3RvcnlPcmRlcnNCeVRpY2tldDogKCkgPT4ge30sXG4gICAgZ2V0SGlzdG9yeU9yZGVyc0J5UG9zaXRpb246ICgpID0+IHt9LFxuICAgIGdldEhpc3RvcnlPcmRlcnNCeVRpbWVSYW5nZTogKCkgPT4ge30sXG4gICAgZ2V0RGVhbHNCeVRpY2tldDogKCkgPT4ge30sXG4gICAgZ2V0RGVhbHNCeVBvc2l0aW9uOiAoKSA9PiB7fSxcbiAgICBnZXREZWFsc0J5VGltZVJhbmdlOiAoKSA9PiB7fSxcbiAgICByZW1vdmVBcHBsaWNhdGlvbjogKCkgPT4ge30sXG4gICAgdHJhZGU6ICgpID0+IHt9LFxuICAgIGNhbGN1bGF0ZU1hcmdpbjogKCkgPT4ge30sXG4gICAgcmVjb25uZWN0OiAoKSA9PiB7fSxcbiAgICBzeW5jaHJvbml6ZTogKCkgPT4gdHJ1ZSxcbiAgICBlbnN1cmVTdWJzY3JpYmU6ICgpID0+IHt9LFxuICAgIHN1YnNjcmliZVRvTWFya2V0RGF0YTogKCkgPT4ge30sXG4gICAgdW5zdWJzY3JpYmVGcm9tTWFya2V0RGF0YTogKCkgPT4ge30sXG4gICAgYWRkU3luY2hyb25pemF0aW9uTGlzdGVuZXI6ICgpID0+IHt9LFxuICAgIGFkZFJlY29ubmVjdExpc3RlbmVyOiAoKSA9PiB7fSxcbiAgICByZW1vdmVTeW5jaHJvbml6YXRpb25MaXN0ZW5lcjogKCkgPT4ge30sXG4gICAgcmVtb3ZlUmVjb25uZWN0TGlzdGVuZXI6ICgpID0+IHt9LFxuICAgIGdldFN5bWJvbHM6ICgpID0+IHt9LFxuICAgIGdldFN5bWJvbFNwZWNpZmljYXRpb246ICgpID0+IHt9LFxuICAgIGdldFN5bWJvbFByaWNlOiAoKSA9PiB7fSxcbiAgICBnZXRDYW5kbGU6ICgpID0+IHt9LFxuICAgIGdldFRpY2s6ICgpID0+IHt9LFxuICAgIGdldEJvb2s6ICgpID0+IHt9LFxuICAgIHNhdmVVcHRpbWU6ICgpID0+IHt9LFxuICAgIHdhaXRTeW5jaHJvbml6ZWQ6ICgpID0+IHt9LFxuICAgIHVuc3Vic2NyaWJlOiAoKSA9PiB7fSxcbiAgICByZWZyZXNoTWFya2V0RGF0YVN1YnNjcmlwdGlvbnM6ICgpID0+IHt9LFxuICAgIHJlZ2lvbnNCeUFjY291bnRzOiB7fSxcbiAgICBhZGRBY2NvdW50Q2FjaGU6ICgpID0+IHt9LFxuICAgIGdldEFjY291bnRSZWdpb246IChhY2NvdW50SWQpID0+IGFjY291bnRJZCA9PT0gJ2FjY291bnRJZFJlcGxpY2EnID8gJ25ldy15b3JrJyA6ICd2aW50LWhpbGwnLFxuICAgIHJlbW92ZUFjY291bnRDYWNoZTogKCkgPT4ge30sXG4gICAgcXVldWVFdmVudDogKCkgPT4ge31cbiAgfTtcblxuICBsZXQgY2xpZW50QXBpQ2xpZW50ID0ge1xuICAgIGdldEhhc2hpbmdJZ25vcmVkRmllbGRMaXN0czogKCkgPT4gKHtcbiAgICAgIGcxOiB7XG4gICAgICAgIHNwZWNpZmljYXRpb246IFtcbiAgICAgICAgICAnZGVzY3JpcHRpb24nLFxuICAgICAgICBdLFxuICAgICAgICBwb3NpdGlvbjogW1xuICAgICAgICAgICd0aW1lJyxcbiAgICAgICAgXSxcbiAgICAgICAgb3JkZXI6IFtcbiAgICAgICAgICAndGltZScsXG4gICAgICAgIF1cbiAgICAgIH0sXG4gICAgICBnMjoge1xuICAgICAgICBzcGVjaWZpY2F0aW9uOiBbXG4gICAgICAgICAgJ3BpcFNpemUnXG4gICAgICAgIF0sXG4gICAgICAgIHBvc2l0aW9uOiBbXG4gICAgICAgICAgJ2NvbW1lbnQnLFxuICAgICAgICBdLFxuICAgICAgICBvcmRlcjogW1xuICAgICAgICAgICdjb21tZW50JyxcbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pXG4gIH07XG5cbiAgbGV0IGNvbm5lY3Rpb25SZWdpc3RyeSA9IHtcbiAgICBjb25uZWN0OiAoKSA9PiB7fSxcbiAgICByZW1vdmU6ICgpID0+IHt9LFxuICAgIGFwcGxpY2F0aW9uOiAnTWV0YUFwaSdcbiAgfTtcblxuICBsZXQgYWNjb3VudFJlZ2lvbnMgPSB7XG4gICAgJ3ZpbnQtaGlsbCc6ICdhY2NvdW50SWQnLFxuICAgICduZXcteW9yayc6ICdhY2NvdW50SWRSZXBsaWNhJ1xuICB9O1xuXG4gIGJlZm9yZSgoKSA9PiB7XG4gICAgc2FuZGJveCA9IHNpbm9uLmNyZWF0ZVNhbmRib3goKTtcbiAgfSk7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgYWNjb3VudCA9IHtcbiAgICAgIGlkOiAnYWNjb3VudElkJywgXG4gICAgICBzdGF0ZTogJ0RFUExPWUVEJyxcbiAgICAgIHJlZ2lvbjogJ3ZpbnQtaGlsbCcsXG4gICAgICBhY2NvdW50UmVnaW9ucyxcbiAgICAgIHJlbG9hZDogKCkgPT4ge31cbiAgICB9O1xuICAgIGFwaSA9IG5ldyBTdHJlYW1pbmdNZXRhQXBpQ29ubmVjdGlvbihjbGllbnQsIGNsaWVudEFwaUNsaWVudCwgYWNjb3VudCwgdW5kZWZpbmVkLCBjb25uZWN0aW9uUmVnaXN0cnksIDAsIHtcbiAgICAgIG1pbkRlbGF5SW5TZWNvbmRzOiAxLFxuICAgICAgbWF4RGVsYXlJblNlY29uZHM6IDFcbiAgICB9KTtcbiAgICBzYW5kYm94LnN0dWIoYXBpLl90ZXJtaW5hbFN0YXRlLCAnc3BlY2lmaWNhdGlvbicpLndpdGhBcmdzKCdFVVJVU0QnKS5yZXR1cm5zKHtzeW1ib2w6ICdFVVJVU0QnfSk7XG4gICAgY2xvY2sgPSBzaW5vbi51c2VGYWtlVGltZXJzKHtcbiAgICAgIHNob3VsZEFkdmFuY2VUaW1lOiB0cnVlXG4gICAgfSk7XG4gIH0pO1xuXG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgY2xvY2sucmVzdG9yZSgpO1xuICAgIHNhbmRib3gucmVzdG9yZSgpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI3JlbW92ZUFwcGxpY2F0aW9ufVxuICAgKi9cbiAgaXQoJ3Nob3VsZCByZW1vdmUgYXBwbGljYXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgYXBpLmNvbm5lY3QoKTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAncmVtb3ZlQXBwbGljYXRpb24nKS5yZXNvbHZlcygpO1xuICAgIHNhbmRib3guc3R1YihhcGkuaGlzdG9yeVN0b3JhZ2UsICdjbGVhcicpLnJlc29sdmVzKCk7XG4gICAgYXdhaXQgYXBpLnJlbW92ZUFwcGxpY2F0aW9uKCk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnJlbW92ZUFwcGxpY2F0aW9uLCAnYWNjb3VudElkJyk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZE9uY2UoYXBpLmhpc3RvcnlTdG9yYWdlLmNsZWFyKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNjcmVhdGVNYXJrZXRCdXlPcmRlcn1cbiAgICovXG4gIGl0KCdzaG91bGQgY3JlYXRlIG1hcmtldCBidXkgb3JkZXInLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgYXBpLmNvbm5lY3QoKTtcbiAgICBsZXQgdHJhZGVSZXN1bHQgPSB7XG4gICAgICBlcnJvcjogMTAwMDksXG4gICAgICBkZXNjcmlwdGlvbjogJ1RSQURFX1JFVENPREVfRE9ORScsXG4gICAgICBvcmRlcklkOiA0Njg3MDQ3MlxuICAgIH07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3RyYWRlJykucmVzb2x2ZXModHJhZGVSZXN1bHQpO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBhcGkuY3JlYXRlTWFya2V0QnV5T3JkZXIoJ0dCUFVTRCcsIDAuMDcsIDAuOSwgMi4wLCB7Y29tbWVudDogJ2NvbW1lbnQnLFxuICAgICAgY2xpZW50SWQ6ICdURV9HQlBVU0RfN2h5SU5XcUFsRSd9KTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHRyYWRlUmVzdWx0KTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQudHJhZGUsICdhY2NvdW50SWQnLCBzaW5vbi5tYXRjaCh7YWN0aW9uVHlwZTogJ09SREVSX1RZUEVfQlVZJywgc3ltYm9sOiAnR0JQVVNEJyxcbiAgICAgIHZvbHVtZTogMC4wNywgc3RvcExvc3M6IDAuOSwgdGFrZVByb2ZpdDogMi4wLCBjb21tZW50OiAnY29tbWVudCcsIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnfSkpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2NyZWF0ZU1hcmtldEJ1eU9yZGVyfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBjcmVhdGUgbWFya2V0IGJ1eSBvcmRlciB3aXRoIHJlbGF0aXZlIFNML1RQJywgYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGFwaS5jb25uZWN0KCk7XG4gICAgbGV0IHRyYWRlUmVzdWx0ID0ge1xuICAgICAgZXJyb3I6IDEwMDA5LFxuICAgICAgZGVzY3JpcHRpb246ICdUUkFERV9SRVRDT0RFX0RPTkUnLFxuICAgICAgb3JkZXJJZDogNDY4NzA0NzJcbiAgICB9O1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICd0cmFkZScpLnJlc29sdmVzKHRyYWRlUmVzdWx0KTtcbiAgICBsZXQgYWN0dWFsID0gYXdhaXQgYXBpLmNyZWF0ZU1hcmtldEJ1eU9yZGVyKCdHQlBVU0QnLCAwLjA3LCB7dmFsdWU6IDAuMSwgdW5pdHM6ICdSRUxBVElWRV9QUklDRSd9LFxuICAgICAge3ZhbHVlOiAyMDAwLCB1bml0czogJ1JFTEFUSVZFX1BPSU5UUyd9LCB7Y29tbWVudDogJ2NvbW1lbnQnLCBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJ30pO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2godHJhZGVSZXN1bHQpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC50cmFkZSwgJ2FjY291bnRJZCcsIHNpbm9uLm1hdGNoKHthY3Rpb25UeXBlOiAnT1JERVJfVFlQRV9CVVknLCBzeW1ib2w6ICdHQlBVU0QnLFxuICAgICAgdm9sdW1lOiAwLjA3LCBzdG9wTG9zczogMC4xLCBzdG9wTG9zc1VuaXRzOiAnUkVMQVRJVkVfUFJJQ0UnLCB0YWtlUHJvZml0OiAyMDAwLFxuICAgICAgdGFrZVByb2ZpdFVuaXRzOiAnUkVMQVRJVkVfUE9JTlRTJywgY29tbWVudDogJ2NvbW1lbnQnLCBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJ30pKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNjcmVhdGVNYXJrZXRTZWxsT3JkZXJ9XG4gICAqL1xuICBpdCgnc2hvdWxkIGNyZWF0ZSBtYXJrZXQgc2VsbCBvcmRlcicsIGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBhcGkuY29ubmVjdCgpO1xuICAgIGxldCB0cmFkZVJlc3VsdCA9IHtcbiAgICAgIGVycm9yOiAxMDAwOSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVFJBREVfUkVUQ09ERV9ET05FJyxcbiAgICAgIG9yZGVySWQ6IDQ2ODcwNDcyXG4gICAgfTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAndHJhZGUnKS5yZXNvbHZlcyh0cmFkZVJlc3VsdCk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5jcmVhdGVNYXJrZXRTZWxsT3JkZXIoJ0dCUFVTRCcsIDAuMDcsIDIuMCwgMC45LCB7Y29tbWVudDogJ2NvbW1lbnQnLFxuICAgICAgY2xpZW50SWQ6ICdURV9HQlBVU0RfN2h5SU5XcUFsRSd9KTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHRyYWRlUmVzdWx0KTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQudHJhZGUsICdhY2NvdW50SWQnLCBzaW5vbi5tYXRjaCh7YWN0aW9uVHlwZTogJ09SREVSX1RZUEVfU0VMTCcsIHN5bWJvbDogJ0dCUFVTRCcsXG4gICAgICB2b2x1bWU6IDAuMDcsIHN0b3BMb3NzOiAyLjAsIHRha2VQcm9maXQ6IDAuOSwgY29tbWVudDogJ2NvbW1lbnQnLCBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJ30pKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNjcmVhdGVMaW1pdEJ1eU9yZGVyfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBjcmVhdGUgbGltaXQgYnV5IG9yZGVyJywgYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGFwaS5jb25uZWN0KCk7XG4gICAgbGV0IHRyYWRlUmVzdWx0ID0ge1xuICAgICAgZXJyb3I6IDEwMDA5LFxuICAgICAgZGVzY3JpcHRpb246ICdUUkFERV9SRVRDT0RFX0RPTkUnLFxuICAgICAgb3JkZXJJZDogNDY4NzA0NzJcbiAgICB9O1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICd0cmFkZScpLnJlc29sdmVzKHRyYWRlUmVzdWx0KTtcbiAgICBsZXQgYWN0dWFsID0gYXdhaXQgYXBpLmNyZWF0ZUxpbWl0QnV5T3JkZXIoJ0dCUFVTRCcsIDAuMDcsIDEuMCwgMC45LCAyLjAsIHtjb21tZW50OiAnY29tbWVudCcsXG4gICAgICBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJ30pO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2godHJhZGVSZXN1bHQpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC50cmFkZSwgJ2FjY291bnRJZCcsIHNpbm9uLm1hdGNoKHthY3Rpb25UeXBlOiAnT1JERVJfVFlQRV9CVVlfTElNSVQnLFxuICAgICAgc3ltYm9sOiAnR0JQVVNEJywgdm9sdW1lOiAwLjA3LCBvcGVuUHJpY2U6IDEuMCwgc3RvcExvc3M6IDAuOSwgdGFrZVByb2ZpdDogMi4wLCBjb21tZW50OiAnY29tbWVudCcsXG4gICAgICBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJ30pKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNjcmVhdGVMaW1pdFNlbGxPcmRlcn1cbiAgICovXG4gIGl0KCdzaG91bGQgY3JlYXRlIGxpbWl0IHNlbGwgb3JkZXInLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgYXBpLmNvbm5lY3QoKTtcbiAgICBsZXQgdHJhZGVSZXN1bHQgPSB7XG4gICAgICBlcnJvcjogMTAwMDksXG4gICAgICBkZXNjcmlwdGlvbjogJ1RSQURFX1JFVENPREVfRE9ORScsXG4gICAgICBvcmRlcklkOiA0Njg3MDQ3MlxuICAgIH07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3RyYWRlJykucmVzb2x2ZXModHJhZGVSZXN1bHQpO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBhcGkuY3JlYXRlTGltaXRTZWxsT3JkZXIoJ0dCUFVTRCcsIDAuMDcsIDEuNSwgMi4wLCAwLjksIHtjb21tZW50OiAnY29tbWVudCcsXG4gICAgICBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJ30pO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2godHJhZGVSZXN1bHQpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC50cmFkZSwgJ2FjY291bnRJZCcsIHNpbm9uLm1hdGNoKHthY3Rpb25UeXBlOiAnT1JERVJfVFlQRV9TRUxMX0xJTUlUJyxcbiAgICAgIHN5bWJvbDogJ0dCUFVTRCcsIHZvbHVtZTogMC4wNywgb3BlblByaWNlOiAxLjUsIHN0b3BMb3NzOiAyLjAsIHRha2VQcm9maXQ6IDAuOSwgY29tbWVudDogJ2NvbW1lbnQnLFxuICAgICAgY2xpZW50SWQ6ICdURV9HQlBVU0RfN2h5SU5XcUFsRSd9KSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jY3JlYXRlU3RvcEJ1eU9yZGVyfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBjcmVhdGUgc3RvcCBidXkgb3JkZXInLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgYXBpLmNvbm5lY3QoKTtcbiAgICBsZXQgdHJhZGVSZXN1bHQgPSB7XG4gICAgICBlcnJvcjogMTAwMDksXG4gICAgICBkZXNjcmlwdGlvbjogJ1RSQURFX1JFVENPREVfRE9ORScsXG4gICAgICBvcmRlcklkOiA0Njg3MDQ3MlxuICAgIH07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3RyYWRlJykucmVzb2x2ZXModHJhZGVSZXN1bHQpO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBhcGkuY3JlYXRlU3RvcEJ1eU9yZGVyKCdHQlBVU0QnLCAwLjA3LCAxLjUsIDAuOSwgMi4wLCB7Y29tbWVudDogJ2NvbW1lbnQnLFxuICAgICAgY2xpZW50SWQ6ICdURV9HQlBVU0RfN2h5SU5XcUFsRSd9KTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHRyYWRlUmVzdWx0KTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQudHJhZGUsICdhY2NvdW50SWQnLCBzaW5vbi5tYXRjaCh7YWN0aW9uVHlwZTogJ09SREVSX1RZUEVfQlVZX1NUT1AnLFxuICAgICAgc3ltYm9sOiAnR0JQVVNEJywgdm9sdW1lOiAwLjA3LCBvcGVuUHJpY2U6IDEuNSwgc3RvcExvc3M6IDAuOSwgdGFrZVByb2ZpdDogMi4wLCBjb21tZW50OiAnY29tbWVudCcsXG4gICAgICBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJ30pKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNjcmVhdGVTdG9wU2VsbE9yZGVyfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBjcmVhdGUgc3RvcCBzZWxsIG9yZGVyJywgYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGFwaS5jb25uZWN0KCk7XG4gICAgbGV0IHRyYWRlUmVzdWx0ID0ge1xuICAgICAgZXJyb3I6IDEwMDA5LFxuICAgICAgZGVzY3JpcHRpb246ICdUUkFERV9SRVRDT0RFX0RPTkUnLFxuICAgICAgb3JkZXJJZDogJzQ2ODcwNDcyJ1xuICAgIH07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3RyYWRlJykucmVzb2x2ZXModHJhZGVSZXN1bHQpO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBhcGkuY3JlYXRlU3RvcFNlbGxPcmRlcignR0JQVVNEJywgMC4wNywgMS4wLCAyLjAsIDAuOSwge2NvbW1lbnQ6ICdjb21tZW50JyxcbiAgICAgIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnfSk7XG4gICAgYWN0dWFsLnNob3VsZC5tYXRjaCh0cmFkZVJlc3VsdCk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnRyYWRlLCAnYWNjb3VudElkJywgc2lub24ubWF0Y2goe2FjdGlvblR5cGU6ICdPUkRFUl9UWVBFX1NFTExfU1RPUCcsXG4gICAgICBzeW1ib2w6ICdHQlBVU0QnLCB2b2x1bWU6IDAuMDcsIG9wZW5QcmljZTogMS4wLCBzdG9wTG9zczogMi4wLCB0YWtlUHJvZml0OiAwLjksIGNvbW1lbnQ6ICdjb21tZW50JyxcbiAgICAgIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnfSkpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2NyZWF0ZVN0b3BMaW1pdEJ1eU9yZGVyfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBjcmVhdGUgc3RvcCBsaW1pdCBidXkgb3JkZXInLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgYXBpLmNvbm5lY3QoKTtcbiAgICBsZXQgdHJhZGVSZXN1bHQgPSB7XG4gICAgICBlcnJvcjogMTAwMDksXG4gICAgICBkZXNjcmlwdGlvbjogJ1RSQURFX1JFVENPREVfRE9ORScsXG4gICAgICBvcmRlcklkOiA0Njg3MDQ3MlxuICAgIH07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3RyYWRlJykucmVzb2x2ZXModHJhZGVSZXN1bHQpO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBhcGkuY3JlYXRlU3RvcExpbWl0QnV5T3JkZXIoJ0dCUFVTRCcsIDAuMDcsIDEuNSwgMS40LCAwLjksIDIuMCwge2NvbW1lbnQ6ICdjb21tZW50JyxcbiAgICAgIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnfSk7XG4gICAgYWN0dWFsLnNob3VsZC5tYXRjaCh0cmFkZVJlc3VsdCk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnRyYWRlLCAnYWNjb3VudElkJywgc2lub24ubWF0Y2goe2FjdGlvblR5cGU6ICdPUkRFUl9UWVBFX0JVWV9TVE9QX0xJTUlUJyxcbiAgICAgIHN5bWJvbDogJ0dCUFVTRCcsIHZvbHVtZTogMC4wNywgb3BlblByaWNlOiAxLjUsIHN0b3BMaW1pdFByaWNlOiAxLjQsIHN0b3BMb3NzOiAwLjksIHRha2VQcm9maXQ6IDIuMCxcbiAgICAgIGNvbW1lbnQ6ICdjb21tZW50JywgY2xpZW50SWQ6ICdURV9HQlBVU0RfN2h5SU5XcUFsRSd9KSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jY3JlYXRlU3RvcExpbWl0U2VsbE9yZGVyfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBjcmVhdGUgc3RvcCBsaW1pdCBzZWxsIG9yZGVyJywgYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGFwaS5jb25uZWN0KCk7XG4gICAgbGV0IHRyYWRlUmVzdWx0ID0ge1xuICAgICAgZXJyb3I6IDEwMDA5LFxuICAgICAgZGVzY3JpcHRpb246ICdUUkFERV9SRVRDT0RFX0RPTkUnLFxuICAgICAgb3JkZXJJZDogJzQ2ODcwNDcyJ1xuICAgIH07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3RyYWRlJykucmVzb2x2ZXModHJhZGVSZXN1bHQpO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBhcGkuY3JlYXRlU3RvcExpbWl0U2VsbE9yZGVyKCdHQlBVU0QnLCAwLjA3LCAxLjAsIDEuMSwgMi4wLCAwLjksIHtjb21tZW50OiAnY29tbWVudCcsXG4gICAgICBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJ30pO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2godHJhZGVSZXN1bHQpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC50cmFkZSwgJ2FjY291bnRJZCcsIHNpbm9uLm1hdGNoKHthY3Rpb25UeXBlOiAnT1JERVJfVFlQRV9TRUxMX1NUT1BfTElNSVQnLFxuICAgICAgc3ltYm9sOiAnR0JQVVNEJywgdm9sdW1lOiAwLjA3LCBvcGVuUHJpY2U6IDEuMCwgc3RvcExpbWl0UHJpY2U6IDEuMSwgc3RvcExvc3M6IDIuMCwgdGFrZVByb2ZpdDogMC45LFxuICAgICAgY29tbWVudDogJ2NvbW1lbnQnLCBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJ30pKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNtb2RpZnlQb3NpdGlvbn1cbiAgICovXG4gIGl0KCdzaG91bGQgbW9kaWZ5IHBvc2l0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGFwaS5jb25uZWN0KCk7XG4gICAgbGV0IHRyYWRlUmVzdWx0ID0ge1xuICAgICAgZXJyb3I6IDEwMDA5LFxuICAgICAgZGVzY3JpcHRpb246ICdUUkFERV9SRVRDT0RFX0RPTkUnLFxuICAgICAgcG9zaXRpb25JZDogJzQ2ODcwNDcyJ1xuICAgIH07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3RyYWRlJykucmVzb2x2ZXModHJhZGVSZXN1bHQpO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBhcGkubW9kaWZ5UG9zaXRpb24oJzQ2ODcwNDcyJywgMi4wLCAwLjkpO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2godHJhZGVSZXN1bHQpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC50cmFkZSwgJ2FjY291bnRJZCcsIHNpbm9uLm1hdGNoKHthY3Rpb25UeXBlOiAnUE9TSVRJT05fTU9ESUZZJyxcbiAgICAgIHBvc2l0aW9uSWQ6ICc0Njg3MDQ3MicsIHN0b3BMb3NzOiAyLjAsIHRha2VQcm9maXQ6IDAuOX0pKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNjbG9zZVBvc2l0aW9uUGFydGlhbGx5fVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBjbG9zZSBwb3NpdGlvbiBwYXJ0aWFsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgYXBpLmNvbm5lY3QoKTtcbiAgICBsZXQgdHJhZGVSZXN1bHQgPSB7XG4gICAgICBlcnJvcjogMTAwMDksXG4gICAgICBkZXNjcmlwdGlvbjogJ1RSQURFX1JFVENPREVfRE9ORScsXG4gICAgICBwb3NpdGlvbklkOiAnNDY4NzA0NzInXG4gICAgfTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAndHJhZGUnKS5yZXNvbHZlcyh0cmFkZVJlc3VsdCk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5jbG9zZVBvc2l0aW9uUGFydGlhbGx5KCc0Njg3MDQ3MicsIDAuOSwge2NvbW1lbnQ6ICdjb21tZW50JyxcbiAgICAgIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnfSk7XG4gICAgYWN0dWFsLnNob3VsZC5tYXRjaCh0cmFkZVJlc3VsdCk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnRyYWRlLCAnYWNjb3VudElkJywgc2lub24ubWF0Y2goe2FjdGlvblR5cGU6ICdQT1NJVElPTl9QQVJUSUFMJyxcbiAgICAgIHBvc2l0aW9uSWQ6ICc0Njg3MDQ3MicsIHZvbHVtZTogMC45LCBjb21tZW50OiAnY29tbWVudCcsIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnfSkpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2Nsb3NlUG9zaXRpb259XG4gICAqL1xuICBpdCgnc2hvdWxkIGNsb3NlIHBvc2l0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGFwaS5jb25uZWN0KCk7XG4gICAgbGV0IHRyYWRlUmVzdWx0ID0ge1xuICAgICAgZXJyb3I6IDEwMDA5LFxuICAgICAgZGVzY3JpcHRpb246ICdUUkFERV9SRVRDT0RFX0RPTkUnLFxuICAgICAgcG9zaXRpb25JZDogJzQ2ODcwNDcyJ1xuICAgIH07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3RyYWRlJykucmVzb2x2ZXModHJhZGVSZXN1bHQpO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBhcGkuY2xvc2VQb3NpdGlvbignNDY4NzA0NzInLCB7Y29tbWVudDogJ2NvbW1lbnQnLCBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJ30pO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2godHJhZGVSZXN1bHQpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC50cmFkZSwgJ2FjY291bnRJZCcsIHNpbm9uLm1hdGNoKHthY3Rpb25UeXBlOiAnUE9TSVRJT05fQ0xPU0VfSUQnLFxuICAgICAgcG9zaXRpb25JZDogJzQ2ODcwNDcyJywgY29tbWVudDogJ2NvbW1lbnQnLCBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJ30pKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNjbG9zZUJ5fVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBjbG9zZSBwb3NpdGlvbiBieSBhbiBvcHBvc2l0ZSBvbmUnLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgYXBpLmNvbm5lY3QoKTtcbiAgICBsZXQgdHJhZGVSZXN1bHQgPSB7XG4gICAgICBlcnJvcjogMTAwMDksXG4gICAgICBkZXNjcmlwdGlvbjogJ1RSQURFX1JFVENPREVfRE9ORScsXG4gICAgICBwb3NpdGlvbklkOiAnNDY4NzA0NzInLFxuICAgICAgY2xvc2VCeVBvc2l0aW9uSWQ6ICc0Njg3MDQ4MidcbiAgICB9O1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICd0cmFkZScpLnJlc29sdmVzKHRyYWRlUmVzdWx0KTtcbiAgICBsZXQgYWN0dWFsID0gYXdhaXQgYXBpLmNsb3NlQnkoJzQ2ODcwNDcyJywgJzQ2ODcwNDgyJywge2NvbW1lbnQ6ICdjb21tZW50JywgY2xpZW50SWQ6ICdURV9HQlBVU0RfN2h5SU5XcUFsRSd9KTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHRyYWRlUmVzdWx0KTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQudHJhZGUsICdhY2NvdW50SWQnLCBzaW5vbi5tYXRjaCh7YWN0aW9uVHlwZTogJ1BPU0lUSU9OX0NMT1NFX0JZJyxcbiAgICAgIHBvc2l0aW9uSWQ6ICc0Njg3MDQ3MicsIGNsb3NlQnlQb3NpdGlvbklkOiAnNDY4NzA0ODInLCBjb21tZW50OiAnY29tbWVudCcsIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnfSkpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2Nsb3NlUG9zaXRpb25zQnlTeW1ib2x9XG4gICAqL1xuICBpdCgnc2hvdWxkIGNsb3NlIHBvc2l0aW9ucyBieSBzeW1ib2wnLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgYXBpLmNvbm5lY3QoKTtcbiAgICBsZXQgdHJhZGVSZXN1bHQgPSB7XG4gICAgICBlcnJvcjogMTAwMDksXG4gICAgICBkZXNjcmlwdGlvbjogJ1RSQURFX1JFVENPREVfRE9ORScsXG4gICAgICBwb3NpdGlvbklkOiAnNDY4NzA0NzInXG4gICAgfTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAndHJhZGUnKS5yZXNvbHZlcyh0cmFkZVJlc3VsdCk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5jbG9zZVBvc2l0aW9uc0J5U3ltYm9sKCdFVVJVU0QnLCB7Y29tbWVudDogJ2NvbW1lbnQnLCBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJ30pO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2godHJhZGVSZXN1bHQpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC50cmFkZSwgJ2FjY291bnRJZCcsIHNpbm9uLm1hdGNoKHthY3Rpb25UeXBlOiAnUE9TSVRJT05TX0NMT1NFX1NZTUJPTCcsXG4gICAgICBzeW1ib2w6ICdFVVJVU0QnLCBjb21tZW50OiAnY29tbWVudCcsIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnfSkpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI21vZGlmeU9yZGVyfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBtb2RpZnkgb3JkZXInLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgYXBpLmNvbm5lY3QoKTtcbiAgICBsZXQgdHJhZGVSZXN1bHQgPSB7XG4gICAgICBlcnJvcjogMTAwMDksXG4gICAgICBkZXNjcmlwdGlvbjogJ1RSQURFX1JFVENPREVfRE9ORScsXG4gICAgICBvcmRlcklkOiAnNDY4NzA0NzInXG4gICAgfTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAndHJhZGUnKS5yZXNvbHZlcyh0cmFkZVJlc3VsdCk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5tb2RpZnlPcmRlcignNDY4NzA0NzInLCAxLjAsIDIuMCwgMC45KTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHRyYWRlUmVzdWx0KTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQudHJhZGUsICdhY2NvdW50SWQnLCBzaW5vbi5tYXRjaCh7YWN0aW9uVHlwZTogJ09SREVSX01PRElGWScsIG9yZGVySWQ6ICc0Njg3MDQ3MicsXG4gICAgICBvcGVuUHJpY2U6IDEuMCwgc3RvcExvc3M6IDIuMCwgdGFrZVByb2ZpdDogMC45fSkpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2NhbmNlbE9yZGVyfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBjYW5jZWwgb3JkZXInLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgYXBpLmNvbm5lY3QoKTtcbiAgICBsZXQgdHJhZGVSZXN1bHQgPSB7XG4gICAgICBlcnJvcjogMTAwMDksXG4gICAgICBkZXNjcmlwdGlvbjogJ1RSQURFX1JFVENPREVfRE9ORScsXG4gICAgICBvcmRlcklkOiAnNDY4NzA0NzInXG4gICAgfTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAndHJhZGUnKS5yZXNvbHZlcyh0cmFkZVJlc3VsdCk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5jYW5jZWxPcmRlcignNDY4NzA0NzInKTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHRyYWRlUmVzdWx0KTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQudHJhZGUsICdhY2NvdW50SWQnLCBzaW5vbi5tYXRjaCh7YWN0aW9uVHlwZTogJ09SREVSX0NBTkNFTCcsIG9yZGVySWQ6ICc0Njg3MDQ3Mid9KSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jY2FsY3VsYXRlTWFyZ2lufVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBjYWxjdWxhdGUgbWFyZ2luJywgYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGFwaS5jb25uZWN0KCk7XG4gICAgbGV0IG1hcmdpbiA9IHtcbiAgICAgIG1hcmdpbjogMTEwXG4gICAgfTtcbiAgICBsZXQgb3JkZXIgPSB7XG4gICAgICBzeW1ib2w6ICdFVVJVU0QnLFxuICAgICAgdHlwZTogJ09SREVSX1RZUEVfQlVZJyxcbiAgICAgIHZvbHVtZTogMC4xLFxuICAgICAgb3BlblByaWNlOiAxLjFcbiAgICB9O1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdjYWxjdWxhdGVNYXJnaW4nKS5yZXNvbHZlcyhtYXJnaW4pO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBhcGkuY2FsY3VsYXRlTWFyZ2luKG9yZGVyKTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKG1hcmdpbik7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LmNhbGN1bGF0ZU1hcmdpbiwgJ2FjY291bnRJZCcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBzaW5vbi5tYXRjaChvcmRlcikpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI3N1YnNjcmliZX1cbiAgICovXG4gIGRlc2NyaWJlKCdlbnN1cmUgc3Vic2NyaWJlJywgKCkgPT4ge1xuXG4gICAgLyoqXG4gICAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI3N1YnNjcmliZX1cbiAgICAgKi9cbiAgICBpdCgnc2hvdWxkIHN1YnNjcmliZSB0byB0ZXJtaW5hbCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IGFwaS5jb25uZWN0KCk7XG4gICAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnZW5zdXJlU3Vic2NyaWJlJykucmVzb2x2ZXMoKTtcbiAgICAgIGF3YWl0IGFwaS5zdWJzY3JpYmUoKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5lbnN1cmVTdWJzY3JpYmUsICdhY2NvdW50SWQnLCAwKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5lbnN1cmVTdWJzY3JpYmUsICdhY2NvdW50SWQnLCAxKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5lbnN1cmVTdWJzY3JpYmUsICdhY2NvdW50SWRSZXBsaWNhJywgMCk7XG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuZW5zdXJlU3Vic2NyaWJlLCAnYWNjb3VudElkUmVwbGljYScsIDEpO1xuICAgIH0pO1xuXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jc3luY2hyb25pemV9XG4gICAqL1xuICBpdCgnc2hvdWxkIG5vdCBzdWJzY3JpYmUgaWYgY29ubmVjdGlvbiBpcyBub3Qgb3BlbicsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBlbnN1cmVTdWJzY3JpYmVTdHViID0gc2FuZGJveC5zdHViKGNsaWVudCwgJ2Vuc3VyZVN1YnNjcmliZScpLnJlc29sdmVzKCk7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGFwaS5zdWJzY3JpYmUoKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXJyb3IgaXMgZXhwZWN0ZWQnKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGVyci5tZXNzYWdlLnNob3VsZC5lcXVhbCgnVGhpcyBjb25uZWN0aW9uIGhhcyBub3QgYmVlbiBpbml0aWFsaXplZCB5ZXQsJytcbiAgICAgICAgJyBwbGVhc2UgaW52b2tlIGF3YWl0IGNvbm5lY3Rpb24uY29ubmVjdCgpJyk7XG4gICAgfVxuICAgIHNpbm9uLmFzc2VydC5ub3RDYWxsZWQoZW5zdXJlU3Vic2NyaWJlU3R1Yik7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jc3luY2hyb25pemV9XG4gICAqL1xuICBpdCgnc2hvdWxkIG5vdCBzdWJzY3JpYmUgaWYgY29ubmVjdGlvbiBpcyBjbG9zZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgYXBpLmNvbm5lY3QoKTtcbiAgICBjb25zdCBlbnN1cmVTdWJzY3JpYmVTdHViID0gc2FuZGJveC5zdHViKGNsaWVudCwgJ2Vuc3VyZVN1YnNjcmliZScpLnJlc29sdmVzKCk7XG4gICAgYXdhaXQgYXBpLmNsb3NlKCk7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGFwaS5zdWJzY3JpYmUoKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXJyb3IgaXMgZXhwZWN0ZWQnKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGVyci5tZXNzYWdlLnNob3VsZC5lcXVhbCgnVGhpcyBjb25uZWN0aW9uIGhhcyBiZWVuIGNsb3NlZCwgcGxlYXNlIGNyZWF0ZSBhIG5ldyBjb25uZWN0aW9uJyk7XG4gICAgfVxuICAgIHNpbm9uLmFzc2VydC5ub3RDYWxsZWQoZW5zdXJlU3Vic2NyaWJlU3R1Yik7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jc3luY2hyb25pemV9XG4gICAqL1xuICBpdCgnc2hvdWxkIHN5bmNocm9uaXplIHN0YXRlIHdpdGggdGVybWluYWwnLCBhc3luYyAoKSA9PiB7XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3N5bmNocm9uaXplJykucmVzb2x2ZXMoKTtcbiAgICBzYW5kYm94LnN0dWIocmFuZG9tc3RyaW5nLCAnZ2VuZXJhdGUnKS5yZXR1cm5zKCdzeW5jaHJvbml6YXRpb25JZCcpO1xuICAgIGFwaSA9IG5ldyBTdHJlYW1pbmdNZXRhQXBpQ29ubmVjdGlvbihjbGllbnQsIGNsaWVudEFwaUNsaWVudCwge2lkOiAnYWNjb3VudElkJywgYWNjb3VudFJlZ2lvbnN9LFxuICAgICAgdW5kZWZpbmVkLCBjb25uZWN0aW9uUmVnaXN0cnkpO1xuICAgIGF3YWl0IGFwaS5jb25uZWN0KCk7XG4gICAgYXBpLmhpc3RvcnlTdG9yYWdlLm9uSGlzdG9yeU9yZGVyQWRkZWQoJ3ZpbnQtaGlsbDoxOnBzLW1wYS0xJywge2RvbmVUaW1lOiBuZXcgRGF0ZSgnMjAyMC0wMS0wMVQwMDowMDowMC4wMDBaJyl9KTtcbiAgICBhcGkuaGlzdG9yeVN0b3JhZ2Uub25EZWFsQWRkZWQoJ3ZpbnQtaGlsbDoxOnBzLW1wYS0xJywge3RpbWU6IG5ldyBEYXRlKCcyMDIwLTAxLTAyVDAwOjAwOjAwLjAwMFonKX0pO1xuICAgIGF3YWl0IGFwaS5zeW5jaHJvbml6ZSgndmludC1oaWxsOjE6cHMtbXBhLTEnKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuc3luY2hyb25pemUsICdhY2NvdW50SWQnLCAxLCAncHMtbXBhLTEnLCAnc3luY2hyb25pemF0aW9uSWQnLFxuICAgICAgbmV3IERhdGUoJzIwMjAtMDEtMDFUMDA6MDA6MDAuMDAwWicpLCBuZXcgRGF0ZSgnMjAyMC0wMS0wMlQwMDowMDowMC4wMDBaJykpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI3N5bmNocm9uaXplfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBzeW5jaHJvbml6ZSBzdGF0ZSB3aXRoIHRlcm1pbmFsIGZyb20gc3BlY2lmaWVkIHRpbWUnLCBhc3luYyAoKSA9PiB7XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3N5bmNocm9uaXplJykucmVzb2x2ZXMoKTtcbiAgICBzYW5kYm94LnN0dWIocmFuZG9tc3RyaW5nLCAnZ2VuZXJhdGUnKS5yZXR1cm5zKCdzeW5jaHJvbml6YXRpb25JZCcpO1xuICAgIGFwaSA9IG5ldyBTdHJlYW1pbmdNZXRhQXBpQ29ubmVjdGlvbihjbGllbnQsIGNsaWVudEFwaUNsaWVudCwge2lkOiAnYWNjb3VudElkJywgYWNjb3VudFJlZ2lvbnN9LCB1bmRlZmluZWQsXG4gICAgICBjb25uZWN0aW9uUmVnaXN0cnksIG5ldyBEYXRlKCcyMDIwLTEwLTA3VDAwOjAwOjAwLjAwMFonKSk7XG4gICAgYXdhaXQgYXBpLmNvbm5lY3QoKTtcbiAgICBhcGkuaGlzdG9yeVN0b3JhZ2Uub25IaXN0b3J5T3JkZXJBZGRlZCgndmludC1oaWxsOjE6cHMtbXBhLTEnLCB7ZG9uZVRpbWU6IG5ldyBEYXRlKCcyMDIwLTAxLTAxVDAwOjAwOjAwLjAwMFonKX0pO1xuICAgIGFwaS5oaXN0b3J5U3RvcmFnZS5vbkRlYWxBZGRlZCgndmludC1oaWxsOjE6cHMtbXBhLTEnLCB7dGltZTogbmV3IERhdGUoJzIwMjAtMDEtMDJUMDA6MDA6MDAuMDAwWicpfSk7XG4gICAgYXdhaXQgYXBpLnN5bmNocm9uaXplKCd2aW50LWhpbGw6MTpwcy1tcGEtMScpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5zeW5jaHJvbml6ZSwgJ2FjY291bnRJZCcsIDEsICdwcy1tcGEtMScsICdzeW5jaHJvbml6YXRpb25JZCcsXG4gICAgICBuZXcgRGF0ZSgnMjAyMC0xMC0wN1QwMDowMDowMC4wMDBaJyksIG5ldyBEYXRlKCcyMDIwLTEwLTA3VDAwOjAwOjAwLjAwMFonKSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jc3Vic2NyaWJlVG9NYXJrZXREYXRhfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBzdWJzY3JpYmUgdG8gbWFya2V0IGRhdGEnLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgYXBpLmNvbm5lY3QoKTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnc3Vic2NyaWJlVG9NYXJrZXREYXRhJykucmVzb2x2ZXMoKTtcbiAgICBsZXQgcHJvbWlzZSA9IGFwaS5zdWJzY3JpYmVUb01hcmtldERhdGEoJ0VVUlVTRCcsIHVuZGVmaW5lZCk7XG4gICAgYXBpLnRlcm1pbmFsU3RhdGUub25TeW1ib2xQcmljZXNVcGRhdGVkKCd2aW50LWhpbGw6MTpwcy1tcGEtMScsIFxuICAgICAgW3t0aW1lOiBuZXcgRGF0ZSgpLCBzeW1ib2w6ICdFVVJVU0QnLCBiaWQ6IDEsIGFzazogMS4xfV0pO1xuICAgIGF3YWl0IHByb21pc2U7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnN1YnNjcmliZVRvTWFya2V0RGF0YSwgJ2FjY291bnRJZCcsICdFVVJVU0QnLCBbe3R5cGU6ICdxdW90ZXMnfV0pO1xuICAgIHNpbm9uLmFzc2VydC5tYXRjaChhcGkuc3Vic2NyaXB0aW9ucygnRVVSVVNEJyksIFt7dHlwZTogJ3F1b3Rlcyd9XSk7XG4gICAgYXdhaXQgYXBpLnN1YnNjcmliZVRvTWFya2V0RGF0YSgnRVVSVVNEJywgW3t0eXBlOiAnYm9va3MnfSwge3R5cGU6ICdjYW5kbGVzJywgdGltZWZyYW1lOiAnMW0nfV0pO1xuICAgIHNpbm9uLmFzc2VydC5tYXRjaChhcGkuc3Vic2NyaXB0aW9ucygnRVVSVVNEJyksIFt7dHlwZTogJ3F1b3Rlcyd9LCB7dHlwZTogJ2Jvb2tzJ30sXG4gICAgICB7dHlwZTogJ2NhbmRsZXMnLCB0aW1lZnJhbWU6ICcxbSd9XSk7XG4gICAgYXdhaXQgYXBpLnN1YnNjcmliZVRvTWFya2V0RGF0YSgnRVVSVVNEJywgW3t0eXBlOiAncXVvdGVzJ30sIHt0eXBlOiAnY2FuZGxlcycsIHRpbWVmcmFtZTogJzVtJ31dKTtcbiAgICBzaW5vbi5hc3NlcnQubWF0Y2goYXBpLnN1YnNjcmlwdGlvbnMoJ0VVUlVTRCcpLCBbe3R5cGU6ICdxdW90ZXMnfSwge3R5cGU6ICdib29rcyd9LFxuICAgICAge3R5cGU6ICdjYW5kbGVzJywgdGltZWZyYW1lOiAnMW0nfSwge3R5cGU6ICdjYW5kbGVzJywgdGltZWZyYW1lOiAnNW0nfV0pO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI3N1YnNjcmliZVRvTWFya2V0RGF0YX1cbiAgICovXG4gIGl0KCdzaG91bGQgbm90IHN1YnNjcmliZSB0byBzeW1ib2wgdGhhdCBoYXMgbm8gc3BlY2lmaWNhdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBhcGkuY29ubmVjdCgpO1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdzdWJzY3JpYmVUb01hcmtldERhdGEnKS5yZXNvbHZlcygpO1xuICAgIGFwaS50ZXJtaW5hbFN0YXRlLm9uU3ltYm9sUHJpY2VzVXBkYXRlZCgndmludC1oaWxsOjE6cHMtbXBhLTEnLCBcbiAgICAgIFt7dGltZTogbmV3IERhdGUoKSwgc3ltYm9sOiAnRVVSVVNEJywgYmlkOiAxLCBhc2s6IDEuMX1dKTtcbiAgICBhcGkudGVybWluYWxTdGF0ZS5vblN5bWJvbFByaWNlc1VwZGF0ZWQoJ3ZpbnQtaGlsbDoxOnBzLW1wYS0xJywgXG4gICAgICBbe3RpbWU6IG5ldyBEYXRlKCksIHN5bWJvbDogJ0FBQUFBJywgYmlkOiAxLCBhc2s6IDEuMX1dKTtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgYXBpLnN1YnNjcmliZVRvTWFya2V0RGF0YSgnQUFBQUEnKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVmFsaWRhdGlvbkVycm9yIGV4cGVjdGVkJyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBlcnIubmFtZS5zaG91bGQuZXF1YWwoJ1ZhbGlkYXRpb25FcnJvcicpO1xuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiN1bnN1YnNjcmliZUZyb21NYXJrZXREYXRhfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCB1bnN1YnNjcmliZSBmcm9tIG1hcmtldCBkYXRhJywgYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGFwaS5jb25uZWN0KCk7XG4gICAgYXdhaXQgYXBpLnRlcm1pbmFsU3RhdGUub25TeW1ib2xQcmljZXNVcGRhdGVkKCd2aW50LWhpbGw6MTpwcy1tcGEtMScsXG4gICAgICBbe3RpbWU6IG5ldyBEYXRlKCksIHN5bWJvbDogJ0VVUlVTRCcsIGJpZDogMSwgYXNrOiAxLjF9XSk7XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3Vuc3Vic2NyaWJlRnJvbU1hcmtldERhdGEnKS5yZXNvbHZlcygpO1xuICAgIGF3YWl0IGFwaS51bnN1YnNjcmliZUZyb21NYXJrZXREYXRhKCdFVVJVU0QnLCBbe3R5cGU6ICdxdW90ZXMnfV0pO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC51bnN1YnNjcmliZUZyb21NYXJrZXREYXRhLCAnYWNjb3VudElkJywgJ0VVUlVTRCcsIFt7dHlwZTogJ3F1b3Rlcyd9XSk7XG4gICAgYXdhaXQgYXBpLnN1YnNjcmliZVRvTWFya2V0RGF0YSgnRVVSVVNEJywgW3t0eXBlOiAncXVvdGVzJ30sIHt0eXBlOiAnYm9va3MnfSxcbiAgICAgIHt0eXBlOiAnY2FuZGxlcycsIHRpbWVmcmFtZTogJzFtJ30sIHt0eXBlOiAnY2FuZGxlcycsIHRpbWVmcmFtZTogJzVtJ31dKTtcbiAgICBzaW5vbi5hc3NlcnQubWF0Y2goYXBpLnN1YnNjcmlwdGlvbnMoJ0VVUlVTRCcpLCBbe3R5cGU6ICdxdW90ZXMnfSwge3R5cGU6ICdib29rcyd9LFxuICAgICAge3R5cGU6ICdjYW5kbGVzJywgdGltZWZyYW1lOiAnMW0nfSwge3R5cGU6ICdjYW5kbGVzJywgdGltZWZyYW1lOiAnNW0nfV0pO1xuICAgIGF3YWl0IGFwaS51bnN1YnNjcmliZUZyb21NYXJrZXREYXRhKCdFVVJVU0QnLCBbe3R5cGU6ICdxdW90ZXMnfSwge3R5cGU6ICdjYW5kbGVzJywgdGltZWZyYW1lOiAnNW0nfV0pO1xuICAgIHNpbm9uLmFzc2VydC5tYXRjaChhcGkuc3Vic2NyaXB0aW9ucygnRVVSVVNEJyksIFt7dHlwZTogJ2Jvb2tzJ30sIHt0eXBlOiAnY2FuZGxlcycsIHRpbWVmcmFtZTogJzFtJ31dKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ29uU3Vic2NyaXB0aW9uRG93bmdyYWRlJywgKCkgPT4ge1xuXG4gICAgLyoqXG4gICAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI29uU3Vic2NyaXB0aW9uRG93bmdyYWRlfVxuICAgICAqL1xuICAgIGl0KCdzaG91bGQgdW5zdWJzY3JpYmUgZHVyaW5nIG1hcmtldCBkYXRhIHN1YnNjcmlwdGlvbiBkb3duZ3JhZGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBhcGkuY29ubmVjdCgpO1xuICAgICAgc2FuZGJveC5zdHViKGFwaSwgJ3N1YnNjcmliZVRvTWFya2V0RGF0YScpLnJlc29sdmVzKCk7XG4gICAgICBzYW5kYm94LnN0dWIoYXBpLCAndW5zdWJzY3JpYmVGcm9tTWFya2V0RGF0YScpLnJlc29sdmVzKCk7XG4gICAgICBhd2FpdCBhcGkub25TdWJzY3JpcHRpb25Eb3duZ3JhZGVkKCd2aW50LWhpbGw6MTpwcy1tcGEtMScsICdFVVJVU0QnLCB1bmRlZmluZWQsIFxuICAgICAgICBbe3R5cGU6ICd0aWNrcyd9LCB7dHlwZTogJ2Jvb2tzJ31dKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGFwaS51bnN1YnNjcmliZUZyb21NYXJrZXREYXRhLCAnRVVSVVNEJywgW3t0eXBlOiAndGlja3MnfSwge3R5cGU6ICdib29rcyd9XSk7XG4gICAgICBzaW5vbi5hc3NlcnQubm90Q2FsbGVkKGFwaS5zdWJzY3JpYmVUb01hcmtldERhdGEpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI29uU3Vic2NyaXB0aW9uRG93bmdyYWRlfVxuICAgICAqL1xuICAgIGl0KCdzaG91bGQgdXBkYXRlIG1hcmtldCBkYXRhIHN1YnNjcmlwdGlvbiBvbiBkb3duZ3JhZGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBhcGkuY29ubmVjdCgpO1xuICAgICAgc2FuZGJveC5zdHViKGFwaSwgJ3N1YnNjcmliZVRvTWFya2V0RGF0YScpLnJlc29sdmVzKCk7XG4gICAgICBzYW5kYm94LnN0dWIoYXBpLCAndW5zdWJzY3JpYmVGcm9tTWFya2V0RGF0YScpLnJlc29sdmVzKCk7XG4gICAgICBhd2FpdCBhcGkub25TdWJzY3JpcHRpb25Eb3duZ3JhZGVkKCd2aW50LWhpbGw6MTpwcy1tcGEtMScsICdFVVJVU0QnLCBcbiAgICAgICAgW3t0eXBlOiAncXVvdGVzJywgaW50ZXJ2YWxJbk1pbGxpc2Vjb25kczogMzAwMDB9XSk7XG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChhcGkuc3Vic2NyaWJlVG9NYXJrZXREYXRhLCAnRVVSVVNEJywgW3t0eXBlOiAncXVvdGVzJywgaW50ZXJ2YWxJbk1pbGxpc2Vjb25kczogMzAwMDB9XSk7XG4gICAgICBzaW5vbi5hc3NlcnQubm90Q2FsbGVkKGFwaS51bnN1YnNjcmliZUZyb21NYXJrZXREYXRhKTtcbiAgICB9KTtcblxuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI3NhdmVVcHRpbWV9XG4gICAqL1xuICBpdCgnc2hvdWxkIHNhdmUgdXB0aW1lIHN0YXRzIHRvIHRoZSBzZXJ2ZXInLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgYXBpLmNvbm5lY3QoKTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnc2F2ZVVwdGltZScpLnJlc29sdmVzKCk7XG4gICAgYXdhaXQgYXBpLnNhdmVVcHRpbWUoeycxaCc6IDEwMH0pO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5zYXZlVXB0aW1lLCAnYWNjb3VudElkJywgeycxaCc6IDEwMH0pO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI3Rlcm1pbmFsU3RhdGV9XG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNoaXN0b3J5U3RvcmFnZX1cbiAgICovXG4gIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSBsaXN0ZW5lcnMsIHRlcm1pbmFsIHN0YXRlIGFuZCBoaXN0b3J5IHN0b3JhZ2UgZm9yIGFjY291bnRzIHdpdGggdXNlciBzeW5jaCBtb2RlJywgYXN5bmMgKCkgPT4ge1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdhZGRTeW5jaHJvbml6YXRpb25MaXN0ZW5lcicpLnJldHVybnMoKTtcbiAgICBhcGkgPSBuZXcgU3RyZWFtaW5nTWV0YUFwaUNvbm5lY3Rpb24oY2xpZW50LCBjbGllbnRBcGlDbGllbnQsICB7aWQ6ICdhY2NvdW50SWQnLCBhY2NvdW50UmVnaW9uc30sIFxuICAgICAgdW5kZWZpbmVkLCBjb25uZWN0aW9uUmVnaXN0cnkpO1xuICAgIGF3YWl0IGFwaS5jb25uZWN0KCk7XG4gICAgc2hvdWxkLmV4aXN0KGFwaS50ZXJtaW5hbFN0YXRlKTtcbiAgICBzaG91bGQuZXhpc3QoYXBpLmhpc3RvcnlTdG9yYWdlKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuYWRkU3luY2hyb25pemF0aW9uTGlzdGVuZXIsICdhY2NvdW50SWQnLCBhcGkpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5hZGRTeW5jaHJvbml6YXRpb25MaXN0ZW5lciwgJ2FjY291bnRJZCcsIGFwaS50ZXJtaW5hbFN0YXRlKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuYWRkU3luY2hyb25pemF0aW9uTGlzdGVuZXIsICdhY2NvdW50SWQnLCBhcGkuaGlzdG9yeVN0b3JhZ2UpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2FkZFN5bmNocm9uaXphdGlvbkxpc3RlbmVyfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBhZGQgc3luY2hyb25pemF0aW9uIGxpc3RlbmVycycsIGFzeW5jICgpID0+IHtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnYWRkU3luY2hyb25pemF0aW9uTGlzdGVuZXInKS5yZXR1cm5zKCk7XG4gICAgYXBpID0gbmV3IFN0cmVhbWluZ01ldGFBcGlDb25uZWN0aW9uKGNsaWVudCwgY2xpZW50QXBpQ2xpZW50LCAge2lkOiAnYWNjb3VudElkJywgYWNjb3VudFJlZ2lvbnN9LCBcbiAgICAgIHVuZGVmaW5lZCwgY29ubmVjdGlvblJlZ2lzdHJ5KTtcbiAgICBhd2FpdCBhcGkuY29ubmVjdCgpO1xuICAgIGxldCBsaXN0ZW5lciA9IHt9O1xuICAgIGFwaS5hZGRTeW5jaHJvbml6YXRpb25MaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LmFkZFN5bmNocm9uaXphdGlvbkxpc3RlbmVyLCAnYWNjb3VudElkJywgbGlzdGVuZXIpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI3JlbW92ZVN5bmNocm9uaXphdGlvbkxpc3RlbmVyfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCByZW1vdmUgc3luY2hyb25pemF0aW9uIGxpc3RlbmVycycsIGFzeW5jICgpID0+IHtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAncmVtb3ZlU3luY2hyb25pemF0aW9uTGlzdGVuZXInKS5yZXR1cm5zKCk7XG4gICAgYXBpID0gbmV3IFN0cmVhbWluZ01ldGFBcGlDb25uZWN0aW9uKGNsaWVudCwgY2xpZW50QXBpQ2xpZW50LCAge2lkOiAnYWNjb3VudElkJywgYWNjb3VudFJlZ2lvbnN9LCBcbiAgICAgIHVuZGVmaW5lZCwgY29ubmVjdGlvblJlZ2lzdHJ5KTtcbiAgICBhd2FpdCBhcGkuY29ubmVjdCgpO1xuICAgIGxldCBsaXN0ZW5lciA9IHt9O1xuICAgIGFwaS5yZW1vdmVTeW5jaHJvbml6YXRpb25MaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnJlbW92ZVN5bmNocm9uaXphdGlvbkxpc3RlbmVyLCAnYWNjb3VudElkJywgbGlzdGVuZXIpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI29uQ29ubmVjdGVkfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBzeWNocm9uaXplIG9uIGNvbm5lY3Rpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3N5bmNocm9uaXplJykucmVzb2x2ZXMoKTtcbiAgICBzYW5kYm94LnN0dWIocmFuZG9tc3RyaW5nLCAnZ2VuZXJhdGUnKS5yZXR1cm5zKCdzeW5jaHJvbml6YXRpb25JZCcpO1xuICAgIGFwaSA9IG5ldyBTdHJlYW1pbmdNZXRhQXBpQ29ubmVjdGlvbihjbGllbnQsIGNsaWVudEFwaUNsaWVudCwgIHtpZDogJ2FjY291bnRJZCcsIGFjY291bnRSZWdpb25zfSwgXG4gICAgICB1bmRlZmluZWQsIGNvbm5lY3Rpb25SZWdpc3RyeSk7XG4gICAgYXdhaXQgYXBpLmNvbm5lY3QoKTtcbiAgICBhcGkuaGlzdG9yeVN0b3JhZ2Uub25IaXN0b3J5T3JkZXJBZGRlZCgndmludC1oaWxsOjE6cHMtbXBhLTEnLCB7ZG9uZVRpbWU6IG5ldyBEYXRlKCcyMDIwLTAxLTAxVDAwOjAwOjAwLjAwMFonKX0pO1xuICAgIGFwaS5oaXN0b3J5U3RvcmFnZS5vbkRlYWxBZGRlZCgndmludC1oaWxsOjE6cHMtbXBhLTEnLCB7dGltZTogbmV3IERhdGUoJzIwMjAtMDEtMDJUMDA6MDA6MDAuMDAwWicpfSk7XG4gICAgYXdhaXQgYXBpLm9uQ29ubmVjdGVkKCd2aW50LWhpbGw6MTpwcy1tcGEtMScsIDEpO1xuICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgNTApKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuc3luY2hyb25pemUsICdhY2NvdW50SWQnLCAxLCAncHMtbXBhLTEnLCAnc3luY2hyb25pemF0aW9uSWQnLFxuICAgICAgbmV3IERhdGUoJzIwMjAtMDEtMDFUMDA6MDA6MDAuMDAwWicpLCBuZXcgRGF0ZSgnMjAyMC0wMS0wMlQwMDowMDowMC4wMDBaJykpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI29uQ29ubmVjdGVkfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBtYWludGFpbiBzeW5jaHJvbml6YXRpb24gaWYgY29ubmVjdGlvbiBoYXMgZmFpbGVkJywgYXN5bmMgKCkgPT4ge1xuICAgIGxldCBzdHViID0gc2FuZGJveC5zdHViKGNsaWVudCwgJ3N5bmNocm9uaXplJyk7XG4gICAgc3R1Yi5vbkZpcnN0Q2FsbCgpLnRocm93cyhuZXcgRXJyb3IoJ3Rlc3QgZXJyb3InKSk7XG4gICAgc3R1Yi5vblNlY29uZENhbGwoKS5yZXNvbHZlcygpO1xuICAgIHNhbmRib3guc3R1YihyYW5kb21zdHJpbmcsICdnZW5lcmF0ZScpLnJldHVybnMoJ3N5bmNocm9uaXphdGlvbklkJyk7XG4gICAgYXBpID0gbmV3IFN0cmVhbWluZ01ldGFBcGlDb25uZWN0aW9uKGNsaWVudCwgY2xpZW50QXBpQ2xpZW50LCAge2lkOiAnYWNjb3VudElkJywgYWNjb3VudFJlZ2lvbnN9LCBcbiAgICAgIHVuZGVmaW5lZCwgY29ubmVjdGlvblJlZ2lzdHJ5KTtcbiAgICBhd2FpdCBhcGkuY29ubmVjdCgpO1xuICAgIGF3YWl0IGFwaS5oaXN0b3J5U3RvcmFnZS5vbkhpc3RvcnlPcmRlckFkZGVkKCd2aW50LWhpbGw6MTpwcy1tcGEtMScsIFxuICAgICAge2RvbmVUaW1lOiBuZXcgRGF0ZSgnMjAyMC0wMS0wMVQwMDowMDowMC4wMDBaJyl9KTtcbiAgICBhd2FpdCBhcGkuaGlzdG9yeVN0b3JhZ2Uub25EZWFsQWRkZWQoJ3ZpbnQtaGlsbDoxOnBzLW1wYS0xJywge3RpbWU6IG5ldyBEYXRlKCcyMDIwLTAxLTAyVDAwOjAwOjAwLjAwMFonKX0pO1xuICAgIGF3YWl0IGFwaS5vbkNvbm5lY3RlZCgndmludC1oaWxsOjE6cHMtbXBhLTEnLCAxKTtcbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIDUwKSk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnN5bmNocm9uaXplLCAnYWNjb3VudElkJywgMSwgJ3BzLW1wYS0xJywgJ3N5bmNocm9uaXphdGlvbklkJyxcbiAgICAgIG5ldyBEYXRlKCcyMDIwLTAxLTAxVDAwOjAwOjAwLjAwMFonKSwgbmV3IERhdGUoJzIwMjAtMDEtMDJUMDA6MDA6MDAuMDAwWicpKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNvbkNvbm5lY3RlZH1cbiAgICovXG4gIGl0KCdzaG91bGQgbm90IHN5bmNocm9uaXplIGlmIGNvbm5lY3Rpb24gaXMgY2xvc2VkJywgYXN5bmMgKCkgPT4ge1xuICAgIGxldCBzeW5jaHJvbml6ZVN0dWIgPSBzYW5kYm94LnN0dWIoY2xpZW50LCAnc3luY2hyb25pemUnKTtcbiAgICBhcGkgPSBuZXcgU3RyZWFtaW5nTWV0YUFwaUNvbm5lY3Rpb24oY2xpZW50LCBjbGllbnRBcGlDbGllbnQsICB7aWQ6ICdhY2NvdW50SWQnLCBhY2NvdW50UmVnaW9uc30sXG4gICAgICB1bmRlZmluZWQsIGNvbm5lY3Rpb25SZWdpc3RyeSk7XG4gICAgYXdhaXQgYXBpLmNvbm5lY3QoKTtcbiAgICBhd2FpdCBhcGkuaGlzdG9yeVN0b3JhZ2Uub25IaXN0b3J5T3JkZXJBZGRlZCgndmludC1oaWxsOjE6cHMtbXBhLTEnLCBcbiAgICAgIHtkb25lVGltZTogbmV3IERhdGUoJzIwMjAtMDEtMDFUMDA6MDA6MDAuMDAwWicpfSk7XG4gICAgYXdhaXQgYXBpLmhpc3RvcnlTdG9yYWdlLm9uRGVhbEFkZGVkKCd2aW50LWhpbGw6MTpwcy1tcGEtMScsIHt0aW1lOiBuZXcgRGF0ZSgnMjAyMC0wMS0wMlQwMDowMDowMC4wMDBaJyl9KTtcbiAgICBhd2FpdCBhcGkuY2xvc2UoKTtcbiAgICBhd2FpdCBhcGkub25Db25uZWN0ZWQoJ3ZpbnQtaGlsbDoxOnBzLW1wYS0xJywgMSk7XG4gICAgc2lub24uYXNzZXJ0Lm5vdENhbGxlZChzeW5jaHJvbml6ZVN0dWIpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2Nsb3NlfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCB1bnN1YnNjcmliZSBmcm9tIGV2ZW50cyBvbiBjbG9zZScsIGFzeW5jICgpID0+IHtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnYWRkU3luY2hyb25pemF0aW9uTGlzdGVuZXInKS5yZXR1cm5zKCk7XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3JlbW92ZVN5bmNocm9uaXphdGlvbkxpc3RlbmVyJykucmV0dXJucygpO1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICd1bnN1YnNjcmliZScpLnJlc29sdmVzKCk7XG4gICAgc2FuZGJveC5zdHViKGNvbm5lY3Rpb25SZWdpc3RyeSwgJ3JlbW92ZScpLnJldHVybnMoKTtcbiAgICBhcGkgPSBuZXcgU3RyZWFtaW5nTWV0YUFwaUNvbm5lY3Rpb24oY2xpZW50LCBjbGllbnRBcGlDbGllbnQsICB7aWQ6ICdhY2NvdW50SWQnLCBhY2NvdW50UmVnaW9uc30sIFxuICAgICAgdW5kZWZpbmVkLCBjb25uZWN0aW9uUmVnaXN0cnkpO1xuICAgIGF3YWl0IGFwaS5jb25uZWN0KCk7XG4gICAgYXdhaXQgYXBpLmNsb3NlKCk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnVuc3Vic2NyaWJlLCAnYWNjb3VudElkJyk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnJlbW92ZVN5bmNocm9uaXphdGlvbkxpc3RlbmVyLCAnYWNjb3VudElkJywgYXBpKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQucmVtb3ZlU3luY2hyb25pemF0aW9uTGlzdGVuZXIsICdhY2NvdW50SWQnLCBhcGkudGVybWluYWxTdGF0ZSk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnJlbW92ZVN5bmNocm9uaXphdGlvbkxpc3RlbmVyLCAnYWNjb3VudElkJywgYXBpLmhpc3RvcnlTdG9yYWdlKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjb25uZWN0aW9uUmVnaXN0cnkucmVtb3ZlLCAnYWNjb3VudElkJyk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCd3YWl0U3luY2hyb25pemVkJywgKCkgPT4ge1xuXG4gICAgLyoqXG4gICAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI3dhaXRTeW5jaHJvbml6ZWR9XG4gICAgICovXG4gICAgaXQoJ3Nob3VsZCB3YWl0IHV0aWwgc3luY2hyb25pemF0aW9uIGNvbXBsZXRlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgYXBpLmNvbm5lY3QoKTtcbiAgICAgIHNhbmRib3guc3R1YihjbGllbnQsICd3YWl0U3luY2hyb25pemVkJykucmVzb2x2ZXMoKTtcbiAgICAgIHNpbm9uLmFzc2VydC5tYXRjaChhd2FpdCBhcGkuaXNTeW5jaHJvbml6ZWQoJ3ZpbnQtaGlsbDoxOnBzLW1wYS0xJyksIGZhbHNlKTtcbiAgICAgIChhd2FpdCBhcGkuaXNTeW5jaHJvbml6ZWQoKSkuc2hvdWxkLmVxdWFsKGZhbHNlKTtcbiAgICAgIGxldCBwcm9taXNlID0gYXBpLndhaXRTeW5jaHJvbml6ZWQoe2FwcGxpY2F0aW9uUGF0dGVybjogJ2FwcC4qJywgc3luY2hyb25pemF0aW9uSWQ6ICdzeW5jaHJvbml6YXRpb25JZCcsXG4gICAgICAgIHRpbWVvdXRJblNlY29uZHM6IDEsIGludGVydmFsSW5NaWxsaXNlY29uZHM6IDEwfSk7XG4gICAgICBsZXQgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgIGF3YWl0IFByb21pc2UucmFjZShbcHJvbWlzZSwgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCA1MCkpXSk7XG4gICAgICAoRGF0ZS5ub3coKSAtIHN0YXJ0VGltZSkuc2hvdWxkLmJlLmFwcHJveGltYXRlbHkoNTAsIDEwKTtcbiAgICAgIGFwaS5vbkhpc3RvcnlPcmRlcnNTeW5jaHJvbml6ZWQoJ3ZpbnQtaGlsbDoxOnBzLW1wYS0xJywgJ3N5bmNocm9uaXphdGlvbklkJyk7XG4gICAgICBhcGkub25EZWFsc1N5bmNocm9uaXplZCgndmludC1oaWxsOjE6cHMtbXBhLTEnLCAnc3luY2hyb25pemF0aW9uSWQnKTtcbiAgICAgIHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICBhd2FpdCBwcm9taXNlO1xuICAgICAgKERhdGUubm93KCkgLSBzdGFydFRpbWUpLnNob3VsZC5iZS5hcHByb3hpbWF0ZWx5KDEwLCAxMCk7XG4gICAgICAoYXdhaXQgYXBpLmlzU3luY2hyb25pemVkKCd2aW50LWhpbGw6MTpwcy1tcGEtMScsICdzeW5jaHJvbml6YXRpb25JZCcpKS5zaG91bGQuZXF1YWwodHJ1ZSk7XG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQud2FpdFN5bmNocm9uaXplZCwgJ2FjY291bnRJZCcsIDEsICdhcHAuKicsIDAuOTIpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI3dhaXRTeW5jaHJvbml6ZWR9XG4gICAgICovXG4gICAgaXQoJ3Nob3VsZCB3YWl0IHN5bmNocm9uaXplIG9uIGEgcmVwbGljYScsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IGFwaS5jb25uZWN0KCk7XG4gICAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnd2FpdFN5bmNocm9uaXplZCcpLnJlc29sdmVzKCk7XG4gICAgICBzaW5vbi5hc3NlcnQubWF0Y2goYXdhaXQgYXBpLmlzU3luY2hyb25pemVkKCduZXcteW9yazoxOnBzLW1wYS0xJyksIGZhbHNlKTtcbiAgICAgIChhd2FpdCBhcGkuaXNTeW5jaHJvbml6ZWQoKSkuc2hvdWxkLmVxdWFsKGZhbHNlKTtcbiAgICAgIGxldCBwcm9taXNlID0gYXBpLndhaXRTeW5jaHJvbml6ZWQoe2FwcGxpY2F0aW9uUGF0dGVybjogJ2FwcC4qJywgc3luY2hyb25pemF0aW9uSWQ6ICdzeW5jaHJvbml6YXRpb25JZCcsXG4gICAgICAgIHRpbWVvdXRJblNlY29uZHM6IDEsIGludGVydmFsSW5NaWxsaXNlY29uZHM6IDEwfSk7XG4gICAgICBsZXQgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgIGF3YWl0IFByb21pc2UucmFjZShbcHJvbWlzZSwgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCA1MCkpXSk7XG4gICAgICAoRGF0ZS5ub3coKSAtIHN0YXJ0VGltZSkuc2hvdWxkLmJlLmFwcHJveGltYXRlbHkoNTAsIDEwKTtcbiAgICAgIGFwaS5vbkhpc3RvcnlPcmRlcnNTeW5jaHJvbml6ZWQoJ25ldy15b3JrOjE6cHMtbXBhLTEnLCAnc3luY2hyb25pemF0aW9uSWQnKTtcbiAgICAgIGFwaS5vbkRlYWxzU3luY2hyb25pemVkKCduZXcteW9yazoxOnBzLW1wYS0xJywgJ3N5bmNocm9uaXphdGlvbklkJyk7XG4gICAgICBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgYXdhaXQgcHJvbWlzZTtcbiAgICAgIChEYXRlLm5vdygpIC0gc3RhcnRUaW1lKS5zaG91bGQuYmUuYXBwcm94aW1hdGVseSgxMCwgMTApO1xuICAgICAgKGF3YWl0IGFwaS5pc1N5bmNocm9uaXplZCgnbmV3LXlvcms6MTpwcy1tcGEtMScsICdzeW5jaHJvbml6YXRpb25JZCcpKS5zaG91bGQuZXF1YWwodHJ1ZSk7XG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQud2FpdFN5bmNocm9uaXplZCwgJ2FjY291bnRJZFJlcGxpY2EnLCAxLCAnYXBwLionLCAwLjkyKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiN3YWl0U3luY2hyb25pemVkfVxuICAgICAqL1xuICAgIGl0KCdzaG91bGQgdGltZSBvdXQgd2FpdGluZyBmb3Igc3luY2hyb25pemF0aW9uIGNvbXBsZXRlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgYXBpLmNvbm5lY3QoKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGFwaS53YWl0U3luY2hyb25pemVkKHthcHBsaWNhdGlvblBhdHRlcm46ICdhcHAuKicsIHN5bmNocm9uaXphdGlvbklkOiAnc3luY2hyb25pemF0aW9uSWQnLFxuICAgICAgICAgIHRpbWVvdXRJblNlY29uZHM6IDEsIGludGVydmFsSW5NaWxsaXNlY29uZHM6IDEwfSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGltZW91dEVycm9yIGlzIGV4cGVjdGVkJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgZXJyLm5hbWUuc2hvdWxkLmVxdWFsKCdUaW1lb3V0RXJyb3InKTtcbiAgICAgIH1cbiAgICAgIChhd2FpdCBhcGkuaXNTeW5jaHJvbml6ZWQoJ3N5bmNocm9uaXphdGlvbklkJykpLnNob3VsZC5lcXVhbChmYWxzZSk7XG4gICAgfSk7XG5cbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNpbml0aWFsaXplfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIGNvbm5lY3Rpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgYWRkQ2FjaGVTdHViID0gc2FuZGJveC5zdHViKGNsaWVudCwgJ2FkZEFjY291bnRDYWNoZScpO1xuICAgIGF3YWl0IGFwaS5jb25uZWN0KCk7XG4gICAgc2FuZGJveC5zdHViKGFwaS5oaXN0b3J5U3RvcmFnZSwgJ2luaXRpYWxpemUnKS5yZXNvbHZlcygpO1xuICAgIGF3YWl0IGFwaS5pbml0aWFsaXplKCk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZE9uY2UoYXBpLmhpc3RvcnlTdG9yYWdlLmluaXRpYWxpemUpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGFkZENhY2hlU3R1YiwgJ2FjY291bnRJZCcsIHsgJ25ldy15b3JrJzogJ2FjY291bnRJZFJlcGxpY2EnLCAndmludC1oaWxsJzogJ2FjY291bnRJZCcgfSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jb25EaXNjb25uZWN0ZWR9XG4gICAqL1xuICBpdCgnc2hvdWxkIHNldCBzeW5jaHJvbml6ZWQgZmFsc2Ugb24gZGlzY29ubmVjdCcsIGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBhcGkuY29ubmVjdCgpO1xuICAgIGF3YWl0IGFwaS5vbkNvbm5lY3RlZCgndmludC1oaWxsOjE6cHMtbXBhLTEnLCAyKTtcbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIDUwKSk7XG4gICAgc2lub24uYXNzZXJ0Lm1hdGNoKGFwaS5zeW5jaHJvbml6ZWQsIHRydWUpO1xuICAgIGF3YWl0IGFwaS5vbkRpc2Nvbm5lY3RlZCgndmludC1oaWxsOjE6cHMtbXBhLTEnKTtcbiAgICBzaW5vbi5hc3NlcnQubWF0Y2goYXBpLnN5bmNocm9uaXplZCwgZmFsc2UpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI29uRGlzY29ubmVjdGVkfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBkZWxldGUgc3RhdGUgaWYgc3RyZWFtIGNsb3NlZCcsIGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBhcGkuY29ubmVjdCgpO1xuICAgIGF3YWl0IGFwaS5vbkNvbm5lY3RlZCgndmludC1oaWxsOjE6cHMtbXBhLTEnLCAyKTtcbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIDUwKSk7XG4gICAgc2lub24uYXNzZXJ0Lm1hdGNoKGFwaS5zeW5jaHJvbml6ZWQsIHRydWUpO1xuICAgIGF3YWl0IGFwaS5vblN0cmVhbUNsb3NlZCgndmludC1oaWxsOjE6cHMtbXBhLTEnKTtcbiAgICBzaW5vbi5hc3NlcnQubWF0Y2goYXBpLnN5bmNocm9uaXplZCwgZmFsc2UpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI29uRGlzY29ubmVjdGVkfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBjcmVhdGUgcmVmcmVzaCBzdWJzY3JpcHRpb25zIGpvYicsIGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBhcGkuY29ubmVjdCgpO1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdyZWZyZXNoTWFya2V0RGF0YVN1YnNjcmlwdGlvbnMnKS5yZXNvbHZlcygpO1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdzdWJzY3JpYmVUb01hcmtldERhdGEnKS5yZXNvbHZlcygpO1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICd3YWl0U3luY2hyb25pemVkJykucmVzb2x2ZXMoKTtcbiAgICBhd2FpdCBhcGkub25TeW5jaHJvbml6YXRpb25TdGFydGVkKCd2aW50LWhpbGw6MTpwcy1tcGEtMScpO1xuICAgIGF3YWl0IGNsb2NrLnRpY2tBc3luYyg1MCk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnJlZnJlc2hNYXJrZXREYXRhU3Vic2NyaXB0aW9ucywgJ2FjY291bnRJZCcsIDEsIFtdKTtcbiAgICBhcGkudGVybWluYWxTdGF0ZS5vblN5bWJvbFByaWNlc1VwZGF0ZWQoJ3ZpbnQtaGlsbDoxOnBzLW1wYS0xJywgXG4gICAgICBbe3RpbWU6IG5ldyBEYXRlKCksIHN5bWJvbDogJ0VVUlVTRCcsIGJpZDogMSwgYXNrOiAxLjF9XSk7XG4gICAgYXdhaXQgYXBpLnN1YnNjcmliZVRvTWFya2V0RGF0YSgnRVVSVVNEJywgW3t0eXBlOiAncXVvdGVzJ31dLCAxKTtcbiAgICBhd2FpdCBjbG9jay50aWNrQXN5bmMoMTA1MCk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnJlZnJlc2hNYXJrZXREYXRhU3Vic2NyaXB0aW9ucywgJ2FjY291bnRJZCcsIDEsIFxuICAgICAgW3tzeW1ib2w6ICdFVVJVU0QnLCBzdWJzY3JpcHRpb25zOiBbe3R5cGU6ICdxdW90ZXMnfV19XSk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxDb3VudChjbGllbnQucmVmcmVzaE1hcmtldERhdGFTdWJzY3JpcHRpb25zLCAyKTtcbiAgICBhd2FpdCBhcGkub25EaXNjb25uZWN0ZWQoJ3ZpbnQtaGlsbDoxOnBzLW1wYS0xJyk7XG4gICAgYXdhaXQgY2xvY2sudGlja0FzeW5jKDEwNTApO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsQ291bnQoY2xpZW50LnJlZnJlc2hNYXJrZXREYXRhU3Vic2NyaXB0aW9ucywgMik7XG4gICAgYXdhaXQgYXBpLm9uU3luY2hyb25pemF0aW9uU3RhcnRlZCgndmludC1oaWxsOjE6cHMtbXBhLTEnKTtcbiAgICBhd2FpdCBjbG9jay50aWNrQXN5bmMoNTApO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsQ291bnQoY2xpZW50LnJlZnJlc2hNYXJrZXREYXRhU3Vic2NyaXB0aW9ucywgMyk7XG4gICAgYXdhaXQgYXBpLmNsb3NlKCk7XG4gICAgYXdhaXQgY2xvY2sudGlja0FzeW5jKDEwNTApO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsQ291bnQoY2xpZW50LnJlZnJlc2hNYXJrZXREYXRhU3Vic2NyaXB0aW9ucywgMyk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jb25EaXNjb25uZWN0ZWR9XG4gICAqL1xuICBpdCgnc2hvdWxkIGNyZWF0ZSByZWZyZXNoIHN1YnNjcmlwdGlvbnMgam9iIHdpdGggYSByZXBsaWNhJywgYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGFwaS5jb25uZWN0KCk7XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3JlZnJlc2hNYXJrZXREYXRhU3Vic2NyaXB0aW9ucycpLnJlc29sdmVzKCk7XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3N1YnNjcmliZVRvTWFya2V0RGF0YScpLnJlc29sdmVzKCk7XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3dhaXRTeW5jaHJvbml6ZWQnKS5yZXNvbHZlcygpO1xuICAgIGF3YWl0IGFwaS5vblN5bmNocm9uaXphdGlvblN0YXJ0ZWQoJ25ldy15b3JrOjE6cHMtbXBhLTEnKTtcbiAgICBhd2FpdCBjbG9jay50aWNrQXN5bmMoNTApO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5yZWZyZXNoTWFya2V0RGF0YVN1YnNjcmlwdGlvbnMsICdhY2NvdW50SWRSZXBsaWNhJywgMSwgW10pO1xuICAgIGFwaS50ZXJtaW5hbFN0YXRlLm9uU3ltYm9sUHJpY2VzVXBkYXRlZCgnbmV3LXlvcms6MTpwcy1tcGEtMScsIFxuICAgICAgW3t0aW1lOiBuZXcgRGF0ZSgpLCBzeW1ib2w6ICdFVVJVU0QnLCBiaWQ6IDEsIGFzazogMS4xfV0pO1xuICAgIGF3YWl0IGFwaS5zdWJzY3JpYmVUb01hcmtldERhdGEoJ0VVUlVTRCcsIFt7dHlwZTogJ3F1b3Rlcyd9XSwgMSk7XG4gICAgYXdhaXQgY2xvY2sudGlja0FzeW5jKDEwNTApO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5yZWZyZXNoTWFya2V0RGF0YVN1YnNjcmlwdGlvbnMsICdhY2NvdW50SWRSZXBsaWNhJywgMSwgXG4gICAgICBbe3N5bWJvbDogJ0VVUlVTRCcsIHN1YnNjcmlwdGlvbnM6IFt7dHlwZTogJ3F1b3Rlcyd9XX1dKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbENvdW50KGNsaWVudC5yZWZyZXNoTWFya2V0RGF0YVN1YnNjcmlwdGlvbnMsIDIpO1xuICAgIGF3YWl0IGFwaS5vbkRpc2Nvbm5lY3RlZCgnbmV3LXlvcms6MTpwcy1tcGEtMScpO1xuICAgIGF3YWl0IGNsb2NrLnRpY2tBc3luYygxMDUwKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbENvdW50KGNsaWVudC5yZWZyZXNoTWFya2V0RGF0YVN1YnNjcmlwdGlvbnMsIDIpO1xuICAgIGF3YWl0IGFwaS5vblN5bmNocm9uaXphdGlvblN0YXJ0ZWQoJ25ldy15b3JrOjE6cHMtbXBhLTEnKTtcbiAgICBhd2FpdCBjbG9jay50aWNrQXN5bmMoNTApO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsQ291bnQoY2xpZW50LnJlZnJlc2hNYXJrZXREYXRhU3Vic2NyaXB0aW9ucywgMyk7XG4gICAgYXdhaXQgYXBpLmNsb3NlKCk7XG4gICAgYXdhaXQgY2xvY2sudGlja0FzeW5jKDEwNTApO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsQ291bnQoY2xpZW50LnJlZnJlc2hNYXJrZXREYXRhU3Vic2NyaXB0aW9ucywgMyk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jb25VbnN1YnNjcmliZVJlZ2lvbn1cbiAgICovXG4gIGl0KCdzaG91bGQgcmVtb3ZlIHN1YnNjcmlwdGlvbiBqb2Igb24gcmVnaW9uIHVuc3Vic2NyaWJlJywgYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGFwaS5jb25uZWN0KCk7XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3JlZnJlc2hNYXJrZXREYXRhU3Vic2NyaXB0aW9ucycpLnJlc29sdmVzKCk7XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3N1YnNjcmliZVRvTWFya2V0RGF0YScpLnJlc29sdmVzKCk7XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3dhaXRTeW5jaHJvbml6ZWQnKS5yZXNvbHZlcygpO1xuICAgIGF3YWl0IGFwaS5vblN5bmNocm9uaXphdGlvblN0YXJ0ZWQoJ3ZpbnQtaGlsbDoxOnBzLW1wYS0xJyk7XG4gICAgYXdhaXQgY2xvY2sudGlja0FzeW5jKDUwKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQucmVmcmVzaE1hcmtldERhdGFTdWJzY3JpcHRpb25zLCAnYWNjb3VudElkJywgMSwgW10pO1xuICAgIGF3YWl0IGNsb2NrLnRpY2tBc3luYygxMDUwKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbENvdW50KGNsaWVudC5yZWZyZXNoTWFya2V0RGF0YVN1YnNjcmlwdGlvbnMsIDIpO1xuICAgIGF3YWl0IGFwaS5vblVuc3Vic2NyaWJlUmVnaW9uKCd2aW50LWhpbGwnKTtcbiAgICBhd2FpdCBjbG9jay50aWNrQXN5bmMoMTA1MCk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxDb3VudChjbGllbnQucmVmcmVzaE1hcmtldERhdGFTdWJzY3JpcHRpb25zLCAyKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtTdHJlYW1pbmdNZXRhQXBpQ29ubmVjdGlvbiNxdWV1ZUV2ZW50fVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBxdWV1ZSBldmVudHMnLCAoKSA9PiB7XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3F1ZXVlRXZlbnQnKS5yZXR1cm5zKCk7XG4gICAgbGV0IGV2ZW50Q2FsbGFibGUgPSAoKSA9PiB7fTtcbiAgICBhcGkucXVldWVFdmVudCgndGVzdCcsIGV2ZW50Q2FsbGFibGUpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRPbmNlV2l0aEV4YWN0bHkoY2xpZW50LnF1ZXVlRXZlbnQsICdhY2NvdW50SWQnLCAndGVzdCcsIGV2ZW50Q2FsbGFibGUpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge1N0cmVhbWluZ01ldGFBcGlDb25uZWN0aW9uI29uUmVjb25uZWN0ZWR9XG4gICAqL1xuICBpdCgnc2hvdWxkIGNsZWFyIHJlZ2lvbiBzdGF0ZXMgb24gc29ja2V0IHJlY29ubmVjdCcsIGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBhcGkuY29ubmVjdCgpO1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdyZWZyZXNoTWFya2V0RGF0YVN1YnNjcmlwdGlvbnMnKS5yZXNvbHZlcygpO1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdzdWJzY3JpYmVUb01hcmtldERhdGEnKS5yZXNvbHZlcygpO1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICd3YWl0U3luY2hyb25pemVkJykucmVzb2x2ZXMoKTtcbiAgICBhd2FpdCBhcGkub25TeW5jaHJvbml6YXRpb25TdGFydGVkKCduZXcteW9yazoxOnBzLW1wYS0xJyk7XG4gICAgYXdhaXQgYXBpLm9uU3luY2hyb25pemF0aW9uU3RhcnRlZCgndmludC1oaWxsOjE6cHMtbXBhLTEnKTtcbiAgICBhd2FpdCBjbG9jay50aWNrQXN5bmMoNTApO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5yZWZyZXNoTWFya2V0RGF0YVN1YnNjcmlwdGlvbnMsICdhY2NvdW50SWRSZXBsaWNhJywgMSwgW10pO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5yZWZyZXNoTWFya2V0RGF0YVN1YnNjcmlwdGlvbnMsICdhY2NvdW50SWQnLCAxLCBbXSk7XG4gICAgYXBpLnRlcm1pbmFsU3RhdGUub25TeW1ib2xQcmljZXNVcGRhdGVkKCduZXcteW9yazoxOnBzLW1wYS0xJywgXG4gICAgICBbe3RpbWU6IG5ldyBEYXRlKCksIHN5bWJvbDogJ0VVUlVTRCcsIGJpZDogMSwgYXNrOiAxLjF9XSk7XG4gICAgYXBpLnRlcm1pbmFsU3RhdGUub25TeW1ib2xQcmljZXNVcGRhdGVkKCd2aW50LWhpbGw6MTpwcy1tcGEtMScsIFxuICAgICAgW3t0aW1lOiBuZXcgRGF0ZSgpLCBzeW1ib2w6ICdFVVJVU0QnLCBiaWQ6IDEsIGFzazogMS4xfV0pO1xuICAgIGF3YWl0IGFwaS5zdWJzY3JpYmVUb01hcmtldERhdGEoJ0VVUlVTRCcsIFt7dHlwZTogJ3F1b3Rlcyd9XSwgMSk7XG4gICAgYXdhaXQgY2xvY2sudGlja0FzeW5jKDEwNTApO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsQ291bnQoY2xpZW50LnJlZnJlc2hNYXJrZXREYXRhU3Vic2NyaXB0aW9ucywgNCk7XG4gICAgYXdhaXQgYXBpLm9uUmVjb25uZWN0ZWQoJ25ldy15b3JrJywgMSk7XG4gICAgYXdhaXQgY2xvY2sudGlja0FzeW5jKDEwNTApO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsQ291bnQoY2xpZW50LnJlZnJlc2hNYXJrZXREYXRhU3Vic2NyaXB0aW9ucywgNSk7XG4gICAgYXdhaXQgYXBpLm9uUmVjb25uZWN0ZWQoJ3ZpbnQtaGlsbCcsIDEpO1xuICAgIGF3YWl0IGNsb2NrLnRpY2tBc3luYygxMDUwKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbENvdW50KGNsaWVudC5yZWZyZXNoTWFya2V0RGF0YVN1YnNjcmlwdGlvbnMsIDUpO1xuICB9KTtcblxufSk7XG4iXX0=