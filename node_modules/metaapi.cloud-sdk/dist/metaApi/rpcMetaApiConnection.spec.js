'use strict';

var _promise = require('babel-runtime/core-js/promise');

var _promise2 = _interopRequireDefault(_promise);

var _should = require('should');

var _should2 = _interopRequireDefault(_should);

var _sinon = require('sinon');

var _sinon2 = _interopRequireDefault(_sinon);

var _rpcMetaApiConnection = require('./rpcMetaApiConnection');

var _rpcMetaApiConnection2 = _interopRequireDefault(_rpcMetaApiConnection);

var _notSynchronizedError = require('../clients/metaApi/notSynchronizedError');

var _notSynchronizedError2 = _interopRequireDefault(_notSynchronizedError);

var _timeoutError = require('../clients/timeoutError');

var _timeoutError2 = _interopRequireDefault(_timeoutError);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @test {MetaApiConnection}
 */
// eslint-disable-next-line max-statements
describe('RpcMetaApiConnection', () => {

  let sandbox;
  let api;
  let account;
  let clock;
  let client = {
    getAccountInformation: () => {},
    addSynchronizationListener: () => {},
    ensureSubscribe: () => {},
    getPositions: () => {},
    getPosition: () => {},
    getOrders: () => {},
    getOrder: () => {},
    getHistoryOrdersByTicket: () => {},
    getHistoryOrdersByPosition: () => {},
    getHistoryOrdersByTimeRange: () => {},
    getDealsByTicket: () => {},
    getDealsByPosition: () => {},
    getDealsByTimeRange: () => {},
    removeApplication: () => {},
    trade: () => {},
    reconnect: () => {},
    getSymbols: () => {},
    getSymbolSpecification: () => {},
    getSymbolPrice: () => {},
    getCandle: () => {},
    getTick: () => {},
    getBook: () => {},
    getServerTime: () => {},
    calculateMargin: () => {},
    waitSynchronized: () => {},
    addAccountCache: () => {},
    removeAccountCache: () => {}
  };

  let accountRegions = {
    'vint-hill': 'accountId',
    'new-york': 'accountIdReplica'
  };

  before(() => {
    sandbox = _sinon2.default.createSandbox();
  });

  beforeEach(() => {
    account = {
      id: 'accountId',
      state: 'DEPLOYED',
      accountRegions,
      reload: () => {}
    };
    api = new _rpcMetaApiConnection2.default(client, account);
    clock = _sinon2.default.useFakeTimers({
      shouldAdvanceTime: true
    });
  });

  afterEach(() => {
    clock.restore();
    sandbox.restore();
  });

  /**
   * @test {MetaApiConnection#waitSynchronized}
   */
  it('should wait until RPC application is synchronized', async () => {
    await api.connect();
    sandbox.stub(client, 'waitSynchronized').onFirstCall().rejects(new _timeoutError2.default('test')).onSecondCall().rejects(new _timeoutError2.default('test')).onThirdCall().resolves('response');
    (async () => {
      await new _promise2.default(res => setTimeout(res, 50));
      await api.onConnected();
    })();
    clock.tickAsync(1100);
    await api.waitSynchronized();
  });

  /**
   * @test {MetaApiConnection#waitSynchronized}
   */
  it('should time out waiting for synchronization', async () => {
    await api.connect();
    sandbox.stub(client, 'waitSynchronized').callsFake(async () => {
      await new _promise2.default(res => setTimeout(res, 100));
      throw new _timeoutError2.default('test');
    });
    try {
      (async () => {
        await new _promise2.default(res => setTimeout(res, 50));
        await api.onConnected();
      })();
      clock.tickAsync(1100);
      await api.waitSynchronized(0.09);
      throw new Error('TimeoutError expected');
    } catch (err) {
      err.name.should.equal('TimeoutError');
    }
    _sinon2.default.assert.calledOnce(client.waitSynchronized);
  });

  /**
   * @test {MetaApiConnection#waitSynchronized}
   */
  it('should time out waiting for synchronization if no connected event has arrived', async () => {
    await api.connect();
    sandbox.stub(client, 'waitSynchronized').resolves();
    try {
      clock.tickAsync(1100);
      await api.waitSynchronized(0.09);
      throw new Error('TimeoutError expected');
    } catch (err) {
      err.name.should.equal('TimeoutError');
    }
  });

  /**
   * @test {MetaApiConnection#getAccountInformation}
   */
  it('should retrieve account information', async () => {
    await api.connect();
    let accountInformation = {
      broker: 'True ECN Trading Ltd',
      currency: 'USD',
      server: 'ICMarketsSC-Demo',
      balance: 7319.9,
      equity: 7306.649913200001,
      margin: 184.1,
      freeMargin: 7120.22,
      leverage: 100,
      marginLevel: 3967.58283542
    };
    sandbox.stub(client, 'getAccountInformation').resolves(accountInformation);
    let actual = await api.getAccountInformation();
    actual.should.match(accountInformation);
    _sinon2.default.assert.calledWith(client.getAccountInformation, 'accountId');
  });

  /**
   * @test {MetaApiConnection#getAccountInformation}
   */
  it('should not process request if connection is not open', async () => {
    try {
      await api.getAccountInformation();
      throw new Error('Error is expected');
    } catch (err) {
      err.message.should.equal('This connection has not been initialized yet,' + ' please invoke await connection.connect()');
    }
  });

  /**
   * @test {MetaApiConnection#getAccountInformation}
   */
  it('should not process request if connection is closed', async () => {
    await api.connect();
    await api.close();
    try {
      await api.getAccountInformation();
      throw new Error('Error is expected');
    } catch (err) {
      err.message.should.equal('This connection has been closed, please create a new connection');
    }
  });

  /**
   * @test {MetaApiConnection#getPositions}
   */
  it('should retrieve positions', async () => {
    await api.connect();
    let positions = [{
      id: '46214692',
      type: 'POSITION_TYPE_BUY',
      symbol: 'GBPUSD',
      magic: 1000,
      time: new Date('2020-04-15T02:45:06.521Z'),
      updateTime: new Date('2020-04-15T02:45:06.521Z'),
      openPrice: 1.26101,
      currentPrice: 1.24883,
      currentTickValue: 1,
      volume: 0.07,
      swap: 0,
      profit: -85.25999999999966,
      commission: -0.25,
      clientId: 'TE_GBPUSD_7hyINWqAlE',
      stopLoss: 1.17721,
      unrealizedProfit: -85.25999999999901,
      realizedProfit: -6.536993168992922e-13
    }];
    sandbox.stub(client, 'getPositions').resolves(positions);
    let actual = await api.getPositions();
    actual.should.match(positions);
    _sinon2.default.assert.calledWith(client.getPositions, 'accountId');
  });

  /**
   * @test {MetaApiConnection#getPosition}
   */
  it('should retrieve position by id', async () => {
    await api.connect();
    let position = {
      id: '46214692',
      type: 'POSITION_TYPE_BUY',
      symbol: 'GBPUSD',
      magic: 1000,
      time: new Date('2020-04-15T02:45:06.521Z'),
      updateTime: new Date('2020-04-15T02:45:06.521Z'),
      openPrice: 1.26101,
      currentPrice: 1.24883,
      currentTickValue: 1,
      volume: 0.07,
      swap: 0,
      profit: -85.25999999999966,
      commission: -0.25,
      clientId: 'TE_GBPUSD_7hyINWqAlE',
      stopLoss: 1.17721,
      unrealizedProfit: -85.25999999999901,
      realizedProfit: -6.536993168992922e-13
    };
    sandbox.stub(client, 'getPosition').resolves(position);
    let actual = await api.getPosition('46214692');
    actual.should.match(position);
    _sinon2.default.assert.calledWith(client.getPosition, 'accountId', '46214692');
  });

  /**
   * @test {MetaApiConnection#getOrders}
   */
  it('should retrieve orders', async () => {
    await api.connect();
    let orders = [{
      id: '46871284',
      type: 'ORDER_TYPE_BUY_LIMIT',
      state: 'ORDER_STATE_PLACED',
      symbol: 'AUDNZD',
      magic: 123456,
      platform: 'mt5',
      time: new Date('2020-04-20T08:38:58.270Z'),
      openPrice: 1.03,
      currentPrice: 1.05206,
      volume: 0.01,
      currentVolume: 0.01,
      comment: 'COMMENT2'
    }];
    sandbox.stub(client, 'getOrders').resolves(orders);
    let actual = await api.getOrders();
    actual.should.match(orders);
    _sinon2.default.assert.calledWith(client.getOrders, 'accountId');
  });

  /**
   * @test {MetaApiConnection#getOrder}
   */
  it('should retrieve order by id', async () => {
    await api.connect();
    let order = {
      id: '46871284',
      type: 'ORDER_TYPE_BUY_LIMIT',
      state: 'ORDER_STATE_PLACED',
      symbol: 'AUDNZD',
      magic: 123456,
      platform: 'mt5',
      time: new Date('2020-04-20T08:38:58.270Z'),
      openPrice: 1.03,
      currentPrice: 1.05206,
      volume: 0.01,
      currentVolume: 0.01,
      comment: 'COMMENT2'
    };
    sandbox.stub(client, 'getOrder').resolves(order);
    let actual = await api.getOrder('46871284');
    actual.should.match(order);
    _sinon2.default.assert.calledWith(client.getOrder, 'accountId', '46871284');
  });

  /**
   * @test {MetaApiConnection#getHistoryOrdersByTicket}
   */
  it('should retrieve history orders by ticket', async () => {
    await api.connect();
    let historyOrders = {
      historyOrders: [{
        clientId: 'TE_GBPUSD_7hyINWqAlE',
        currentPrice: 1.261,
        currentVolume: 0,
        doneTime: new Date('2020-04-15T02:45:06.521Z'),
        id: '46214692',
        magic: 1000,
        platform: 'mt5',
        positionId: '46214692',
        state: 'ORDER_STATE_FILLED',
        symbol: 'GBPUSD',
        time: new Date('2020-04-15T02:45:06.260Z'),
        type: 'ORDER_TYPE_BUY',
        volume: 0.07
      }],
      synchronizing: false
    };
    sandbox.stub(client, 'getHistoryOrdersByTicket').resolves(historyOrders);
    let actual = await api.getHistoryOrdersByTicket('46214692');
    actual.should.match(historyOrders);
    _sinon2.default.assert.calledWith(client.getHistoryOrdersByTicket, 'accountId', '46214692');
  });

  /**
   * @test {MetaApiConnection#getHistoryOrdersByPosition}
   */
  it('should retrieve history orders by position', async () => {
    await api.connect();
    let historyOrders = {
      historyOrders: [{
        clientId: 'TE_GBPUSD_7hyINWqAlE',
        currentPrice: 1.261,
        currentVolume: 0,
        doneTime: new Date('2020-04-15T02:45:06.521Z'),
        id: '46214692',
        magic: 1000,
        platform: 'mt5',
        positionId: '46214692',
        state: 'ORDER_STATE_FILLED',
        symbol: 'GBPUSD',
        time: new Date('2020-04-15T02:45:06.260Z'),
        type: 'ORDER_TYPE_BUY',
        volume: 0.07
      }],
      synchronizing: false
    };
    sandbox.stub(client, 'getHistoryOrdersByPosition').resolves(historyOrders);
    let actual = await api.getHistoryOrdersByPosition('46214692');
    actual.should.match(historyOrders);
    _sinon2.default.assert.calledWith(client.getHistoryOrdersByPosition, 'accountId', '46214692');
  });

  /**
   * @test {MetaApiConnection#getHistoryOrdersByTimeRange}
   */
  it('should retrieve history orders by time range', async () => {
    await api.connect();
    let historyOrders = {
      historyOrders: [{
        clientId: 'TE_GBPUSD_7hyINWqAlE',
        currentPrice: 1.261,
        currentVolume: 0,
        doneTime: new Date('2020-04-15T02:45:06.521Z'),
        id: '46214692',
        magic: 1000,
        platform: 'mt5',
        positionId: '46214692',
        state: 'ORDER_STATE_FILLED',
        symbol: 'GBPUSD',
        time: new Date('2020-04-15T02:45:06.260Z'),
        type: 'ORDER_TYPE_BUY',
        volume: 0.07
      }],
      synchronizing: false
    };
    sandbox.stub(client, 'getHistoryOrdersByTimeRange').resolves(historyOrders);
    let startTime = new Date(Date.now() - 1000);
    let endTime = new Date();
    let actual = await api.getHistoryOrdersByTimeRange(startTime, endTime, 1, 100);
    actual.should.match(historyOrders);
    _sinon2.default.assert.calledWith(client.getHistoryOrdersByTimeRange, 'accountId', startTime, endTime, 1, 100);
  });

  /**
   * @test {MetaApiConnection#getDealsByTicket}
   */
  it('should retrieve history deals by ticket', async () => {
    await api.connect();
    let deals = {
      deals: [{
        clientId: 'TE_GBPUSD_7hyINWqAlE',
        commission: -0.25,
        entryType: 'DEAL_ENTRY_IN',
        id: '33230099',
        magic: 1000,
        platform: 'mt5',
        orderId: '46214692',
        positionId: '46214692',
        price: 1.26101,
        profit: 0,
        swap: 0,
        symbol: 'GBPUSD',
        time: new Date('2020-04-15T02:45:06.521Z'),
        type: 'DEAL_TYPE_BUY',
        volume: 0.07
      }],
      synchronizing: false
    };
    sandbox.stub(client, 'getDealsByTicket').resolves(deals);
    let actual = await api.getDealsByTicket('46214692');
    actual.should.match(deals);
    _sinon2.default.assert.calledWith(client.getDealsByTicket, 'accountId', '46214692');
  });

  /**
   * @test {MetaApiConnection#getDealsByPosition}
   */
  it('should retrieve history deals by position', async () => {
    await api.connect();
    let deals = {
      deals: [{
        clientId: 'TE_GBPUSD_7hyINWqAlE',
        commission: -0.25,
        entryType: 'DEAL_ENTRY_IN',
        id: '33230099',
        magic: 1000,
        platform: 'mt5',
        orderId: '46214692',
        positionId: '46214692',
        price: 1.26101,
        profit: 0,
        swap: 0,
        symbol: 'GBPUSD',
        time: new Date('2020-04-15T02:45:06.521Z'),
        type: 'DEAL_TYPE_BUY',
        volume: 0.07
      }],
      synchronizing: false
    };
    sandbox.stub(client, 'getDealsByPosition').resolves(deals);
    let actual = await api.getDealsByPosition('46214692');
    actual.should.match(deals);
    _sinon2.default.assert.calledWith(client.getDealsByPosition, 'accountId', '46214692');
  });

  /**
   * @test {MetaApiConnection#getDealsByTimeRange}
   */
  it('should retrieve history deals by time range', async () => {
    await api.connect();
    let deals = {
      deals: [{
        clientId: 'TE_GBPUSD_7hyINWqAlE',
        commission: -0.25,
        entryType: 'DEAL_ENTRY_IN',
        id: '33230099',
        magic: 1000,
        platform: 'mt5',
        orderId: '46214692',
        positionId: '46214692',
        price: 1.26101,
        profit: 0,
        swap: 0,
        symbol: 'GBPUSD',
        time: new Date('2020-04-15T02:45:06.521Z'),
        type: 'DEAL_TYPE_BUY',
        volume: 0.07
      }],
      synchronizing: false
    };
    sandbox.stub(client, 'getDealsByTimeRange').resolves(deals);
    let startTime = new Date(Date.now() - 1000);
    let endTime = new Date();
    let actual = await api.getDealsByTimeRange(startTime, endTime, 1, 100);
    actual.should.match(deals);
    _sinon2.default.assert.calledWith(client.getDealsByTimeRange, 'accountId', startTime, endTime, 1, 100);
  });

  /**
   * @test {MetaApiConnection#createMarketBuyOrder}
   */
  it('should create market buy order', async () => {
    await api.connect();
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: 46870472
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.createMarketBuyOrder('GBPUSD', 0.07, 0.9, 2.0, { comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_TYPE_BUY', symbol: 'GBPUSD',
      volume: 0.07, stopLoss: 0.9, takeProfit: 2.0, comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' }), 'RPC');
  });

  /**
   * @test {MetaApiConnection#createMarketBuyOrder}
   */
  it('should create market buy order with relative SL/TP', async () => {
    await api.connect();
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: 46870472
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.createMarketBuyOrder('GBPUSD', 0.07, { value: 0.1, units: 'RELATIVE_PRICE' }, { value: 2000, units: 'RELATIVE_POINTS' }, { comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_TYPE_BUY', symbol: 'GBPUSD',
      volume: 0.07, stopLoss: 0.1, stopLossUnits: 'RELATIVE_PRICE', takeProfit: 2000,
      takeProfitUnits: 'RELATIVE_POINTS', comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' }), 'RPC');
  });

  /**
   * @test {MetaApiConnection#createMarketSellOrder}
   */
  it('should create market sell order', async () => {
    await api.connect();
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: 46870472
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.createMarketSellOrder('GBPUSD', 0.07, 2.0, 0.9, { comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_TYPE_SELL', symbol: 'GBPUSD',
      volume: 0.07, stopLoss: 2.0, takeProfit: 0.9, comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' }), 'RPC');
  });

  /**
   * @test {MetaApiConnection#createLimitBuyOrder}
   */
  it('should create limit buy order', async () => {
    await api.connect();
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: 46870472
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.createLimitBuyOrder('GBPUSD', 0.07, 1.0, 0.9, 2.0, { comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_TYPE_BUY_LIMIT',
      symbol: 'GBPUSD', volume: 0.07, openPrice: 1.0, stopLoss: 0.9, takeProfit: 2.0, comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' }), 'RPC');
  });

  /**
   * @test {MetaApiConnection#createLimitSellOrder}
   */
  it('should create limit sell order', async () => {
    await api.connect();
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: 46870472
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.createLimitSellOrder('GBPUSD', 0.07, 1.5, 2.0, 0.9, { comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_TYPE_SELL_LIMIT',
      symbol: 'GBPUSD', volume: 0.07, openPrice: 1.5, stopLoss: 2.0, takeProfit: 0.9, comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' }), 'RPC');
  });

  /**
   * @test {MetaApiConnection#createStopBuyOrder}
   */
  it('should create stop buy order', async () => {
    await api.connect();
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: 46870472
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.createStopBuyOrder('GBPUSD', 0.07, 1.5, 0.9, 2.0, { comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_TYPE_BUY_STOP',
      symbol: 'GBPUSD', volume: 0.07, openPrice: 1.5, stopLoss: 0.9, takeProfit: 2.0, comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' }), 'RPC');
  });

  /**
   * @test {MetaApiConnection#createStopSellOrder}
   */
  it('should create stop sell order', async () => {
    await api.connect();
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: '46870472'
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.createStopSellOrder('GBPUSD', 0.07, 1.0, 2.0, 0.9, { comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_TYPE_SELL_STOP',
      symbol: 'GBPUSD', volume: 0.07, openPrice: 1.0, stopLoss: 2.0, takeProfit: 0.9, comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' }), 'RPC');
  });

  /**
   * @test {MetaApiConnection#createStopLimitBuyOrder}
   */
  it('should create stop limit buy order', async () => {
    await api.connect();
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: 46870472
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.createStopLimitBuyOrder('GBPUSD', 0.07, 1.5, 1.4, 0.9, 2.0, { comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_TYPE_BUY_STOP_LIMIT',
      symbol: 'GBPUSD', volume: 0.07, openPrice: 1.5, stopLimitPrice: 1.4, stopLoss: 0.9, takeProfit: 2.0,
      comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' }), 'RPC');
  });

  /**
   * @test {MetaApiConnection#createStopLimitSellOrder}
   */
  it('should create stop limit sell order', async () => {
    await api.connect();
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: '46870472'
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.createStopLimitSellOrder('GBPUSD', 0.07, 1.0, 1.1, 2.0, 0.9, { comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_TYPE_SELL_STOP_LIMIT',
      symbol: 'GBPUSD', volume: 0.07, openPrice: 1.0, stopLimitPrice: 1.1, stopLoss: 2.0, takeProfit: 0.9,
      comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' }), 'RPC');
  });

  /**
   * @test {MetaApiConnection#modifyPosition}
   */
  it('should modify position', async () => {
    await api.connect();
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      positionId: '46870472'
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.modifyPosition('46870472', 2.0, 0.9);
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'POSITION_MODIFY',
      positionId: '46870472', stopLoss: 2.0, takeProfit: 0.9 }), 'RPC');
  });

  /**
   * @test {MetaApiConnection#closePositionPartially}
   */
  it('should close position partially', async () => {
    await api.connect();
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      positionId: '46870472'
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.closePositionPartially('46870472', 0.9, { comment: 'comment',
      clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'POSITION_PARTIAL',
      positionId: '46870472', volume: 0.9, comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' }), 'RPC');
  });

  /**
   * @test {MetaApiConnection#closePosition}
   */
  it('should close position', async () => {
    await api.connect();
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      positionId: '46870472'
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.closePosition('46870472', { comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'POSITION_CLOSE_ID',
      positionId: '46870472', comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' }), 'RPC');
  });

  /**
   * @test {MetaApiConnection#closeBy}
   */
  it('should close position by an opposite one', async () => {
    await api.connect();
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      positionId: '46870472',
      closeByPositionId: '46870482'
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.closeBy('46870472', '46870482', { comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'POSITION_CLOSE_BY',
      positionId: '46870472', closeByPositionId: '46870482', comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' }), 'RPC');
  });

  /**
   * @test {MetaApiConnection#closePositionsBySymbol}
   */
  it('should close positions by symbol', async () => {
    await api.connect();
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      positionId: '46870472'
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.closePositionsBySymbol('EURUSD', { comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' });
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'POSITIONS_CLOSE_SYMBOL',
      symbol: 'EURUSD', comment: 'comment', clientId: 'TE_GBPUSD_7hyINWqAlE' }), 'RPC');
  });

  /**
   * @test {MetaApiConnection#modifyOrder}
   */
  it('should modify order', async () => {
    await api.connect();
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: '46870472'
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.modifyOrder('46870472', 1.0, 2.0, 0.9);
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_MODIFY', orderId: '46870472',
      openPrice: 1.0, stopLoss: 2.0, takeProfit: 0.9 }), 'RPC');
  });

  /**
   * @test {MetaApiConnection#cancelOrder}
   */
  it('should cancel order', async () => {
    await api.connect();
    let tradeResult = {
      error: 10009,
      description: 'TRADE_RETCODE_DONE',
      orderId: '46870472'
    };
    sandbox.stub(client, 'trade').resolves(tradeResult);
    let actual = await api.cancelOrder('46870472');
    actual.should.match(tradeResult);
    _sinon2.default.assert.calledWith(client.trade, 'accountId', _sinon2.default.match({ actionType: 'ORDER_CANCEL', orderId: '46870472' }), 'RPC');
  });

  /**
   * @test {MetaApiConnection#calculateMargin}
   */
  it('should calculate margin', async () => {
    await api.connect();
    let margin = {
      margin: 110
    };
    let order = {
      symbol: 'EURUSD',
      type: 'ORDER_TYPE_BUY',
      volume: 0.1,
      openPrice: 1.1
    };
    sandbox.stub(client, 'calculateMargin').resolves(margin);
    let actual = await api.calculateMargin(order);
    actual.should.match(margin);
    _sinon2.default.assert.calledWith(client.calculateMargin, 'accountId', 'RPC', undefined, _sinon2.default.match(order));
  });

  /**
   * @test {MetaApiConnection#getSymbols}
   */
  it('should retrieve symbols', async () => {
    await api.connect();
    let symbols = ['EURUSD'];
    sandbox.stub(client, 'getSymbols').resolves(symbols);
    let actual = await api.getSymbols();
    actual.should.match(symbols);
    _sinon2.default.assert.calledWith(client.getSymbols, 'accountId');
  });

  /**
   * @test {MetaApiConnection#getSymbolSpecification}
   */
  it('should retrieve symbol specification', async () => {
    await api.connect();
    let specification = {
      symbol: 'AUDNZD',
      tickSize: 0.00001,
      minVolume: 0.01,
      maxVolume: 100,
      volumeStep: 0.01
    };
    sandbox.stub(client, 'getSymbolSpecification').resolves(specification);
    let actual = await api.getSymbolSpecification('AUDNZD');
    actual.should.match(specification);
    _sinon2.default.assert.calledWith(client.getSymbolSpecification, 'accountId', 'AUDNZD');
  });

  /**
   * @test {MetaApiConnection#getSymbolPrice}
   */
  it('should retrieve symbol price', async () => {
    await api.connect();
    let price = {
      symbol: 'AUDNZD',
      bid: 1.05297,
      ask: 1.05309,
      profitTickValue: 0.59731,
      lossTickValue: 0.59736
    };
    sandbox.stub(client, 'getSymbolPrice').resolves(price);
    let actual = await api.getSymbolPrice('AUDNZD', true);
    actual.should.match(price);
    _sinon2.default.assert.calledWith(client.getSymbolPrice, 'accountId', 'AUDNZD', true);
  });

  /**
   * @test {MetaApiConnection#getCandle}
   */
  it('should retrieve current candle', async () => {
    await api.connect();
    let candle = {
      symbol: 'AUDNZD',
      timeframe: '15m',
      time: new Date('2020-04-07T03:45:00.000Z'),
      brokerTime: '2020-04-07 06:45:00.000',
      open: 1.03297,
      high: 1.06309,
      low: 1.02705,
      close: 1.043,
      tickVolume: 1435,
      spread: 17,
      volume: 345
    };
    sandbox.stub(client, 'getCandle').resolves(candle);
    let actual = await api.getCandle('AUDNZD', '15m', true);
    actual.should.match(candle);
    _sinon2.default.assert.calledWith(client.getCandle, 'accountId', 'AUDNZD', '15m', true);
  });

  /**
   * @test {MetaApiConnection#getTick}
   */
  it('should retrieve latest tick', async () => {
    await api.connect();
    let tick = {
      symbol: 'AUDNZD',
      time: new Date('2020-04-07T03:45:00.000Z'),
      brokerTime: '2020-04-07 06:45:00.000',
      bid: 1.05297,
      ask: 1.05309,
      last: 0.5298,
      volume: 0.13,
      side: 'buy'
    };
    sandbox.stub(client, 'getTick').resolves(tick);
    let actual = await api.getTick('AUDNZD', true);
    actual.should.match(tick);
    _sinon2.default.assert.calledWith(client.getTick, 'accountId', 'AUDNZD', true);
  });

  /**
   * @test {MetaApiConnection#getBook}
   */
  it('should retrieve latest order book', async () => {
    await api.connect();
    let book = {
      symbol: 'AUDNZD',
      time: new Date('2020-04-07T03:45:00.000Z'),
      brokerTime: '2020-04-07 06:45:00.000',
      book: [{
        type: 'BOOK_TYPE_SELL',
        price: 1.05309,
        volume: 5.67
      }, {
        type: 'BOOK_TYPE_BUY',
        price: 1.05297,
        volume: 3.45
      }]
    };
    sandbox.stub(client, 'getBook').resolves(book);
    let actual = await api.getBook('AUDNZD', true);
    actual.should.match(book);
    _sinon2.default.assert.calledWith(client.getBook, 'accountId', 'AUDNZD', true);
  });

  /**
   * @test {MetaApiConnection#getServerTime}
   */
  it('should retrieve latest server time', async () => {
    await api.connect();
    let serverTime = {
      time: new Date('2022-01-01T00:00:00.000Z'),
      brokerTime: '2022-01-01 02:00:00.000Z'
    };
    sandbox.stub(client, 'getServerTime').resolves(serverTime);
    let actual = await api.getServerTime();
    actual.should.match(serverTime);
    _sinon2.default.assert.calledWith(client.getServerTime, 'accountId');
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9tZXRhQXBpL3JwY01ldGFBcGlDb25uZWN0aW9uLnNwZWMuZXM2Il0sIm5hbWVzIjpbImRlc2NyaWJlIiwic2FuZGJveCIsImFwaSIsImFjY291bnQiLCJjbG9jayIsImNsaWVudCIsImdldEFjY291bnRJbmZvcm1hdGlvbiIsImFkZFN5bmNocm9uaXphdGlvbkxpc3RlbmVyIiwiZW5zdXJlU3Vic2NyaWJlIiwiZ2V0UG9zaXRpb25zIiwiZ2V0UG9zaXRpb24iLCJnZXRPcmRlcnMiLCJnZXRPcmRlciIsImdldEhpc3RvcnlPcmRlcnNCeVRpY2tldCIsImdldEhpc3RvcnlPcmRlcnNCeVBvc2l0aW9uIiwiZ2V0SGlzdG9yeU9yZGVyc0J5VGltZVJhbmdlIiwiZ2V0RGVhbHNCeVRpY2tldCIsImdldERlYWxzQnlQb3NpdGlvbiIsImdldERlYWxzQnlUaW1lUmFuZ2UiLCJyZW1vdmVBcHBsaWNhdGlvbiIsInRyYWRlIiwicmVjb25uZWN0IiwiZ2V0U3ltYm9scyIsImdldFN5bWJvbFNwZWNpZmljYXRpb24iLCJnZXRTeW1ib2xQcmljZSIsImdldENhbmRsZSIsImdldFRpY2siLCJnZXRCb29rIiwiZ2V0U2VydmVyVGltZSIsImNhbGN1bGF0ZU1hcmdpbiIsIndhaXRTeW5jaHJvbml6ZWQiLCJhZGRBY2NvdW50Q2FjaGUiLCJyZW1vdmVBY2NvdW50Q2FjaGUiLCJhY2NvdW50UmVnaW9ucyIsImJlZm9yZSIsInNpbm9uIiwiY3JlYXRlU2FuZGJveCIsImJlZm9yZUVhY2giLCJpZCIsInN0YXRlIiwicmVsb2FkIiwiUnBjTWV0YUFwaUNvbm5lY3Rpb24iLCJ1c2VGYWtlVGltZXJzIiwic2hvdWxkQWR2YW5jZVRpbWUiLCJhZnRlckVhY2giLCJyZXN0b3JlIiwiaXQiLCJjb25uZWN0Iiwic3R1YiIsIm9uRmlyc3RDYWxsIiwicmVqZWN0cyIsIlRpbWVvdXRFcnJvciIsIm9uU2Vjb25kQ2FsbCIsIm9uVGhpcmRDYWxsIiwicmVzb2x2ZXMiLCJyZXMiLCJzZXRUaW1lb3V0Iiwib25Db25uZWN0ZWQiLCJ0aWNrQXN5bmMiLCJjYWxsc0Zha2UiLCJFcnJvciIsImVyciIsIm5hbWUiLCJzaG91bGQiLCJlcXVhbCIsImFzc2VydCIsImNhbGxlZE9uY2UiLCJhY2NvdW50SW5mb3JtYXRpb24iLCJicm9rZXIiLCJjdXJyZW5jeSIsInNlcnZlciIsImJhbGFuY2UiLCJlcXVpdHkiLCJtYXJnaW4iLCJmcmVlTWFyZ2luIiwibGV2ZXJhZ2UiLCJtYXJnaW5MZXZlbCIsImFjdHVhbCIsIm1hdGNoIiwiY2FsbGVkV2l0aCIsIm1lc3NhZ2UiLCJjbG9zZSIsInBvc2l0aW9ucyIsInR5cGUiLCJzeW1ib2wiLCJtYWdpYyIsInRpbWUiLCJEYXRlIiwidXBkYXRlVGltZSIsIm9wZW5QcmljZSIsImN1cnJlbnRQcmljZSIsImN1cnJlbnRUaWNrVmFsdWUiLCJ2b2x1bWUiLCJzd2FwIiwicHJvZml0IiwiY29tbWlzc2lvbiIsImNsaWVudElkIiwic3RvcExvc3MiLCJ1bnJlYWxpemVkUHJvZml0IiwicmVhbGl6ZWRQcm9maXQiLCJwb3NpdGlvbiIsIm9yZGVycyIsInBsYXRmb3JtIiwiY3VycmVudFZvbHVtZSIsImNvbW1lbnQiLCJvcmRlciIsImhpc3RvcnlPcmRlcnMiLCJkb25lVGltZSIsInBvc2l0aW9uSWQiLCJzeW5jaHJvbml6aW5nIiwic3RhcnRUaW1lIiwibm93IiwiZW5kVGltZSIsImRlYWxzIiwiZW50cnlUeXBlIiwib3JkZXJJZCIsInByaWNlIiwidHJhZGVSZXN1bHQiLCJlcnJvciIsImRlc2NyaXB0aW9uIiwiY3JlYXRlTWFya2V0QnV5T3JkZXIiLCJhY3Rpb25UeXBlIiwidGFrZVByb2ZpdCIsInZhbHVlIiwidW5pdHMiLCJzdG9wTG9zc1VuaXRzIiwidGFrZVByb2ZpdFVuaXRzIiwiY3JlYXRlTWFya2V0U2VsbE9yZGVyIiwiY3JlYXRlTGltaXRCdXlPcmRlciIsImNyZWF0ZUxpbWl0U2VsbE9yZGVyIiwiY3JlYXRlU3RvcEJ1eU9yZGVyIiwiY3JlYXRlU3RvcFNlbGxPcmRlciIsImNyZWF0ZVN0b3BMaW1pdEJ1eU9yZGVyIiwic3RvcExpbWl0UHJpY2UiLCJjcmVhdGVTdG9wTGltaXRTZWxsT3JkZXIiLCJtb2RpZnlQb3NpdGlvbiIsImNsb3NlUG9zaXRpb25QYXJ0aWFsbHkiLCJjbG9zZVBvc2l0aW9uIiwiY2xvc2VCeVBvc2l0aW9uSWQiLCJjbG9zZUJ5IiwiY2xvc2VQb3NpdGlvbnNCeVN5bWJvbCIsIm1vZGlmeU9yZGVyIiwiY2FuY2VsT3JkZXIiLCJ1bmRlZmluZWQiLCJzeW1ib2xzIiwic3BlY2lmaWNhdGlvbiIsInRpY2tTaXplIiwibWluVm9sdW1lIiwibWF4Vm9sdW1lIiwidm9sdW1lU3RlcCIsImJpZCIsImFzayIsInByb2ZpdFRpY2tWYWx1ZSIsImxvc3NUaWNrVmFsdWUiLCJjYW5kbGUiLCJ0aW1lZnJhbWUiLCJicm9rZXJUaW1lIiwib3BlbiIsImhpZ2giLCJsb3ciLCJ0aWNrVm9sdW1lIiwic3ByZWFkIiwidGljayIsImxhc3QiLCJzaWRlIiwiYm9vayIsInNlcnZlclRpbWUiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7QUFFQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7QUFFQTs7O0FBR0E7QUFDQUEsU0FBUyxzQkFBVCxFQUFpQyxNQUFNOztBQUVyQyxNQUFJQyxPQUFKO0FBQ0EsTUFBSUMsR0FBSjtBQUNBLE1BQUlDLE9BQUo7QUFDQSxNQUFJQyxLQUFKO0FBQ0EsTUFBSUMsU0FBUztBQUNYQywyQkFBdUIsTUFBTSxDQUFFLENBRHBCO0FBRVhDLGdDQUE0QixNQUFNLENBQUUsQ0FGekI7QUFHWEMscUJBQWlCLE1BQU0sQ0FBRSxDQUhkO0FBSVhDLGtCQUFjLE1BQU0sQ0FBRSxDQUpYO0FBS1hDLGlCQUFhLE1BQU0sQ0FBRSxDQUxWO0FBTVhDLGVBQVcsTUFBTSxDQUFFLENBTlI7QUFPWEMsY0FBVSxNQUFNLENBQUUsQ0FQUDtBQVFYQyw4QkFBMEIsTUFBTSxDQUFFLENBUnZCO0FBU1hDLGdDQUE0QixNQUFNLENBQUUsQ0FUekI7QUFVWEMsaUNBQTZCLE1BQU0sQ0FBRSxDQVYxQjtBQVdYQyxzQkFBa0IsTUFBTSxDQUFFLENBWGY7QUFZWEMsd0JBQW9CLE1BQU0sQ0FBRSxDQVpqQjtBQWFYQyx5QkFBcUIsTUFBTSxDQUFFLENBYmxCO0FBY1hDLHVCQUFtQixNQUFNLENBQUUsQ0FkaEI7QUFlWEMsV0FBTyxNQUFNLENBQUUsQ0FmSjtBQWdCWEMsZUFBVyxNQUFNLENBQUUsQ0FoQlI7QUFpQlhDLGdCQUFZLE1BQU0sQ0FBRSxDQWpCVDtBQWtCWEMsNEJBQXdCLE1BQU0sQ0FBRSxDQWxCckI7QUFtQlhDLG9CQUFnQixNQUFNLENBQUUsQ0FuQmI7QUFvQlhDLGVBQVcsTUFBTSxDQUFFLENBcEJSO0FBcUJYQyxhQUFTLE1BQU0sQ0FBRSxDQXJCTjtBQXNCWEMsYUFBUyxNQUFNLENBQUUsQ0F0Qk47QUF1QlhDLG1CQUFlLE1BQU0sQ0FBRSxDQXZCWjtBQXdCWEMscUJBQWlCLE1BQU0sQ0FBRSxDQXhCZDtBQXlCWEMsc0JBQWtCLE1BQU0sQ0FBRSxDQXpCZjtBQTBCWEMscUJBQWlCLE1BQU0sQ0FBRSxDQTFCZDtBQTJCWEMsd0JBQW9CLE1BQU0sQ0FBRTtBQTNCakIsR0FBYjs7QUE4QkEsTUFBSUMsaUJBQWlCO0FBQ25CLGlCQUFhLFdBRE07QUFFbkIsZ0JBQVk7QUFGTyxHQUFyQjs7QUFLQUMsU0FBTyxNQUFNO0FBQ1hqQyxjQUFVa0MsZ0JBQU1DLGFBQU4sRUFBVjtBQUNELEdBRkQ7O0FBSUFDLGFBQVcsTUFBTTtBQUNmbEMsY0FBVTtBQUNSbUMsVUFBSSxXQURJO0FBRVJDLGFBQU8sVUFGQztBQUdSTixvQkFIUTtBQUlSTyxjQUFRLE1BQU0sQ0FBRTtBQUpSLEtBQVY7QUFNQXRDLFVBQU0sSUFBSXVDLDhCQUFKLENBQXlCcEMsTUFBekIsRUFBaUNGLE9BQWpDLENBQU47QUFDQUMsWUFBUStCLGdCQUFNTyxhQUFOLENBQW9CO0FBQzFCQyx5QkFBbUI7QUFETyxLQUFwQixDQUFSO0FBR0QsR0FYRDs7QUFhQUMsWUFBVSxNQUFNO0FBQ2R4QyxVQUFNeUMsT0FBTjtBQUNBNUMsWUFBUTRDLE9BQVI7QUFDRCxHQUhEOztBQUtBOzs7QUFHQUMsS0FBRyxtREFBSCxFQUF3RCxZQUFZO0FBQ2xFLFVBQU01QyxJQUFJNkMsT0FBSixFQUFOO0FBQ0E5QyxZQUFRK0MsSUFBUixDQUFhM0MsTUFBYixFQUFxQixrQkFBckIsRUFBeUM0QyxXQUF6QyxHQUF1REMsT0FBdkQsQ0FBK0QsSUFBSUMsc0JBQUosQ0FBaUIsTUFBakIsQ0FBL0QsRUFDR0MsWUFESCxHQUNrQkYsT0FEbEIsQ0FDMEIsSUFBSUMsc0JBQUosQ0FBaUIsTUFBakIsQ0FEMUIsRUFFR0UsV0FGSCxHQUVpQkMsUUFGakIsQ0FFMEIsVUFGMUI7QUFHQSxLQUFDLFlBQVk7QUFDWCxZQUFNLHNCQUFZQyxPQUFPQyxXQUFXRCxHQUFYLEVBQWdCLEVBQWhCLENBQW5CLENBQU47QUFDQSxZQUFNckQsSUFBSXVELFdBQUosRUFBTjtBQUNELEtBSEQ7QUFJQXJELFVBQU1zRCxTQUFOLENBQWdCLElBQWhCO0FBQ0EsVUFBTXhELElBQUk0QixnQkFBSixFQUFOO0FBQ0QsR0FYRDs7QUFhQTs7O0FBR0FnQixLQUFHLDZDQUFILEVBQWtELFlBQVk7QUFDNUQsVUFBTTVDLElBQUk2QyxPQUFKLEVBQU47QUFDQTlDLFlBQVErQyxJQUFSLENBQWEzQyxNQUFiLEVBQXFCLGtCQUFyQixFQUF5Q3NELFNBQXpDLENBQW1ELFlBQVk7QUFDN0QsWUFBTSxzQkFBWUosT0FBT0MsV0FBV0QsR0FBWCxFQUFnQixHQUFoQixDQUFuQixDQUFOO0FBQ0EsWUFBTSxJQUFJSixzQkFBSixDQUFpQixNQUFqQixDQUFOO0FBQ0QsS0FIRDtBQUlBLFFBQUk7QUFDRixPQUFDLFlBQVk7QUFDWCxjQUFNLHNCQUFZSSxPQUFPQyxXQUFXRCxHQUFYLEVBQWdCLEVBQWhCLENBQW5CLENBQU47QUFDQSxjQUFNckQsSUFBSXVELFdBQUosRUFBTjtBQUNELE9BSEQ7QUFJQXJELFlBQU1zRCxTQUFOLENBQWdCLElBQWhCO0FBQ0EsWUFBTXhELElBQUk0QixnQkFBSixDQUFxQixJQUFyQixDQUFOO0FBQ0EsWUFBTSxJQUFJOEIsS0FBSixDQUFVLHVCQUFWLENBQU47QUFDRCxLQVJELENBUUUsT0FBT0MsR0FBUCxFQUFZO0FBQ1pBLFVBQUlDLElBQUosQ0FBU0MsTUFBVCxDQUFnQkMsS0FBaEIsQ0FBc0IsY0FBdEI7QUFDRDtBQUNEN0Isb0JBQU04QixNQUFOLENBQWFDLFVBQWIsQ0FBd0I3RCxPQUFPeUIsZ0JBQS9CO0FBQ0QsR0FsQkQ7O0FBb0JBOzs7QUFHQWdCLEtBQUcsK0VBQUgsRUFBb0YsWUFBWTtBQUM5RixVQUFNNUMsSUFBSTZDLE9BQUosRUFBTjtBQUNBOUMsWUFBUStDLElBQVIsQ0FBYTNDLE1BQWIsRUFBcUIsa0JBQXJCLEVBQXlDaUQsUUFBekM7QUFDQSxRQUFJO0FBQ0ZsRCxZQUFNc0QsU0FBTixDQUFnQixJQUFoQjtBQUNBLFlBQU14RCxJQUFJNEIsZ0JBQUosQ0FBcUIsSUFBckIsQ0FBTjtBQUNBLFlBQU0sSUFBSThCLEtBQUosQ0FBVSx1QkFBVixDQUFOO0FBQ0QsS0FKRCxDQUlFLE9BQU9DLEdBQVAsRUFBWTtBQUNaQSxVQUFJQyxJQUFKLENBQVNDLE1BQVQsQ0FBZ0JDLEtBQWhCLENBQXNCLGNBQXRCO0FBQ0Q7QUFDRixHQVZEOztBQVlBOzs7QUFHQWxCLEtBQUcscUNBQUgsRUFBMEMsWUFBWTtBQUNwRCxVQUFNNUMsSUFBSTZDLE9BQUosRUFBTjtBQUNBLFFBQUlvQixxQkFBcUI7QUFDdkJDLGNBQVEsc0JBRGU7QUFFdkJDLGdCQUFVLEtBRmE7QUFHdkJDLGNBQVEsa0JBSGU7QUFJdkJDLGVBQVMsTUFKYztBQUt2QkMsY0FBUSxpQkFMZTtBQU12QkMsY0FBUSxLQU5lO0FBT3ZCQyxrQkFBWSxPQVBXO0FBUXZCQyxnQkFBVSxHQVJhO0FBU3ZCQyxtQkFBYTtBQVRVLEtBQXpCO0FBV0EzRSxZQUFRK0MsSUFBUixDQUFhM0MsTUFBYixFQUFxQix1QkFBckIsRUFBOENpRCxRQUE5QyxDQUF1RGEsa0JBQXZEO0FBQ0EsUUFBSVUsU0FBUyxNQUFNM0UsSUFBSUkscUJBQUosRUFBbkI7QUFDQXVFLFdBQU9kLE1BQVAsQ0FBY2UsS0FBZCxDQUFvQlgsa0JBQXBCO0FBQ0FoQyxvQkFBTThCLE1BQU4sQ0FBYWMsVUFBYixDQUF3QjFFLE9BQU9DLHFCQUEvQixFQUFzRCxXQUF0RDtBQUNELEdBakJEOztBQW1CQTs7O0FBR0F3QyxLQUFHLHNEQUFILEVBQTJELFlBQVk7QUFDckUsUUFBSTtBQUNGLFlBQU01QyxJQUFJSSxxQkFBSixFQUFOO0FBQ0EsWUFBTSxJQUFJc0QsS0FBSixDQUFVLG1CQUFWLENBQU47QUFDRCxLQUhELENBR0UsT0FBT0MsR0FBUCxFQUFZO0FBQ1pBLFVBQUltQixPQUFKLENBQVlqQixNQUFaLENBQW1CQyxLQUFuQixDQUF5QixrREFDekIsMkNBREE7QUFFRDtBQUNGLEdBUkQ7O0FBVUE7OztBQUdBbEIsS0FBRyxvREFBSCxFQUF5RCxZQUFZO0FBQ25FLFVBQU01QyxJQUFJNkMsT0FBSixFQUFOO0FBQ0EsVUFBTTdDLElBQUkrRSxLQUFKLEVBQU47QUFDQSxRQUFJO0FBQ0YsWUFBTS9FLElBQUlJLHFCQUFKLEVBQU47QUFDQSxZQUFNLElBQUlzRCxLQUFKLENBQVUsbUJBQVYsQ0FBTjtBQUNELEtBSEQsQ0FHRSxPQUFPQyxHQUFQLEVBQVk7QUFDWkEsVUFBSW1CLE9BQUosQ0FBWWpCLE1BQVosQ0FBbUJDLEtBQW5CLENBQXlCLGlFQUF6QjtBQUNEO0FBQ0YsR0FURDs7QUFXQTs7O0FBR0FsQixLQUFHLDJCQUFILEVBQWdDLFlBQVk7QUFDMUMsVUFBTTVDLElBQUk2QyxPQUFKLEVBQU47QUFDQSxRQUFJbUMsWUFBWSxDQUFDO0FBQ2Y1QyxVQUFJLFVBRFc7QUFFZjZDLFlBQU0sbUJBRlM7QUFHZkMsY0FBUSxRQUhPO0FBSWZDLGFBQU8sSUFKUTtBQUtmQyxZQUFNLElBQUlDLElBQUosQ0FBUywwQkFBVCxDQUxTO0FBTWZDLGtCQUFZLElBQUlELElBQUosQ0FBUywwQkFBVCxDQU5HO0FBT2ZFLGlCQUFXLE9BUEk7QUFRZkMsb0JBQWMsT0FSQztBQVNmQyx3QkFBa0IsQ0FUSDtBQVVmQyxjQUFRLElBVk87QUFXZkMsWUFBTSxDQVhTO0FBWWZDLGNBQVEsQ0FBQyxpQkFaTTtBQWFmQyxrQkFBWSxDQUFDLElBYkU7QUFjZkMsZ0JBQVUsc0JBZEs7QUFlZkMsZ0JBQVUsT0FmSztBQWdCZkMsd0JBQWtCLENBQUMsaUJBaEJKO0FBaUJmQyxzQkFBZ0IsQ0FBQztBQWpCRixLQUFELENBQWhCO0FBbUJBbEcsWUFBUStDLElBQVIsQ0FBYTNDLE1BQWIsRUFBcUIsY0FBckIsRUFBcUNpRCxRQUFyQyxDQUE4QzRCLFNBQTlDO0FBQ0EsUUFBSUwsU0FBUyxNQUFNM0UsSUFBSU8sWUFBSixFQUFuQjtBQUNBb0UsV0FBT2QsTUFBUCxDQUFjZSxLQUFkLENBQW9CSSxTQUFwQjtBQUNBL0Msb0JBQU04QixNQUFOLENBQWFjLFVBQWIsQ0FBd0IxRSxPQUFPSSxZQUEvQixFQUE2QyxXQUE3QztBQUNELEdBekJEOztBQTJCQTs7O0FBR0FxQyxLQUFHLGdDQUFILEVBQXFDLFlBQVk7QUFDL0MsVUFBTTVDLElBQUk2QyxPQUFKLEVBQU47QUFDQSxRQUFJcUQsV0FBVztBQUNiOUQsVUFBSSxVQURTO0FBRWI2QyxZQUFNLG1CQUZPO0FBR2JDLGNBQVEsUUFISztBQUliQyxhQUFPLElBSk07QUFLYkMsWUFBTSxJQUFJQyxJQUFKLENBQVMsMEJBQVQsQ0FMTztBQU1iQyxrQkFBWSxJQUFJRCxJQUFKLENBQVMsMEJBQVQsQ0FOQztBQU9iRSxpQkFBVyxPQVBFO0FBUWJDLG9CQUFjLE9BUkQ7QUFTYkMsd0JBQWtCLENBVEw7QUFVYkMsY0FBUSxJQVZLO0FBV2JDLFlBQU0sQ0FYTztBQVliQyxjQUFRLENBQUMsaUJBWkk7QUFhYkMsa0JBQVksQ0FBQyxJQWJBO0FBY2JDLGdCQUFVLHNCQWRHO0FBZWJDLGdCQUFVLE9BZkc7QUFnQmJDLHdCQUFrQixDQUFDLGlCQWhCTjtBQWlCYkMsc0JBQWdCLENBQUM7QUFqQkosS0FBZjtBQW1CQWxHLFlBQVErQyxJQUFSLENBQWEzQyxNQUFiLEVBQXFCLGFBQXJCLEVBQW9DaUQsUUFBcEMsQ0FBNkM4QyxRQUE3QztBQUNBLFFBQUl2QixTQUFTLE1BQU0zRSxJQUFJUSxXQUFKLENBQWdCLFVBQWhCLENBQW5CO0FBQ0FtRSxXQUFPZCxNQUFQLENBQWNlLEtBQWQsQ0FBb0JzQixRQUFwQjtBQUNBakUsb0JBQU04QixNQUFOLENBQWFjLFVBQWIsQ0FBd0IxRSxPQUFPSyxXQUEvQixFQUE0QyxXQUE1QyxFQUF5RCxVQUF6RDtBQUNELEdBekJEOztBQTJCQTs7O0FBR0FvQyxLQUFHLHdCQUFILEVBQTZCLFlBQVk7QUFDdkMsVUFBTTVDLElBQUk2QyxPQUFKLEVBQU47QUFDQSxRQUFJc0QsU0FBUyxDQUFDO0FBQ1ovRCxVQUFJLFVBRFE7QUFFWjZDLFlBQU0sc0JBRk07QUFHWjVDLGFBQU8sb0JBSEs7QUFJWjZDLGNBQVEsUUFKSTtBQUtaQyxhQUFPLE1BTEs7QUFNWmlCLGdCQUFVLEtBTkU7QUFPWmhCLFlBQU0sSUFBSUMsSUFBSixDQUFTLDBCQUFULENBUE07QUFRWkUsaUJBQVcsSUFSQztBQVNaQyxvQkFBYyxPQVRGO0FBVVpFLGNBQVEsSUFWSTtBQVdaVyxxQkFBZSxJQVhIO0FBWVpDLGVBQVM7QUFaRyxLQUFELENBQWI7QUFjQXZHLFlBQVErQyxJQUFSLENBQWEzQyxNQUFiLEVBQXFCLFdBQXJCLEVBQWtDaUQsUUFBbEMsQ0FBMkMrQyxNQUEzQztBQUNBLFFBQUl4QixTQUFTLE1BQU0zRSxJQUFJUyxTQUFKLEVBQW5CO0FBQ0FrRSxXQUFPZCxNQUFQLENBQWNlLEtBQWQsQ0FBb0J1QixNQUFwQjtBQUNBbEUsb0JBQU04QixNQUFOLENBQWFjLFVBQWIsQ0FBd0IxRSxPQUFPTSxTQUEvQixFQUEwQyxXQUExQztBQUNELEdBcEJEOztBQXNCQTs7O0FBR0FtQyxLQUFHLDZCQUFILEVBQWtDLFlBQVk7QUFDNUMsVUFBTTVDLElBQUk2QyxPQUFKLEVBQU47QUFDQSxRQUFJMEQsUUFBUTtBQUNWbkUsVUFBSSxVQURNO0FBRVY2QyxZQUFNLHNCQUZJO0FBR1Y1QyxhQUFPLG9CQUhHO0FBSVY2QyxjQUFRLFFBSkU7QUFLVkMsYUFBTyxNQUxHO0FBTVZpQixnQkFBVSxLQU5BO0FBT1ZoQixZQUFNLElBQUlDLElBQUosQ0FBUywwQkFBVCxDQVBJO0FBUVZFLGlCQUFXLElBUkQ7QUFTVkMsb0JBQWMsT0FUSjtBQVVWRSxjQUFRLElBVkU7QUFXVlcscUJBQWUsSUFYTDtBQVlWQyxlQUFTO0FBWkMsS0FBWjtBQWNBdkcsWUFBUStDLElBQVIsQ0FBYTNDLE1BQWIsRUFBcUIsVUFBckIsRUFBaUNpRCxRQUFqQyxDQUEwQ21ELEtBQTFDO0FBQ0EsUUFBSTVCLFNBQVMsTUFBTTNFLElBQUlVLFFBQUosQ0FBYSxVQUFiLENBQW5CO0FBQ0FpRSxXQUFPZCxNQUFQLENBQWNlLEtBQWQsQ0FBb0IyQixLQUFwQjtBQUNBdEUsb0JBQU04QixNQUFOLENBQWFjLFVBQWIsQ0FBd0IxRSxPQUFPTyxRQUEvQixFQUF5QyxXQUF6QyxFQUFzRCxVQUF0RDtBQUNELEdBcEJEOztBQXNCQTs7O0FBR0FrQyxLQUFHLDBDQUFILEVBQStDLFlBQVk7QUFDekQsVUFBTTVDLElBQUk2QyxPQUFKLEVBQU47QUFDQSxRQUFJMkQsZ0JBQWdCO0FBQ2xCQSxxQkFBZSxDQUFDO0FBQ2RWLGtCQUFVLHNCQURJO0FBRWROLHNCQUFjLEtBRkE7QUFHZGEsdUJBQWUsQ0FIRDtBQUlkSSxrQkFBVSxJQUFJcEIsSUFBSixDQUFTLDBCQUFULENBSkk7QUFLZGpELFlBQUksVUFMVTtBQU1kK0MsZUFBTyxJQU5PO0FBT2RpQixrQkFBVSxLQVBJO0FBUWRNLG9CQUFZLFVBUkU7QUFTZHJFLGVBQU8sb0JBVE87QUFVZDZDLGdCQUFRLFFBVk07QUFXZEUsY0FBTSxJQUFJQyxJQUFKLENBQVMsMEJBQVQsQ0FYUTtBQVlkSixjQUFNLGdCQVpRO0FBYWRTLGdCQUFRO0FBYk0sT0FBRCxDQURHO0FBZ0JsQmlCLHFCQUFlO0FBaEJHLEtBQXBCO0FBa0JBNUcsWUFBUStDLElBQVIsQ0FBYTNDLE1BQWIsRUFBcUIsMEJBQXJCLEVBQWlEaUQsUUFBakQsQ0FBMERvRCxhQUExRDtBQUNBLFFBQUk3QixTQUFTLE1BQU0zRSxJQUFJVyx3QkFBSixDQUE2QixVQUE3QixDQUFuQjtBQUNBZ0UsV0FBT2QsTUFBUCxDQUFjZSxLQUFkLENBQW9CNEIsYUFBcEI7QUFDQXZFLG9CQUFNOEIsTUFBTixDQUFhYyxVQUFiLENBQXdCMUUsT0FBT1Esd0JBQS9CLEVBQXlELFdBQXpELEVBQXNFLFVBQXRFO0FBQ0QsR0F4QkQ7O0FBMEJBOzs7QUFHQWlDLEtBQUcsNENBQUgsRUFBaUQsWUFBWTtBQUMzRCxVQUFNNUMsSUFBSTZDLE9BQUosRUFBTjtBQUNBLFFBQUkyRCxnQkFBZ0I7QUFDbEJBLHFCQUFlLENBQUM7QUFDZFYsa0JBQVUsc0JBREk7QUFFZE4sc0JBQWMsS0FGQTtBQUdkYSx1QkFBZSxDQUhEO0FBSWRJLGtCQUFVLElBQUlwQixJQUFKLENBQVMsMEJBQVQsQ0FKSTtBQUtkakQsWUFBSSxVQUxVO0FBTWQrQyxlQUFPLElBTk87QUFPZGlCLGtCQUFVLEtBUEk7QUFRZE0sb0JBQVksVUFSRTtBQVNkckUsZUFBTyxvQkFUTztBQVVkNkMsZ0JBQVEsUUFWTTtBQVdkRSxjQUFNLElBQUlDLElBQUosQ0FBUywwQkFBVCxDQVhRO0FBWWRKLGNBQU0sZ0JBWlE7QUFhZFMsZ0JBQVE7QUFiTSxPQUFELENBREc7QUFnQmxCaUIscUJBQWU7QUFoQkcsS0FBcEI7QUFrQkE1RyxZQUFRK0MsSUFBUixDQUFhM0MsTUFBYixFQUFxQiw0QkFBckIsRUFBbURpRCxRQUFuRCxDQUE0RG9ELGFBQTVEO0FBQ0EsUUFBSTdCLFNBQVMsTUFBTTNFLElBQUlZLDBCQUFKLENBQStCLFVBQS9CLENBQW5CO0FBQ0ErRCxXQUFPZCxNQUFQLENBQWNlLEtBQWQsQ0FBb0I0QixhQUFwQjtBQUNBdkUsb0JBQU04QixNQUFOLENBQWFjLFVBQWIsQ0FBd0IxRSxPQUFPUywwQkFBL0IsRUFBMkQsV0FBM0QsRUFBd0UsVUFBeEU7QUFDRCxHQXhCRDs7QUEwQkE7OztBQUdBZ0MsS0FBRyw4Q0FBSCxFQUFtRCxZQUFZO0FBQzdELFVBQU01QyxJQUFJNkMsT0FBSixFQUFOO0FBQ0EsUUFBSTJELGdCQUFnQjtBQUNsQkEscUJBQWUsQ0FBQztBQUNkVixrQkFBVSxzQkFESTtBQUVkTixzQkFBYyxLQUZBO0FBR2RhLHVCQUFlLENBSEQ7QUFJZEksa0JBQVUsSUFBSXBCLElBQUosQ0FBUywwQkFBVCxDQUpJO0FBS2RqRCxZQUFJLFVBTFU7QUFNZCtDLGVBQU8sSUFOTztBQU9kaUIsa0JBQVUsS0FQSTtBQVFkTSxvQkFBWSxVQVJFO0FBU2RyRSxlQUFPLG9CQVRPO0FBVWQ2QyxnQkFBUSxRQVZNO0FBV2RFLGNBQU0sSUFBSUMsSUFBSixDQUFTLDBCQUFULENBWFE7QUFZZEosY0FBTSxnQkFaUTtBQWFkUyxnQkFBUTtBQWJNLE9BQUQsQ0FERztBQWdCbEJpQixxQkFBZTtBQWhCRyxLQUFwQjtBQWtCQTVHLFlBQVErQyxJQUFSLENBQWEzQyxNQUFiLEVBQXFCLDZCQUFyQixFQUFvRGlELFFBQXBELENBQTZEb0QsYUFBN0Q7QUFDQSxRQUFJSSxZQUFZLElBQUl2QixJQUFKLENBQVNBLEtBQUt3QixHQUFMLEtBQWEsSUFBdEIsQ0FBaEI7QUFDQSxRQUFJQyxVQUFVLElBQUl6QixJQUFKLEVBQWQ7QUFDQSxRQUFJVixTQUFTLE1BQU0zRSxJQUFJYSwyQkFBSixDQUFnQytGLFNBQWhDLEVBQTJDRSxPQUEzQyxFQUFvRCxDQUFwRCxFQUF1RCxHQUF2RCxDQUFuQjtBQUNBbkMsV0FBT2QsTUFBUCxDQUFjZSxLQUFkLENBQW9CNEIsYUFBcEI7QUFDQXZFLG9CQUFNOEIsTUFBTixDQUFhYyxVQUFiLENBQXdCMUUsT0FBT1UsMkJBQS9CLEVBQTRELFdBQTVELEVBQXlFK0YsU0FBekUsRUFBb0ZFLE9BQXBGLEVBQTZGLENBQTdGLEVBQWdHLEdBQWhHO0FBQ0QsR0ExQkQ7O0FBNEJBOzs7QUFHQWxFLEtBQUcseUNBQUgsRUFBOEMsWUFBWTtBQUN4RCxVQUFNNUMsSUFBSTZDLE9BQUosRUFBTjtBQUNBLFFBQUlrRSxRQUFRO0FBQ1ZBLGFBQU8sQ0FBQztBQUNOakIsa0JBQVUsc0JBREo7QUFFTkQsb0JBQVksQ0FBQyxJQUZQO0FBR05tQixtQkFBVyxlQUhMO0FBSU41RSxZQUFJLFVBSkU7QUFLTitDLGVBQU8sSUFMRDtBQU1OaUIsa0JBQVUsS0FOSjtBQU9OYSxpQkFBUyxVQVBIO0FBUU5QLG9CQUFZLFVBUk47QUFTTlEsZUFBTyxPQVREO0FBVU50QixnQkFBUSxDQVZGO0FBV05ELGNBQU0sQ0FYQTtBQVlOVCxnQkFBUSxRQVpGO0FBYU5FLGNBQU0sSUFBSUMsSUFBSixDQUFTLDBCQUFULENBYkE7QUFjTkosY0FBTSxlQWRBO0FBZU5TLGdCQUFRO0FBZkYsT0FBRCxDQURHO0FBa0JWaUIscUJBQWU7QUFsQkwsS0FBWjtBQW9CQTVHLFlBQVErQyxJQUFSLENBQWEzQyxNQUFiLEVBQXFCLGtCQUFyQixFQUF5Q2lELFFBQXpDLENBQWtEMkQsS0FBbEQ7QUFDQSxRQUFJcEMsU0FBUyxNQUFNM0UsSUFBSWMsZ0JBQUosQ0FBcUIsVUFBckIsQ0FBbkI7QUFDQTZELFdBQU9kLE1BQVAsQ0FBY2UsS0FBZCxDQUFvQm1DLEtBQXBCO0FBQ0E5RSxvQkFBTThCLE1BQU4sQ0FBYWMsVUFBYixDQUF3QjFFLE9BQU9XLGdCQUEvQixFQUFpRCxXQUFqRCxFQUE4RCxVQUE5RDtBQUNELEdBMUJEOztBQTRCQTs7O0FBR0E4QixLQUFHLDJDQUFILEVBQWdELFlBQVk7QUFDMUQsVUFBTTVDLElBQUk2QyxPQUFKLEVBQU47QUFDQSxRQUFJa0UsUUFBUTtBQUNWQSxhQUFPLENBQUM7QUFDTmpCLGtCQUFVLHNCQURKO0FBRU5ELG9CQUFZLENBQUMsSUFGUDtBQUdObUIsbUJBQVcsZUFITDtBQUlONUUsWUFBSSxVQUpFO0FBS04rQyxlQUFPLElBTEQ7QUFNTmlCLGtCQUFVLEtBTko7QUFPTmEsaUJBQVMsVUFQSDtBQVFOUCxvQkFBWSxVQVJOO0FBU05RLGVBQU8sT0FURDtBQVVOdEIsZ0JBQVEsQ0FWRjtBQVdORCxjQUFNLENBWEE7QUFZTlQsZ0JBQVEsUUFaRjtBQWFORSxjQUFNLElBQUlDLElBQUosQ0FBUywwQkFBVCxDQWJBO0FBY05KLGNBQU0sZUFkQTtBQWVOUyxnQkFBUTtBQWZGLE9BQUQsQ0FERztBQWtCVmlCLHFCQUFlO0FBbEJMLEtBQVo7QUFvQkE1RyxZQUFRK0MsSUFBUixDQUFhM0MsTUFBYixFQUFxQixvQkFBckIsRUFBMkNpRCxRQUEzQyxDQUFvRDJELEtBQXBEO0FBQ0EsUUFBSXBDLFNBQVMsTUFBTTNFLElBQUllLGtCQUFKLENBQXVCLFVBQXZCLENBQW5CO0FBQ0E0RCxXQUFPZCxNQUFQLENBQWNlLEtBQWQsQ0FBb0JtQyxLQUFwQjtBQUNBOUUsb0JBQU04QixNQUFOLENBQWFjLFVBQWIsQ0FBd0IxRSxPQUFPWSxrQkFBL0IsRUFBbUQsV0FBbkQsRUFBZ0UsVUFBaEU7QUFDRCxHQTFCRDs7QUE0QkE7OztBQUdBNkIsS0FBRyw2Q0FBSCxFQUFrRCxZQUFZO0FBQzVELFVBQU01QyxJQUFJNkMsT0FBSixFQUFOO0FBQ0EsUUFBSWtFLFFBQVE7QUFDVkEsYUFBTyxDQUFDO0FBQ05qQixrQkFBVSxzQkFESjtBQUVORCxvQkFBWSxDQUFDLElBRlA7QUFHTm1CLG1CQUFXLGVBSEw7QUFJTjVFLFlBQUksVUFKRTtBQUtOK0MsZUFBTyxJQUxEO0FBTU5pQixrQkFBVSxLQU5KO0FBT05hLGlCQUFTLFVBUEg7QUFRTlAsb0JBQVksVUFSTjtBQVNOUSxlQUFPLE9BVEQ7QUFVTnRCLGdCQUFRLENBVkY7QUFXTkQsY0FBTSxDQVhBO0FBWU5ULGdCQUFRLFFBWkY7QUFhTkUsY0FBTSxJQUFJQyxJQUFKLENBQVMsMEJBQVQsQ0FiQTtBQWNOSixjQUFNLGVBZEE7QUFlTlMsZ0JBQVE7QUFmRixPQUFELENBREc7QUFrQlZpQixxQkFBZTtBQWxCTCxLQUFaO0FBb0JBNUcsWUFBUStDLElBQVIsQ0FBYTNDLE1BQWIsRUFBcUIscUJBQXJCLEVBQTRDaUQsUUFBNUMsQ0FBcUQyRCxLQUFyRDtBQUNBLFFBQUlILFlBQVksSUFBSXZCLElBQUosQ0FBU0EsS0FBS3dCLEdBQUwsS0FBYSxJQUF0QixDQUFoQjtBQUNBLFFBQUlDLFVBQVUsSUFBSXpCLElBQUosRUFBZDtBQUNBLFFBQUlWLFNBQVMsTUFBTTNFLElBQUlnQixtQkFBSixDQUF3QjRGLFNBQXhCLEVBQW1DRSxPQUFuQyxFQUE0QyxDQUE1QyxFQUErQyxHQUEvQyxDQUFuQjtBQUNBbkMsV0FBT2QsTUFBUCxDQUFjZSxLQUFkLENBQW9CbUMsS0FBcEI7QUFDQTlFLG9CQUFNOEIsTUFBTixDQUFhYyxVQUFiLENBQXdCMUUsT0FBT2EsbUJBQS9CLEVBQW9ELFdBQXBELEVBQWlFNEYsU0FBakUsRUFBNEVFLE9BQTVFLEVBQXFGLENBQXJGLEVBQXdGLEdBQXhGO0FBQ0QsR0E1QkQ7O0FBOEJBOzs7QUFHQWxFLEtBQUcsZ0NBQUgsRUFBcUMsWUFBWTtBQUMvQyxVQUFNNUMsSUFBSTZDLE9BQUosRUFBTjtBQUNBLFFBQUlzRSxjQUFjO0FBQ2hCQyxhQUFPLEtBRFM7QUFFaEJDLG1CQUFhLG9CQUZHO0FBR2hCSixlQUFTO0FBSE8sS0FBbEI7QUFLQWxILFlBQVErQyxJQUFSLENBQWEzQyxNQUFiLEVBQXFCLE9BQXJCLEVBQThCaUQsUUFBOUIsQ0FBdUMrRCxXQUF2QztBQUNBLFFBQUl4QyxTQUFTLE1BQU0zRSxJQUFJc0gsb0JBQUosQ0FBeUIsUUFBekIsRUFBbUMsSUFBbkMsRUFBeUMsR0FBekMsRUFBOEMsR0FBOUMsRUFBbUQsRUFBQ2hCLFNBQVMsU0FBVjtBQUNwRVIsZ0JBQVUsc0JBRDBELEVBQW5ELENBQW5CO0FBRUFuQixXQUFPZCxNQUFQLENBQWNlLEtBQWQsQ0FBb0J1QyxXQUFwQjtBQUNBbEYsb0JBQU04QixNQUFOLENBQWFjLFVBQWIsQ0FBd0IxRSxPQUFPZSxLQUEvQixFQUFzQyxXQUF0QyxFQUFtRGUsZ0JBQU0yQyxLQUFOLENBQVksRUFBQzJDLFlBQVksZ0JBQWIsRUFBK0JyQyxRQUFRLFFBQXZDO0FBQzdEUSxjQUFRLElBRHFELEVBQy9DSyxVQUFVLEdBRHFDLEVBQ2hDeUIsWUFBWSxHQURvQixFQUNmbEIsU0FBUyxTQURNLEVBQ0tSLFVBQVUsc0JBRGYsRUFBWixDQUFuRCxFQUN3RyxLQUR4RztBQUVELEdBYkQ7O0FBZUE7OztBQUdBbEQsS0FBRyxvREFBSCxFQUF5RCxZQUFZO0FBQ25FLFVBQU01QyxJQUFJNkMsT0FBSixFQUFOO0FBQ0EsUUFBSXNFLGNBQWM7QUFDaEJDLGFBQU8sS0FEUztBQUVoQkMsbUJBQWEsb0JBRkc7QUFHaEJKLGVBQVM7QUFITyxLQUFsQjtBQUtBbEgsWUFBUStDLElBQVIsQ0FBYTNDLE1BQWIsRUFBcUIsT0FBckIsRUFBOEJpRCxRQUE5QixDQUF1QytELFdBQXZDO0FBQ0EsUUFBSXhDLFNBQVMsTUFBTTNFLElBQUlzSCxvQkFBSixDQUF5QixRQUF6QixFQUFtQyxJQUFuQyxFQUF5QyxFQUFDRyxPQUFPLEdBQVIsRUFBYUMsT0FBTyxnQkFBcEIsRUFBekMsRUFDakIsRUFBQ0QsT0FBTyxJQUFSLEVBQWNDLE9BQU8saUJBQXJCLEVBRGlCLEVBQ3dCLEVBQUNwQixTQUFTLFNBQVYsRUFBcUJSLFVBQVUsc0JBQS9CLEVBRHhCLENBQW5CO0FBRUFuQixXQUFPZCxNQUFQLENBQWNlLEtBQWQsQ0FBb0J1QyxXQUFwQjtBQUNBbEYsb0JBQU04QixNQUFOLENBQWFjLFVBQWIsQ0FBd0IxRSxPQUFPZSxLQUEvQixFQUFzQyxXQUF0QyxFQUFtRGUsZ0JBQU0yQyxLQUFOLENBQVksRUFBQzJDLFlBQVksZ0JBQWIsRUFBK0JyQyxRQUFRLFFBQXZDO0FBQzdEUSxjQUFRLElBRHFELEVBQy9DSyxVQUFVLEdBRHFDLEVBQ2hDNEIsZUFBZSxnQkFEaUIsRUFDQ0gsWUFBWSxJQURiO0FBRTdESSx1QkFBaUIsaUJBRjRDLEVBRXpCdEIsU0FBUyxTQUZnQixFQUVMUixVQUFVLHNCQUZMLEVBQVosQ0FBbkQsRUFFOEYsS0FGOUY7QUFHRCxHQWREOztBQWdCQTs7O0FBR0FsRCxLQUFHLGlDQUFILEVBQXNDLFlBQVk7QUFDaEQsVUFBTTVDLElBQUk2QyxPQUFKLEVBQU47QUFDQSxRQUFJc0UsY0FBYztBQUNoQkMsYUFBTyxLQURTO0FBRWhCQyxtQkFBYSxvQkFGRztBQUdoQkosZUFBUztBQUhPLEtBQWxCO0FBS0FsSCxZQUFRK0MsSUFBUixDQUFhM0MsTUFBYixFQUFxQixPQUFyQixFQUE4QmlELFFBQTlCLENBQXVDK0QsV0FBdkM7QUFDQSxRQUFJeEMsU0FBUyxNQUFNM0UsSUFBSTZILHFCQUFKLENBQTBCLFFBQTFCLEVBQW9DLElBQXBDLEVBQTBDLEdBQTFDLEVBQStDLEdBQS9DLEVBQW9ELEVBQUN2QixTQUFTLFNBQVY7QUFDckVSLGdCQUFVLHNCQUQyRCxFQUFwRCxDQUFuQjtBQUVBbkIsV0FBT2QsTUFBUCxDQUFjZSxLQUFkLENBQW9CdUMsV0FBcEI7QUFDQWxGLG9CQUFNOEIsTUFBTixDQUFhYyxVQUFiLENBQXdCMUUsT0FBT2UsS0FBL0IsRUFBc0MsV0FBdEMsRUFBbURlLGdCQUFNMkMsS0FBTixDQUFZLEVBQUMyQyxZQUFZLGlCQUFiLEVBQWdDckMsUUFBUSxRQUF4QztBQUM3RFEsY0FBUSxJQURxRCxFQUMvQ0ssVUFBVSxHQURxQyxFQUNoQ3lCLFlBQVksR0FEb0IsRUFDZmxCLFNBQVMsU0FETSxFQUNLUixVQUFVLHNCQURmLEVBQVosQ0FBbkQsRUFDd0csS0FEeEc7QUFFRCxHQWJEOztBQWVBOzs7QUFHQWxELEtBQUcsK0JBQUgsRUFBb0MsWUFBWTtBQUM5QyxVQUFNNUMsSUFBSTZDLE9BQUosRUFBTjtBQUNBLFFBQUlzRSxjQUFjO0FBQ2hCQyxhQUFPLEtBRFM7QUFFaEJDLG1CQUFhLG9CQUZHO0FBR2hCSixlQUFTO0FBSE8sS0FBbEI7QUFLQWxILFlBQVErQyxJQUFSLENBQWEzQyxNQUFiLEVBQXFCLE9BQXJCLEVBQThCaUQsUUFBOUIsQ0FBdUMrRCxXQUF2QztBQUNBLFFBQUl4QyxTQUFTLE1BQU0zRSxJQUFJOEgsbUJBQUosQ0FBd0IsUUFBeEIsRUFBa0MsSUFBbEMsRUFBd0MsR0FBeEMsRUFBNkMsR0FBN0MsRUFBa0QsR0FBbEQsRUFBdUQsRUFBQ3hCLFNBQVMsU0FBVjtBQUN4RVIsZ0JBQVUsc0JBRDhELEVBQXZELENBQW5CO0FBRUFuQixXQUFPZCxNQUFQLENBQWNlLEtBQWQsQ0FBb0J1QyxXQUFwQjtBQUNBbEYsb0JBQU04QixNQUFOLENBQWFjLFVBQWIsQ0FBd0IxRSxPQUFPZSxLQUEvQixFQUFzQyxXQUF0QyxFQUFtRGUsZ0JBQU0yQyxLQUFOLENBQVksRUFBQzJDLFlBQVksc0JBQWI7QUFDN0RyQyxjQUFRLFFBRHFELEVBQzNDUSxRQUFRLElBRG1DLEVBQzdCSCxXQUFXLEdBRGtCLEVBQ2JRLFVBQVUsR0FERyxFQUNFeUIsWUFBWSxHQURkLEVBQ21CbEIsU0FBUyxTQUQ1QjtBQUU3RFIsZ0JBQVUsc0JBRm1ELEVBQVosQ0FBbkQsRUFFc0MsS0FGdEM7QUFHRCxHQWREOztBQWdCQTs7O0FBR0FsRCxLQUFHLGdDQUFILEVBQXFDLFlBQVk7QUFDL0MsVUFBTTVDLElBQUk2QyxPQUFKLEVBQU47QUFDQSxRQUFJc0UsY0FBYztBQUNoQkMsYUFBTyxLQURTO0FBRWhCQyxtQkFBYSxvQkFGRztBQUdoQkosZUFBUztBQUhPLEtBQWxCO0FBS0FsSCxZQUFRK0MsSUFBUixDQUFhM0MsTUFBYixFQUFxQixPQUFyQixFQUE4QmlELFFBQTlCLENBQXVDK0QsV0FBdkM7QUFDQSxRQUFJeEMsU0FBUyxNQUFNM0UsSUFBSStILG9CQUFKLENBQXlCLFFBQXpCLEVBQW1DLElBQW5DLEVBQXlDLEdBQXpDLEVBQThDLEdBQTlDLEVBQW1ELEdBQW5ELEVBQXdELEVBQUN6QixTQUFTLFNBQVY7QUFDekVSLGdCQUFVLHNCQUQrRCxFQUF4RCxDQUFuQjtBQUVBbkIsV0FBT2QsTUFBUCxDQUFjZSxLQUFkLENBQW9CdUMsV0FBcEI7QUFDQWxGLG9CQUFNOEIsTUFBTixDQUFhYyxVQUFiLENBQXdCMUUsT0FBT2UsS0FBL0IsRUFBc0MsV0FBdEMsRUFBbURlLGdCQUFNMkMsS0FBTixDQUFZLEVBQUMyQyxZQUFZLHVCQUFiO0FBQzdEckMsY0FBUSxRQURxRCxFQUMzQ1EsUUFBUSxJQURtQyxFQUM3QkgsV0FBVyxHQURrQixFQUNiUSxVQUFVLEdBREcsRUFDRXlCLFlBQVksR0FEZCxFQUNtQmxCLFNBQVMsU0FENUI7QUFFN0RSLGdCQUFVLHNCQUZtRCxFQUFaLENBQW5ELEVBRXNDLEtBRnRDO0FBR0QsR0FkRDs7QUFnQkE7OztBQUdBbEQsS0FBRyw4QkFBSCxFQUFtQyxZQUFZO0FBQzdDLFVBQU01QyxJQUFJNkMsT0FBSixFQUFOO0FBQ0EsUUFBSXNFLGNBQWM7QUFDaEJDLGFBQU8sS0FEUztBQUVoQkMsbUJBQWEsb0JBRkc7QUFHaEJKLGVBQVM7QUFITyxLQUFsQjtBQUtBbEgsWUFBUStDLElBQVIsQ0FBYTNDLE1BQWIsRUFBcUIsT0FBckIsRUFBOEJpRCxRQUE5QixDQUF1QytELFdBQXZDO0FBQ0EsUUFBSXhDLFNBQVMsTUFBTTNFLElBQUlnSSxrQkFBSixDQUF1QixRQUF2QixFQUFpQyxJQUFqQyxFQUF1QyxHQUF2QyxFQUE0QyxHQUE1QyxFQUFpRCxHQUFqRCxFQUFzRCxFQUFDMUIsU0FBUyxTQUFWO0FBQ3ZFUixnQkFBVSxzQkFENkQsRUFBdEQsQ0FBbkI7QUFFQW5CLFdBQU9kLE1BQVAsQ0FBY2UsS0FBZCxDQUFvQnVDLFdBQXBCO0FBQ0FsRixvQkFBTThCLE1BQU4sQ0FBYWMsVUFBYixDQUF3QjFFLE9BQU9lLEtBQS9CLEVBQXNDLFdBQXRDLEVBQW1EZSxnQkFBTTJDLEtBQU4sQ0FBWSxFQUFDMkMsWUFBWSxxQkFBYjtBQUM3RHJDLGNBQVEsUUFEcUQsRUFDM0NRLFFBQVEsSUFEbUMsRUFDN0JILFdBQVcsR0FEa0IsRUFDYlEsVUFBVSxHQURHLEVBQ0V5QixZQUFZLEdBRGQsRUFDbUJsQixTQUFTLFNBRDVCO0FBRTdEUixnQkFBVSxzQkFGbUQsRUFBWixDQUFuRCxFQUVzQyxLQUZ0QztBQUdELEdBZEQ7O0FBZ0JBOzs7QUFHQWxELEtBQUcsK0JBQUgsRUFBb0MsWUFBWTtBQUM5QyxVQUFNNUMsSUFBSTZDLE9BQUosRUFBTjtBQUNBLFFBQUlzRSxjQUFjO0FBQ2hCQyxhQUFPLEtBRFM7QUFFaEJDLG1CQUFhLG9CQUZHO0FBR2hCSixlQUFTO0FBSE8sS0FBbEI7QUFLQWxILFlBQVErQyxJQUFSLENBQWEzQyxNQUFiLEVBQXFCLE9BQXJCLEVBQThCaUQsUUFBOUIsQ0FBdUMrRCxXQUF2QztBQUNBLFFBQUl4QyxTQUFTLE1BQU0zRSxJQUFJaUksbUJBQUosQ0FBd0IsUUFBeEIsRUFBa0MsSUFBbEMsRUFBd0MsR0FBeEMsRUFBNkMsR0FBN0MsRUFBa0QsR0FBbEQsRUFBdUQsRUFBQzNCLFNBQVMsU0FBVjtBQUN4RVIsZ0JBQVUsc0JBRDhELEVBQXZELENBQW5CO0FBRUFuQixXQUFPZCxNQUFQLENBQWNlLEtBQWQsQ0FBb0J1QyxXQUFwQjtBQUNBbEYsb0JBQU04QixNQUFOLENBQWFjLFVBQWIsQ0FBd0IxRSxPQUFPZSxLQUEvQixFQUFzQyxXQUF0QyxFQUFtRGUsZ0JBQU0yQyxLQUFOLENBQVksRUFBQzJDLFlBQVksc0JBQWI7QUFDN0RyQyxjQUFRLFFBRHFELEVBQzNDUSxRQUFRLElBRG1DLEVBQzdCSCxXQUFXLEdBRGtCLEVBQ2JRLFVBQVUsR0FERyxFQUNFeUIsWUFBWSxHQURkLEVBQ21CbEIsU0FBUyxTQUQ1QjtBQUU3RFIsZ0JBQVUsc0JBRm1ELEVBQVosQ0FBbkQsRUFFc0MsS0FGdEM7QUFHRCxHQWREOztBQWdCQTs7O0FBR0FsRCxLQUFHLG9DQUFILEVBQXlDLFlBQVk7QUFDbkQsVUFBTTVDLElBQUk2QyxPQUFKLEVBQU47QUFDQSxRQUFJc0UsY0FBYztBQUNoQkMsYUFBTyxLQURTO0FBRWhCQyxtQkFBYSxvQkFGRztBQUdoQkosZUFBUztBQUhPLEtBQWxCO0FBS0FsSCxZQUFRK0MsSUFBUixDQUFhM0MsTUFBYixFQUFxQixPQUFyQixFQUE4QmlELFFBQTlCLENBQXVDK0QsV0FBdkM7QUFDQSxRQUFJeEMsU0FBUyxNQUFNM0UsSUFBSWtJLHVCQUFKLENBQTRCLFFBQTVCLEVBQXNDLElBQXRDLEVBQTRDLEdBQTVDLEVBQWlELEdBQWpELEVBQXNELEdBQXRELEVBQTJELEdBQTNELEVBQWdFLEVBQUM1QixTQUFTLFNBQVY7QUFDakZSLGdCQUFVLHNCQUR1RSxFQUFoRSxDQUFuQjtBQUVBbkIsV0FBT2QsTUFBUCxDQUFjZSxLQUFkLENBQW9CdUMsV0FBcEI7QUFDQWxGLG9CQUFNOEIsTUFBTixDQUFhYyxVQUFiLENBQXdCMUUsT0FBT2UsS0FBL0IsRUFBc0MsV0FBdEMsRUFBbURlLGdCQUFNMkMsS0FBTixDQUFZLEVBQUMyQyxZQUFZLDJCQUFiO0FBQzdEckMsY0FBUSxRQURxRCxFQUMzQ1EsUUFBUSxJQURtQyxFQUM3QkgsV0FBVyxHQURrQixFQUNiNEMsZ0JBQWdCLEdBREgsRUFDUXBDLFVBQVUsR0FEbEIsRUFDdUJ5QixZQUFZLEdBRG5DO0FBRTdEbEIsZUFBUyxTQUZvRCxFQUV6Q1IsVUFBVSxzQkFGK0IsRUFBWixDQUFuRCxFQUUwRCxLQUYxRDtBQUdELEdBZEQ7O0FBZ0JBOzs7QUFHQWxELEtBQUcscUNBQUgsRUFBMEMsWUFBWTtBQUNwRCxVQUFNNUMsSUFBSTZDLE9BQUosRUFBTjtBQUNBLFFBQUlzRSxjQUFjO0FBQ2hCQyxhQUFPLEtBRFM7QUFFaEJDLG1CQUFhLG9CQUZHO0FBR2hCSixlQUFTO0FBSE8sS0FBbEI7QUFLQWxILFlBQVErQyxJQUFSLENBQWEzQyxNQUFiLEVBQXFCLE9BQXJCLEVBQThCaUQsUUFBOUIsQ0FBdUMrRCxXQUF2QztBQUNBLFFBQUl4QyxTQUFTLE1BQU0zRSxJQUFJb0ksd0JBQUosQ0FBNkIsUUFBN0IsRUFBdUMsSUFBdkMsRUFBNkMsR0FBN0MsRUFBa0QsR0FBbEQsRUFBdUQsR0FBdkQsRUFBNEQsR0FBNUQsRUFBaUUsRUFBQzlCLFNBQVMsU0FBVjtBQUNsRlIsZ0JBQVUsc0JBRHdFLEVBQWpFLENBQW5CO0FBRUFuQixXQUFPZCxNQUFQLENBQWNlLEtBQWQsQ0FBb0J1QyxXQUFwQjtBQUNBbEYsb0JBQU04QixNQUFOLENBQWFjLFVBQWIsQ0FBd0IxRSxPQUFPZSxLQUEvQixFQUFzQyxXQUF0QyxFQUFtRGUsZ0JBQU0yQyxLQUFOLENBQVksRUFBQzJDLFlBQVksNEJBQWI7QUFDN0RyQyxjQUFRLFFBRHFELEVBQzNDUSxRQUFRLElBRG1DLEVBQzdCSCxXQUFXLEdBRGtCLEVBQ2I0QyxnQkFBZ0IsR0FESCxFQUNRcEMsVUFBVSxHQURsQixFQUN1QnlCLFlBQVksR0FEbkM7QUFFN0RsQixlQUFTLFNBRm9ELEVBRXpDUixVQUFVLHNCQUYrQixFQUFaLENBQW5ELEVBRTBELEtBRjFEO0FBR0QsR0FkRDs7QUFnQkE7OztBQUdBbEQsS0FBRyx3QkFBSCxFQUE2QixZQUFZO0FBQ3ZDLFVBQU01QyxJQUFJNkMsT0FBSixFQUFOO0FBQ0EsUUFBSXNFLGNBQWM7QUFDaEJDLGFBQU8sS0FEUztBQUVoQkMsbUJBQWEsb0JBRkc7QUFHaEJYLGtCQUFZO0FBSEksS0FBbEI7QUFLQTNHLFlBQVErQyxJQUFSLENBQWEzQyxNQUFiLEVBQXFCLE9BQXJCLEVBQThCaUQsUUFBOUIsQ0FBdUMrRCxXQUF2QztBQUNBLFFBQUl4QyxTQUFTLE1BQU0zRSxJQUFJcUksY0FBSixDQUFtQixVQUFuQixFQUErQixHQUEvQixFQUFvQyxHQUFwQyxDQUFuQjtBQUNBMUQsV0FBT2QsTUFBUCxDQUFjZSxLQUFkLENBQW9CdUMsV0FBcEI7QUFDQWxGLG9CQUFNOEIsTUFBTixDQUFhYyxVQUFiLENBQXdCMUUsT0FBT2UsS0FBL0IsRUFBc0MsV0FBdEMsRUFBbURlLGdCQUFNMkMsS0FBTixDQUFZLEVBQUMyQyxZQUFZLGlCQUFiO0FBQzdEYixrQkFBWSxVQURpRCxFQUNyQ1gsVUFBVSxHQUQyQixFQUN0QnlCLFlBQVksR0FEVSxFQUFaLENBQW5ELEVBQzRELEtBRDVEO0FBRUQsR0FaRDs7QUFjQTs7O0FBR0E1RSxLQUFHLGlDQUFILEVBQXNDLFlBQVk7QUFDaEQsVUFBTTVDLElBQUk2QyxPQUFKLEVBQU47QUFDQSxRQUFJc0UsY0FBYztBQUNoQkMsYUFBTyxLQURTO0FBRWhCQyxtQkFBYSxvQkFGRztBQUdoQlgsa0JBQVk7QUFISSxLQUFsQjtBQUtBM0csWUFBUStDLElBQVIsQ0FBYTNDLE1BQWIsRUFBcUIsT0FBckIsRUFBOEJpRCxRQUE5QixDQUF1QytELFdBQXZDO0FBQ0EsUUFBSXhDLFNBQVMsTUFBTTNFLElBQUlzSSxzQkFBSixDQUEyQixVQUEzQixFQUF1QyxHQUF2QyxFQUE0QyxFQUFDaEMsU0FBUyxTQUFWO0FBQzdEUixnQkFBVSxzQkFEbUQsRUFBNUMsQ0FBbkI7QUFFQW5CLFdBQU9kLE1BQVAsQ0FBY2UsS0FBZCxDQUFvQnVDLFdBQXBCO0FBQ0FsRixvQkFBTThCLE1BQU4sQ0FBYWMsVUFBYixDQUF3QjFFLE9BQU9lLEtBQS9CLEVBQXNDLFdBQXRDLEVBQW1EZSxnQkFBTTJDLEtBQU4sQ0FBWSxFQUFDMkMsWUFBWSxrQkFBYjtBQUM3RGIsa0JBQVksVUFEaUQsRUFDckNoQixRQUFRLEdBRDZCLEVBQ3hCWSxTQUFTLFNBRGUsRUFDSlIsVUFBVSxzQkFETixFQUFaLENBQW5ELEVBQytGLEtBRC9GO0FBRUQsR0FiRDs7QUFlQTs7O0FBR0FsRCxLQUFHLHVCQUFILEVBQTRCLFlBQVk7QUFDdEMsVUFBTTVDLElBQUk2QyxPQUFKLEVBQU47QUFDQSxRQUFJc0UsY0FBYztBQUNoQkMsYUFBTyxLQURTO0FBRWhCQyxtQkFBYSxvQkFGRztBQUdoQlgsa0JBQVk7QUFISSxLQUFsQjtBQUtBM0csWUFBUStDLElBQVIsQ0FBYTNDLE1BQWIsRUFBcUIsT0FBckIsRUFBOEJpRCxRQUE5QixDQUF1QytELFdBQXZDO0FBQ0EsUUFBSXhDLFNBQVMsTUFBTTNFLElBQUl1SSxhQUFKLENBQWtCLFVBQWxCLEVBQThCLEVBQUNqQyxTQUFTLFNBQVYsRUFBcUJSLFVBQVUsc0JBQS9CLEVBQTlCLENBQW5CO0FBQ0FuQixXQUFPZCxNQUFQLENBQWNlLEtBQWQsQ0FBb0J1QyxXQUFwQjtBQUNBbEYsb0JBQU04QixNQUFOLENBQWFjLFVBQWIsQ0FBd0IxRSxPQUFPZSxLQUEvQixFQUFzQyxXQUF0QyxFQUFtRGUsZ0JBQU0yQyxLQUFOLENBQVksRUFBQzJDLFlBQVksbUJBQWI7QUFDN0RiLGtCQUFZLFVBRGlELEVBQ3JDSixTQUFTLFNBRDRCLEVBQ2pCUixVQUFVLHNCQURPLEVBQVosQ0FBbkQsRUFDa0YsS0FEbEY7QUFFRCxHQVpEOztBQWNBOzs7QUFHQWxELEtBQUcsMENBQUgsRUFBK0MsWUFBWTtBQUN6RCxVQUFNNUMsSUFBSTZDLE9BQUosRUFBTjtBQUNBLFFBQUlzRSxjQUFjO0FBQ2hCQyxhQUFPLEtBRFM7QUFFaEJDLG1CQUFhLG9CQUZHO0FBR2hCWCxrQkFBWSxVQUhJO0FBSWhCOEIseUJBQW1CO0FBSkgsS0FBbEI7QUFNQXpJLFlBQVErQyxJQUFSLENBQWEzQyxNQUFiLEVBQXFCLE9BQXJCLEVBQThCaUQsUUFBOUIsQ0FBdUMrRCxXQUF2QztBQUNBLFFBQUl4QyxTQUFTLE1BQU0zRSxJQUFJeUksT0FBSixDQUFZLFVBQVosRUFBd0IsVUFBeEIsRUFBb0MsRUFBQ25DLFNBQVMsU0FBVixFQUFxQlIsVUFBVSxzQkFBL0IsRUFBcEMsQ0FBbkI7QUFDQW5CLFdBQU9kLE1BQVAsQ0FBY2UsS0FBZCxDQUFvQnVDLFdBQXBCO0FBQ0FsRixvQkFBTThCLE1BQU4sQ0FBYWMsVUFBYixDQUF3QjFFLE9BQU9lLEtBQS9CLEVBQXNDLFdBQXRDLEVBQW1EZSxnQkFBTTJDLEtBQU4sQ0FBWSxFQUFDMkMsWUFBWSxtQkFBYjtBQUM3RGIsa0JBQVksVUFEaUQsRUFDckM4QixtQkFBbUIsVUFEa0IsRUFDTmxDLFNBQVMsU0FESCxFQUNjUixVQUFVLHNCQUR4QixFQUFaLENBQW5ELEVBRUEsS0FGQTtBQUdELEdBZEQ7O0FBZ0JBOzs7QUFHQWxELEtBQUcsa0NBQUgsRUFBdUMsWUFBWTtBQUNqRCxVQUFNNUMsSUFBSTZDLE9BQUosRUFBTjtBQUNBLFFBQUlzRSxjQUFjO0FBQ2hCQyxhQUFPLEtBRFM7QUFFaEJDLG1CQUFhLG9CQUZHO0FBR2hCWCxrQkFBWTtBQUhJLEtBQWxCO0FBS0EzRyxZQUFRK0MsSUFBUixDQUFhM0MsTUFBYixFQUFxQixPQUFyQixFQUE4QmlELFFBQTlCLENBQXVDK0QsV0FBdkM7QUFDQSxRQUFJeEMsU0FBUyxNQUFNM0UsSUFBSTBJLHNCQUFKLENBQTJCLFFBQTNCLEVBQXFDLEVBQUNwQyxTQUFTLFNBQVYsRUFBcUJSLFVBQVUsc0JBQS9CLEVBQXJDLENBQW5CO0FBQ0FuQixXQUFPZCxNQUFQLENBQWNlLEtBQWQsQ0FBb0J1QyxXQUFwQjtBQUNBbEYsb0JBQU04QixNQUFOLENBQWFjLFVBQWIsQ0FBd0IxRSxPQUFPZSxLQUEvQixFQUFzQyxXQUF0QyxFQUFtRGUsZ0JBQU0yQyxLQUFOLENBQVksRUFBQzJDLFlBQVksd0JBQWI7QUFDN0RyQyxjQUFRLFFBRHFELEVBQzNDb0IsU0FBUyxTQURrQyxFQUN2QlIsVUFBVSxzQkFEYSxFQUFaLENBQW5ELEVBQzRFLEtBRDVFO0FBRUQsR0FaRDs7QUFjQTs7O0FBR0FsRCxLQUFHLHFCQUFILEVBQTBCLFlBQVk7QUFDcEMsVUFBTTVDLElBQUk2QyxPQUFKLEVBQU47QUFDQSxRQUFJc0UsY0FBYztBQUNoQkMsYUFBTyxLQURTO0FBRWhCQyxtQkFBYSxvQkFGRztBQUdoQkosZUFBUztBQUhPLEtBQWxCO0FBS0FsSCxZQUFRK0MsSUFBUixDQUFhM0MsTUFBYixFQUFxQixPQUFyQixFQUE4QmlELFFBQTlCLENBQXVDK0QsV0FBdkM7QUFDQSxRQUFJeEMsU0FBUyxNQUFNM0UsSUFBSTJJLFdBQUosQ0FBZ0IsVUFBaEIsRUFBNEIsR0FBNUIsRUFBaUMsR0FBakMsRUFBc0MsR0FBdEMsQ0FBbkI7QUFDQWhFLFdBQU9kLE1BQVAsQ0FBY2UsS0FBZCxDQUFvQnVDLFdBQXBCO0FBQ0FsRixvQkFBTThCLE1BQU4sQ0FBYWMsVUFBYixDQUF3QjFFLE9BQU9lLEtBQS9CLEVBQXNDLFdBQXRDLEVBQW1EZSxnQkFBTTJDLEtBQU4sQ0FBWSxFQUFDMkMsWUFBWSxjQUFiLEVBQTZCTixTQUFTLFVBQXRDO0FBQzdEMUIsaUJBQVcsR0FEa0QsRUFDN0NRLFVBQVUsR0FEbUMsRUFDOUJ5QixZQUFZLEdBRGtCLEVBQVosQ0FBbkQsRUFDb0QsS0FEcEQ7QUFFRCxHQVpEOztBQWNBOzs7QUFHQTVFLEtBQUcscUJBQUgsRUFBMEIsWUFBWTtBQUNwQyxVQUFNNUMsSUFBSTZDLE9BQUosRUFBTjtBQUNBLFFBQUlzRSxjQUFjO0FBQ2hCQyxhQUFPLEtBRFM7QUFFaEJDLG1CQUFhLG9CQUZHO0FBR2hCSixlQUFTO0FBSE8sS0FBbEI7QUFLQWxILFlBQVErQyxJQUFSLENBQWEzQyxNQUFiLEVBQXFCLE9BQXJCLEVBQThCaUQsUUFBOUIsQ0FBdUMrRCxXQUF2QztBQUNBLFFBQUl4QyxTQUFTLE1BQU0zRSxJQUFJNEksV0FBSixDQUFnQixVQUFoQixDQUFuQjtBQUNBakUsV0FBT2QsTUFBUCxDQUFjZSxLQUFkLENBQW9CdUMsV0FBcEI7QUFDQWxGLG9CQUFNOEIsTUFBTixDQUFhYyxVQUFiLENBQXdCMUUsT0FBT2UsS0FBL0IsRUFBc0MsV0FBdEMsRUFBbURlLGdCQUFNMkMsS0FBTixDQUFZLEVBQUMyQyxZQUFZLGNBQWIsRUFBNkJOLFNBQVMsVUFBdEMsRUFBWixDQUFuRCxFQUNFLEtBREY7QUFFRCxHQVpEOztBQWNBOzs7QUFHQXJFLEtBQUcseUJBQUgsRUFBOEIsWUFBWTtBQUN4QyxVQUFNNUMsSUFBSTZDLE9BQUosRUFBTjtBQUNBLFFBQUkwQixTQUFTO0FBQ1hBLGNBQVE7QUFERyxLQUFiO0FBR0EsUUFBSWdDLFFBQVE7QUFDVnJCLGNBQVEsUUFERTtBQUVWRCxZQUFNLGdCQUZJO0FBR1ZTLGNBQVEsR0FIRTtBQUlWSCxpQkFBVztBQUpELEtBQVo7QUFNQXhGLFlBQVErQyxJQUFSLENBQWEzQyxNQUFiLEVBQXFCLGlCQUFyQixFQUF3Q2lELFFBQXhDLENBQWlEbUIsTUFBakQ7QUFDQSxRQUFJSSxTQUFTLE1BQU0zRSxJQUFJMkIsZUFBSixDQUFvQjRFLEtBQXBCLENBQW5CO0FBQ0E1QixXQUFPZCxNQUFQLENBQWNlLEtBQWQsQ0FBb0JMLE1BQXBCO0FBQ0F0QyxvQkFBTThCLE1BQU4sQ0FBYWMsVUFBYixDQUF3QjFFLE9BQU93QixlQUEvQixFQUFnRCxXQUFoRCxFQUE2RCxLQUE3RCxFQUFvRWtILFNBQXBFLEVBQStFNUcsZ0JBQU0yQyxLQUFOLENBQVkyQixLQUFaLENBQS9FO0FBQ0QsR0FmRDs7QUFpQkE7OztBQUdBM0QsS0FBRyx5QkFBSCxFQUE4QixZQUFZO0FBQ3hDLFVBQU01QyxJQUFJNkMsT0FBSixFQUFOO0FBQ0EsUUFBSWlHLFVBQVUsQ0FBQyxRQUFELENBQWQ7QUFDQS9JLFlBQVErQyxJQUFSLENBQWEzQyxNQUFiLEVBQXFCLFlBQXJCLEVBQW1DaUQsUUFBbkMsQ0FBNEMwRixPQUE1QztBQUNBLFFBQUluRSxTQUFTLE1BQU0zRSxJQUFJb0IsVUFBSixFQUFuQjtBQUNBdUQsV0FBT2QsTUFBUCxDQUFjZSxLQUFkLENBQW9Ca0UsT0FBcEI7QUFDQTdHLG9CQUFNOEIsTUFBTixDQUFhYyxVQUFiLENBQXdCMUUsT0FBT2lCLFVBQS9CLEVBQTJDLFdBQTNDO0FBQ0QsR0FQRDs7QUFTQTs7O0FBR0F3QixLQUFHLHNDQUFILEVBQTJDLFlBQVk7QUFDckQsVUFBTTVDLElBQUk2QyxPQUFKLEVBQU47QUFDQSxRQUFJa0csZ0JBQWdCO0FBQ2xCN0QsY0FBUSxRQURVO0FBRWxCOEQsZ0JBQVUsT0FGUTtBQUdsQkMsaUJBQVcsSUFITztBQUlsQkMsaUJBQVcsR0FKTztBQUtsQkMsa0JBQVk7QUFMTSxLQUFwQjtBQU9BcEosWUFBUStDLElBQVIsQ0FBYTNDLE1BQWIsRUFBcUIsd0JBQXJCLEVBQStDaUQsUUFBL0MsQ0FBd0QyRixhQUF4RDtBQUNBLFFBQUlwRSxTQUFTLE1BQU0zRSxJQUFJcUIsc0JBQUosQ0FBMkIsUUFBM0IsQ0FBbkI7QUFDQXNELFdBQU9kLE1BQVAsQ0FBY2UsS0FBZCxDQUFvQm1FLGFBQXBCO0FBQ0E5RyxvQkFBTThCLE1BQU4sQ0FBYWMsVUFBYixDQUF3QjFFLE9BQU9rQixzQkFBL0IsRUFBdUQsV0FBdkQsRUFBb0UsUUFBcEU7QUFDRCxHQWJEOztBQWVBOzs7QUFHQXVCLEtBQUcsOEJBQUgsRUFBbUMsWUFBWTtBQUM3QyxVQUFNNUMsSUFBSTZDLE9BQUosRUFBTjtBQUNBLFFBQUlxRSxRQUFRO0FBQ1ZoQyxjQUFRLFFBREU7QUFFVmtFLFdBQUssT0FGSztBQUdWQyxXQUFLLE9BSEs7QUFJVkMsdUJBQWlCLE9BSlA7QUFLVkMscUJBQWU7QUFMTCxLQUFaO0FBT0F4SixZQUFRK0MsSUFBUixDQUFhM0MsTUFBYixFQUFxQixnQkFBckIsRUFBdUNpRCxRQUF2QyxDQUFnRDhELEtBQWhEO0FBQ0EsUUFBSXZDLFNBQVMsTUFBTTNFLElBQUlzQixjQUFKLENBQW1CLFFBQW5CLEVBQTZCLElBQTdCLENBQW5CO0FBQ0FxRCxXQUFPZCxNQUFQLENBQWNlLEtBQWQsQ0FBb0JzQyxLQUFwQjtBQUNBakYsb0JBQU04QixNQUFOLENBQWFjLFVBQWIsQ0FBd0IxRSxPQUFPbUIsY0FBL0IsRUFBK0MsV0FBL0MsRUFBNEQsUUFBNUQsRUFBc0UsSUFBdEU7QUFDRCxHQWJEOztBQWVBOzs7QUFHQXNCLEtBQUcsZ0NBQUgsRUFBcUMsWUFBWTtBQUMvQyxVQUFNNUMsSUFBSTZDLE9BQUosRUFBTjtBQUNBLFFBQUkyRyxTQUFTO0FBQ1h0RSxjQUFRLFFBREc7QUFFWHVFLGlCQUFXLEtBRkE7QUFHWHJFLFlBQU0sSUFBSUMsSUFBSixDQUFTLDBCQUFULENBSEs7QUFJWHFFLGtCQUFZLHlCQUpEO0FBS1hDLFlBQU0sT0FMSztBQU1YQyxZQUFNLE9BTks7QUFPWEMsV0FBSyxPQVBNO0FBUVg5RSxhQUFPLEtBUkk7QUFTWCtFLGtCQUFZLElBVEQ7QUFVWEMsY0FBUSxFQVZHO0FBV1hyRSxjQUFRO0FBWEcsS0FBYjtBQWFBM0YsWUFBUStDLElBQVIsQ0FBYTNDLE1BQWIsRUFBcUIsV0FBckIsRUFBa0NpRCxRQUFsQyxDQUEyQ29HLE1BQTNDO0FBQ0EsUUFBSTdFLFNBQVMsTUFBTTNFLElBQUl1QixTQUFKLENBQWMsUUFBZCxFQUF3QixLQUF4QixFQUErQixJQUEvQixDQUFuQjtBQUNBb0QsV0FBT2QsTUFBUCxDQUFjZSxLQUFkLENBQW9CNEUsTUFBcEI7QUFDQXZILG9CQUFNOEIsTUFBTixDQUFhYyxVQUFiLENBQXdCMUUsT0FBT29CLFNBQS9CLEVBQTBDLFdBQTFDLEVBQXVELFFBQXZELEVBQWlFLEtBQWpFLEVBQXdFLElBQXhFO0FBQ0QsR0FuQkQ7O0FBcUJBOzs7QUFHQXFCLEtBQUcsNkJBQUgsRUFBa0MsWUFBWTtBQUM1QyxVQUFNNUMsSUFBSTZDLE9BQUosRUFBTjtBQUNBLFFBQUltSCxPQUFPO0FBQ1Q5RSxjQUFRLFFBREM7QUFFVEUsWUFBTSxJQUFJQyxJQUFKLENBQVMsMEJBQVQsQ0FGRztBQUdUcUUsa0JBQVkseUJBSEg7QUFJVE4sV0FBSyxPQUpJO0FBS1RDLFdBQUssT0FMSTtBQU1UWSxZQUFNLE1BTkc7QUFPVHZFLGNBQVEsSUFQQztBQVFUd0UsWUFBTTtBQVJHLEtBQVg7QUFVQW5LLFlBQVErQyxJQUFSLENBQWEzQyxNQUFiLEVBQXFCLFNBQXJCLEVBQWdDaUQsUUFBaEMsQ0FBeUM0RyxJQUF6QztBQUNBLFFBQUlyRixTQUFTLE1BQU0zRSxJQUFJd0IsT0FBSixDQUFZLFFBQVosRUFBc0IsSUFBdEIsQ0FBbkI7QUFDQW1ELFdBQU9kLE1BQVAsQ0FBY2UsS0FBZCxDQUFvQm9GLElBQXBCO0FBQ0EvSCxvQkFBTThCLE1BQU4sQ0FBYWMsVUFBYixDQUF3QjFFLE9BQU9xQixPQUEvQixFQUF3QyxXQUF4QyxFQUFxRCxRQUFyRCxFQUErRCxJQUEvRDtBQUNELEdBaEJEOztBQWtCQTs7O0FBR0FvQixLQUFHLG1DQUFILEVBQXdDLFlBQVk7QUFDbEQsVUFBTTVDLElBQUk2QyxPQUFKLEVBQU47QUFDQSxRQUFJc0gsT0FBTztBQUNUakYsY0FBUSxRQURDO0FBRVRFLFlBQU0sSUFBSUMsSUFBSixDQUFTLDBCQUFULENBRkc7QUFHVHFFLGtCQUFZLHlCQUhIO0FBSVRTLFlBQU0sQ0FDSjtBQUNFbEYsY0FBTSxnQkFEUjtBQUVFaUMsZUFBTyxPQUZUO0FBR0V4QixnQkFBUTtBQUhWLE9BREksRUFNSjtBQUNFVCxjQUFNLGVBRFI7QUFFRWlDLGVBQU8sT0FGVDtBQUdFeEIsZ0JBQVE7QUFIVixPQU5JO0FBSkcsS0FBWDtBQWlCQTNGLFlBQVErQyxJQUFSLENBQWEzQyxNQUFiLEVBQXFCLFNBQXJCLEVBQWdDaUQsUUFBaEMsQ0FBeUMrRyxJQUF6QztBQUNBLFFBQUl4RixTQUFTLE1BQU0zRSxJQUFJeUIsT0FBSixDQUFZLFFBQVosRUFBc0IsSUFBdEIsQ0FBbkI7QUFDQWtELFdBQU9kLE1BQVAsQ0FBY2UsS0FBZCxDQUFvQnVGLElBQXBCO0FBQ0FsSSxvQkFBTThCLE1BQU4sQ0FBYWMsVUFBYixDQUF3QjFFLE9BQU9zQixPQUEvQixFQUF3QyxXQUF4QyxFQUFxRCxRQUFyRCxFQUErRCxJQUEvRDtBQUNELEdBdkJEOztBQXlCQTs7O0FBR0FtQixLQUFHLG9DQUFILEVBQXlDLFlBQVk7QUFDbkQsVUFBTTVDLElBQUk2QyxPQUFKLEVBQU47QUFDQSxRQUFJdUgsYUFBYTtBQUNmaEYsWUFBTSxJQUFJQyxJQUFKLENBQVMsMEJBQVQsQ0FEUztBQUVmcUUsa0JBQVk7QUFGRyxLQUFqQjtBQUlBM0osWUFBUStDLElBQVIsQ0FBYTNDLE1BQWIsRUFBcUIsZUFBckIsRUFBc0NpRCxRQUF0QyxDQUErQ2dILFVBQS9DO0FBQ0EsUUFBSXpGLFNBQVMsTUFBTTNFLElBQUkwQixhQUFKLEVBQW5CO0FBQ0FpRCxXQUFPZCxNQUFQLENBQWNlLEtBQWQsQ0FBb0J3RixVQUFwQjtBQUNBbkksb0JBQU04QixNQUFOLENBQWFjLFVBQWIsQ0FBd0IxRSxPQUFPdUIsYUFBL0IsRUFBOEMsV0FBOUM7QUFDRCxHQVZEO0FBWUQsQ0EzNEJEIiwiZmlsZSI6InJwY01ldGFBcGlDb25uZWN0aW9uLnNwZWMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBzaG91bGQgZnJvbSAnc2hvdWxkJztcbmltcG9ydCBzaW5vbiBmcm9tICdzaW5vbic7XG5pbXBvcnQgUnBjTWV0YUFwaUNvbm5lY3Rpb24gZnJvbSAnLi9ycGNNZXRhQXBpQ29ubmVjdGlvbic7XG5pbXBvcnQgTm90U3luY2hyb25pemVkRXJyb3IgZnJvbSAnLi4vY2xpZW50cy9tZXRhQXBpL25vdFN5bmNocm9uaXplZEVycm9yJztcbmltcG9ydCBUaW1lb3V0RXJyb3IgZnJvbSAnLi4vY2xpZW50cy90aW1lb3V0RXJyb3InO1xuXG4vKipcbiAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbn1cbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1zdGF0ZW1lbnRzXG5kZXNjcmliZSgnUnBjTWV0YUFwaUNvbm5lY3Rpb24nLCAoKSA9PiB7XG5cbiAgbGV0IHNhbmRib3g7XG4gIGxldCBhcGk7XG4gIGxldCBhY2NvdW50O1xuICBsZXQgY2xvY2s7XG4gIGxldCBjbGllbnQgPSB7XG4gICAgZ2V0QWNjb3VudEluZm9ybWF0aW9uOiAoKSA9PiB7fSxcbiAgICBhZGRTeW5jaHJvbml6YXRpb25MaXN0ZW5lcjogKCkgPT4ge30sXG4gICAgZW5zdXJlU3Vic2NyaWJlOiAoKSA9PiB7fSxcbiAgICBnZXRQb3NpdGlvbnM6ICgpID0+IHt9LFxuICAgIGdldFBvc2l0aW9uOiAoKSA9PiB7fSxcbiAgICBnZXRPcmRlcnM6ICgpID0+IHt9LFxuICAgIGdldE9yZGVyOiAoKSA9PiB7fSxcbiAgICBnZXRIaXN0b3J5T3JkZXJzQnlUaWNrZXQ6ICgpID0+IHt9LFxuICAgIGdldEhpc3RvcnlPcmRlcnNCeVBvc2l0aW9uOiAoKSA9PiB7fSxcbiAgICBnZXRIaXN0b3J5T3JkZXJzQnlUaW1lUmFuZ2U6ICgpID0+IHt9LFxuICAgIGdldERlYWxzQnlUaWNrZXQ6ICgpID0+IHt9LFxuICAgIGdldERlYWxzQnlQb3NpdGlvbjogKCkgPT4ge30sXG4gICAgZ2V0RGVhbHNCeVRpbWVSYW5nZTogKCkgPT4ge30sXG4gICAgcmVtb3ZlQXBwbGljYXRpb246ICgpID0+IHt9LFxuICAgIHRyYWRlOiAoKSA9PiB7fSxcbiAgICByZWNvbm5lY3Q6ICgpID0+IHt9LFxuICAgIGdldFN5bWJvbHM6ICgpID0+IHt9LFxuICAgIGdldFN5bWJvbFNwZWNpZmljYXRpb246ICgpID0+IHt9LFxuICAgIGdldFN5bWJvbFByaWNlOiAoKSA9PiB7fSxcbiAgICBnZXRDYW5kbGU6ICgpID0+IHt9LFxuICAgIGdldFRpY2s6ICgpID0+IHt9LFxuICAgIGdldEJvb2s6ICgpID0+IHt9LFxuICAgIGdldFNlcnZlclRpbWU6ICgpID0+IHt9LFxuICAgIGNhbGN1bGF0ZU1hcmdpbjogKCkgPT4ge30sXG4gICAgd2FpdFN5bmNocm9uaXplZDogKCkgPT4ge30sXG4gICAgYWRkQWNjb3VudENhY2hlOiAoKSA9PiB7fSxcbiAgICByZW1vdmVBY2NvdW50Q2FjaGU6ICgpID0+IHt9XG4gIH07XG5cbiAgbGV0IGFjY291bnRSZWdpb25zID0ge1xuICAgICd2aW50LWhpbGwnOiAnYWNjb3VudElkJyxcbiAgICAnbmV3LXlvcmsnOiAnYWNjb3VudElkUmVwbGljYSdcbiAgfTtcblxuICBiZWZvcmUoKCkgPT4ge1xuICAgIHNhbmRib3ggPSBzaW5vbi5jcmVhdGVTYW5kYm94KCk7XG4gIH0pO1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGFjY291bnQgPSB7XG4gICAgICBpZDogJ2FjY291bnRJZCcsIFxuICAgICAgc3RhdGU6ICdERVBMT1lFRCcsXG4gICAgICBhY2NvdW50UmVnaW9ucyxcbiAgICAgIHJlbG9hZDogKCkgPT4ge31cbiAgICB9O1xuICAgIGFwaSA9IG5ldyBScGNNZXRhQXBpQ29ubmVjdGlvbihjbGllbnQsIGFjY291bnQpO1xuICAgIGNsb2NrID0gc2lub24udXNlRmFrZVRpbWVycyh7XG4gICAgICBzaG91bGRBZHZhbmNlVGltZTogdHJ1ZVxuICAgIH0pO1xuICB9KTtcblxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIGNsb2NrLnJlc3RvcmUoKTtcbiAgICBzYW5kYm94LnJlc3RvcmUoKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiN3YWl0U3luY2hyb25pemVkfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCB3YWl0IHVudGlsIFJQQyBhcHBsaWNhdGlvbiBpcyBzeW5jaHJvbml6ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgYXBpLmNvbm5lY3QoKTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnd2FpdFN5bmNocm9uaXplZCcpLm9uRmlyc3RDYWxsKCkucmVqZWN0cyhuZXcgVGltZW91dEVycm9yKCd0ZXN0JykpXG4gICAgICAub25TZWNvbmRDYWxsKCkucmVqZWN0cyhuZXcgVGltZW91dEVycm9yKCd0ZXN0JykpXG4gICAgICAub25UaGlyZENhbGwoKS5yZXNvbHZlcygncmVzcG9uc2UnKTtcbiAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCA1MCkpO1xuICAgICAgYXdhaXQgYXBpLm9uQ29ubmVjdGVkKCk7XG4gICAgfSkoKTtcbiAgICBjbG9jay50aWNrQXN5bmMoMTEwMCk7XG4gICAgYXdhaXQgYXBpLndhaXRTeW5jaHJvbml6ZWQoKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiN3YWl0U3luY2hyb25pemVkfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCB0aW1lIG91dCB3YWl0aW5nIGZvciBzeW5jaHJvbml6YXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgYXBpLmNvbm5lY3QoKTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnd2FpdFN5bmNocm9uaXplZCcpLmNhbGxzRmFrZShhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIDEwMCkpOyBcbiAgICAgIHRocm93IG5ldyBUaW1lb3V0RXJyb3IoJ3Rlc3QnKTtcbiAgICB9KTtcbiAgICB0cnkge1xuICAgICAgKGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCA1MCkpO1xuICAgICAgICBhd2FpdCBhcGkub25Db25uZWN0ZWQoKTtcbiAgICAgIH0pKCk7XG4gICAgICBjbG9jay50aWNrQXN5bmMoMTEwMCk7XG4gICAgICBhd2FpdCBhcGkud2FpdFN5bmNocm9uaXplZCgwLjA5KTsgXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RpbWVvdXRFcnJvciBleHBlY3RlZCcpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgZXJyLm5hbWUuc2hvdWxkLmVxdWFsKCdUaW1lb3V0RXJyb3InKTtcbiAgICB9XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZE9uY2UoY2xpZW50LndhaXRTeW5jaHJvbml6ZWQpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI3dhaXRTeW5jaHJvbml6ZWR9XG4gICAqL1xuICBpdCgnc2hvdWxkIHRpbWUgb3V0IHdhaXRpbmcgZm9yIHN5bmNocm9uaXphdGlvbiBpZiBubyBjb25uZWN0ZWQgZXZlbnQgaGFzIGFycml2ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgYXBpLmNvbm5lY3QoKTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnd2FpdFN5bmNocm9uaXplZCcpLnJlc29sdmVzKCk7XG4gICAgdHJ5IHtcbiAgICAgIGNsb2NrLnRpY2tBc3luYygxMTAwKTtcbiAgICAgIGF3YWl0IGFwaS53YWl0U3luY2hyb25pemVkKDAuMDkpOyBcbiAgICAgIHRocm93IG5ldyBFcnJvcignVGltZW91dEVycm9yIGV4cGVjdGVkJyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBlcnIubmFtZS5zaG91bGQuZXF1YWwoJ1RpbWVvdXRFcnJvcicpO1xuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNnZXRBY2NvdW50SW5mb3JtYXRpb259XG4gICAqL1xuICBpdCgnc2hvdWxkIHJldHJpZXZlIGFjY291bnQgaW5mb3JtYXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgYXBpLmNvbm5lY3QoKTtcbiAgICBsZXQgYWNjb3VudEluZm9ybWF0aW9uID0ge1xuICAgICAgYnJva2VyOiAnVHJ1ZSBFQ04gVHJhZGluZyBMdGQnLFxuICAgICAgY3VycmVuY3k6ICdVU0QnLFxuICAgICAgc2VydmVyOiAnSUNNYXJrZXRzU0MtRGVtbycsXG4gICAgICBiYWxhbmNlOiA3MzE5LjksXG4gICAgICBlcXVpdHk6IDczMDYuNjQ5OTEzMjAwMDAxLFxuICAgICAgbWFyZ2luOiAxODQuMSxcbiAgICAgIGZyZWVNYXJnaW46IDcxMjAuMjIsXG4gICAgICBsZXZlcmFnZTogMTAwLFxuICAgICAgbWFyZ2luTGV2ZWw6IDM5NjcuNTgyODM1NDJcbiAgICB9O1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdnZXRBY2NvdW50SW5mb3JtYXRpb24nKS5yZXNvbHZlcyhhY2NvdW50SW5mb3JtYXRpb24pO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBhcGkuZ2V0QWNjb3VudEluZm9ybWF0aW9uKCk7XG4gICAgYWN0dWFsLnNob3VsZC5tYXRjaChhY2NvdW50SW5mb3JtYXRpb24pO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXRBY2NvdW50SW5mb3JtYXRpb24sICdhY2NvdW50SWQnKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNnZXRBY2NvdW50SW5mb3JtYXRpb259XG4gICAqL1xuICBpdCgnc2hvdWxkIG5vdCBwcm9jZXNzIHJlcXVlc3QgaWYgY29ubmVjdGlvbiBpcyBub3Qgb3BlbicsIGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgYXBpLmdldEFjY291bnRJbmZvcm1hdGlvbigpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciBpcyBleHBlY3RlZCcpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgZXJyLm1lc3NhZ2Uuc2hvdWxkLmVxdWFsKCdUaGlzIGNvbm5lY3Rpb24gaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkIHlldCwnICtcbiAgICAgICcgcGxlYXNlIGludm9rZSBhd2FpdCBjb25uZWN0aW9uLmNvbm5lY3QoKScpO1xuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNnZXRBY2NvdW50SW5mb3JtYXRpb259XG4gICAqL1xuICBpdCgnc2hvdWxkIG5vdCBwcm9jZXNzIHJlcXVlc3QgaWYgY29ubmVjdGlvbiBpcyBjbG9zZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgYXBpLmNvbm5lY3QoKTtcbiAgICBhd2FpdCBhcGkuY2xvc2UoKTtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgYXBpLmdldEFjY291bnRJbmZvcm1hdGlvbigpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciBpcyBleHBlY3RlZCcpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgZXJyLm1lc3NhZ2Uuc2hvdWxkLmVxdWFsKCdUaGlzIGNvbm5lY3Rpb24gaGFzIGJlZW4gY2xvc2VkLCBwbGVhc2UgY3JlYXRlIGEgbmV3IGNvbm5lY3Rpb24nKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jZ2V0UG9zaXRpb25zfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCByZXRyaWV2ZSBwb3NpdGlvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgYXBpLmNvbm5lY3QoKTtcbiAgICBsZXQgcG9zaXRpb25zID0gW3tcbiAgICAgIGlkOiAnNDYyMTQ2OTInLFxuICAgICAgdHlwZTogJ1BPU0lUSU9OX1RZUEVfQlVZJyxcbiAgICAgIHN5bWJvbDogJ0dCUFVTRCcsXG4gICAgICBtYWdpYzogMTAwMCxcbiAgICAgIHRpbWU6IG5ldyBEYXRlKCcyMDIwLTA0LTE1VDAyOjQ1OjA2LjUyMVonKSxcbiAgICAgIHVwZGF0ZVRpbWU6IG5ldyBEYXRlKCcyMDIwLTA0LTE1VDAyOjQ1OjA2LjUyMVonKSxcbiAgICAgIG9wZW5QcmljZTogMS4yNjEwMSxcbiAgICAgIGN1cnJlbnRQcmljZTogMS4yNDg4MyxcbiAgICAgIGN1cnJlbnRUaWNrVmFsdWU6IDEsXG4gICAgICB2b2x1bWU6IDAuMDcsXG4gICAgICBzd2FwOiAwLFxuICAgICAgcHJvZml0OiAtODUuMjU5OTk5OTk5OTk5NjYsXG4gICAgICBjb21taXNzaW9uOiAtMC4yNSxcbiAgICAgIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnLFxuICAgICAgc3RvcExvc3M6IDEuMTc3MjEsXG4gICAgICB1bnJlYWxpemVkUHJvZml0OiAtODUuMjU5OTk5OTk5OTk5MDEsXG4gICAgICByZWFsaXplZFByb2ZpdDogLTYuNTM2OTkzMTY4OTkyOTIyZS0xM1xuICAgIH1dO1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdnZXRQb3NpdGlvbnMnKS5yZXNvbHZlcyhwb3NpdGlvbnMpO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBhcGkuZ2V0UG9zaXRpb25zKCk7XG4gICAgYWN0dWFsLnNob3VsZC5tYXRjaChwb3NpdGlvbnMpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXRQb3NpdGlvbnMsICdhY2NvdW50SWQnKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNnZXRQb3NpdGlvbn1cbiAgICovXG4gIGl0KCdzaG91bGQgcmV0cmlldmUgcG9zaXRpb24gYnkgaWQnLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgYXBpLmNvbm5lY3QoKTtcbiAgICBsZXQgcG9zaXRpb24gPSB7XG4gICAgICBpZDogJzQ2MjE0NjkyJyxcbiAgICAgIHR5cGU6ICdQT1NJVElPTl9UWVBFX0JVWScsXG4gICAgICBzeW1ib2w6ICdHQlBVU0QnLFxuICAgICAgbWFnaWM6IDEwMDAsXG4gICAgICB0aW1lOiBuZXcgRGF0ZSgnMjAyMC0wNC0xNVQwMjo0NTowNi41MjFaJyksXG4gICAgICB1cGRhdGVUaW1lOiBuZXcgRGF0ZSgnMjAyMC0wNC0xNVQwMjo0NTowNi41MjFaJyksXG4gICAgICBvcGVuUHJpY2U6IDEuMjYxMDEsXG4gICAgICBjdXJyZW50UHJpY2U6IDEuMjQ4ODMsXG4gICAgICBjdXJyZW50VGlja1ZhbHVlOiAxLFxuICAgICAgdm9sdW1lOiAwLjA3LFxuICAgICAgc3dhcDogMCxcbiAgICAgIHByb2ZpdDogLTg1LjI1OTk5OTk5OTk5OTY2LFxuICAgICAgY29tbWlzc2lvbjogLTAuMjUsXG4gICAgICBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJyxcbiAgICAgIHN0b3BMb3NzOiAxLjE3NzIxLFxuICAgICAgdW5yZWFsaXplZFByb2ZpdDogLTg1LjI1OTk5OTk5OTk5OTAxLFxuICAgICAgcmVhbGl6ZWRQcm9maXQ6IC02LjUzNjk5MzE2ODk5MjkyMmUtMTNcbiAgICB9O1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdnZXRQb3NpdGlvbicpLnJlc29sdmVzKHBvc2l0aW9uKTtcbiAgICBsZXQgYWN0dWFsID0gYXdhaXQgYXBpLmdldFBvc2l0aW9uKCc0NjIxNDY5MicpO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2gocG9zaXRpb24pO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXRQb3NpdGlvbiwgJ2FjY291bnRJZCcsICc0NjIxNDY5MicpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2dldE9yZGVyc31cbiAgICovXG4gIGl0KCdzaG91bGQgcmV0cmlldmUgb3JkZXJzJywgYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGFwaS5jb25uZWN0KCk7XG4gICAgbGV0IG9yZGVycyA9IFt7XG4gICAgICBpZDogJzQ2ODcxMjg0JyxcbiAgICAgIHR5cGU6ICdPUkRFUl9UWVBFX0JVWV9MSU1JVCcsXG4gICAgICBzdGF0ZTogJ09SREVSX1NUQVRFX1BMQUNFRCcsXG4gICAgICBzeW1ib2w6ICdBVUROWkQnLFxuICAgICAgbWFnaWM6IDEyMzQ1NixcbiAgICAgIHBsYXRmb3JtOiAnbXQ1JyxcbiAgICAgIHRpbWU6IG5ldyBEYXRlKCcyMDIwLTA0LTIwVDA4OjM4OjU4LjI3MFonKSxcbiAgICAgIG9wZW5QcmljZTogMS4wMyxcbiAgICAgIGN1cnJlbnRQcmljZTogMS4wNTIwNixcbiAgICAgIHZvbHVtZTogMC4wMSxcbiAgICAgIGN1cnJlbnRWb2x1bWU6IDAuMDEsXG4gICAgICBjb21tZW50OiAnQ09NTUVOVDInXG4gICAgfV07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ2dldE9yZGVycycpLnJlc29sdmVzKG9yZGVycyk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5nZXRPcmRlcnMoKTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKG9yZGVycyk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LmdldE9yZGVycywgJ2FjY291bnRJZCcpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2dldE9yZGVyfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCByZXRyaWV2ZSBvcmRlciBieSBpZCcsIGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBhcGkuY29ubmVjdCgpO1xuICAgIGxldCBvcmRlciA9IHtcbiAgICAgIGlkOiAnNDY4NzEyODQnLFxuICAgICAgdHlwZTogJ09SREVSX1RZUEVfQlVZX0xJTUlUJyxcbiAgICAgIHN0YXRlOiAnT1JERVJfU1RBVEVfUExBQ0VEJyxcbiAgICAgIHN5bWJvbDogJ0FVRE5aRCcsXG4gICAgICBtYWdpYzogMTIzNDU2LFxuICAgICAgcGxhdGZvcm06ICdtdDUnLFxuICAgICAgdGltZTogbmV3IERhdGUoJzIwMjAtMDQtMjBUMDg6Mzg6NTguMjcwWicpLFxuICAgICAgb3BlblByaWNlOiAxLjAzLFxuICAgICAgY3VycmVudFByaWNlOiAxLjA1MjA2LFxuICAgICAgdm9sdW1lOiAwLjAxLFxuICAgICAgY3VycmVudFZvbHVtZTogMC4wMSxcbiAgICAgIGNvbW1lbnQ6ICdDT01NRU5UMidcbiAgICB9O1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdnZXRPcmRlcicpLnJlc29sdmVzKG9yZGVyKTtcbiAgICBsZXQgYWN0dWFsID0gYXdhaXQgYXBpLmdldE9yZGVyKCc0Njg3MTI4NCcpO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2gob3JkZXIpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXRPcmRlciwgJ2FjY291bnRJZCcsICc0Njg3MTI4NCcpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2dldEhpc3RvcnlPcmRlcnNCeVRpY2tldH1cbiAgICovXG4gIGl0KCdzaG91bGQgcmV0cmlldmUgaGlzdG9yeSBvcmRlcnMgYnkgdGlja2V0JywgYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGFwaS5jb25uZWN0KCk7XG4gICAgbGV0IGhpc3RvcnlPcmRlcnMgPSB7XG4gICAgICBoaXN0b3J5T3JkZXJzOiBbe1xuICAgICAgICBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJyxcbiAgICAgICAgY3VycmVudFByaWNlOiAxLjI2MSxcbiAgICAgICAgY3VycmVudFZvbHVtZTogMCxcbiAgICAgICAgZG9uZVRpbWU6IG5ldyBEYXRlKCcyMDIwLTA0LTE1VDAyOjQ1OjA2LjUyMVonKSxcbiAgICAgICAgaWQ6ICc0NjIxNDY5MicsXG4gICAgICAgIG1hZ2ljOiAxMDAwLFxuICAgICAgICBwbGF0Zm9ybTogJ210NScsXG4gICAgICAgIHBvc2l0aW9uSWQ6ICc0NjIxNDY5MicsXG4gICAgICAgIHN0YXRlOiAnT1JERVJfU1RBVEVfRklMTEVEJyxcbiAgICAgICAgc3ltYm9sOiAnR0JQVVNEJyxcbiAgICAgICAgdGltZTogbmV3IERhdGUoJzIwMjAtMDQtMTVUMDI6NDU6MDYuMjYwWicpLFxuICAgICAgICB0eXBlOiAnT1JERVJfVFlQRV9CVVknLFxuICAgICAgICB2b2x1bWU6IDAuMDdcbiAgICAgIH1dLFxuICAgICAgc3luY2hyb25pemluZzogZmFsc2VcbiAgICB9O1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdnZXRIaXN0b3J5T3JkZXJzQnlUaWNrZXQnKS5yZXNvbHZlcyhoaXN0b3J5T3JkZXJzKTtcbiAgICBsZXQgYWN0dWFsID0gYXdhaXQgYXBpLmdldEhpc3RvcnlPcmRlcnNCeVRpY2tldCgnNDYyMTQ2OTInKTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKGhpc3RvcnlPcmRlcnMpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXRIaXN0b3J5T3JkZXJzQnlUaWNrZXQsICdhY2NvdW50SWQnLCAnNDYyMTQ2OTInKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNnZXRIaXN0b3J5T3JkZXJzQnlQb3NpdGlvbn1cbiAgICovXG4gIGl0KCdzaG91bGQgcmV0cmlldmUgaGlzdG9yeSBvcmRlcnMgYnkgcG9zaXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgYXBpLmNvbm5lY3QoKTtcbiAgICBsZXQgaGlzdG9yeU9yZGVycyA9IHtcbiAgICAgIGhpc3RvcnlPcmRlcnM6IFt7XG4gICAgICAgIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnLFxuICAgICAgICBjdXJyZW50UHJpY2U6IDEuMjYxLFxuICAgICAgICBjdXJyZW50Vm9sdW1lOiAwLFxuICAgICAgICBkb25lVGltZTogbmV3IERhdGUoJzIwMjAtMDQtMTVUMDI6NDU6MDYuNTIxWicpLFxuICAgICAgICBpZDogJzQ2MjE0NjkyJyxcbiAgICAgICAgbWFnaWM6IDEwMDAsXG4gICAgICAgIHBsYXRmb3JtOiAnbXQ1JyxcbiAgICAgICAgcG9zaXRpb25JZDogJzQ2MjE0NjkyJyxcbiAgICAgICAgc3RhdGU6ICdPUkRFUl9TVEFURV9GSUxMRUQnLFxuICAgICAgICBzeW1ib2w6ICdHQlBVU0QnLFxuICAgICAgICB0aW1lOiBuZXcgRGF0ZSgnMjAyMC0wNC0xNVQwMjo0NTowNi4yNjBaJyksXG4gICAgICAgIHR5cGU6ICdPUkRFUl9UWVBFX0JVWScsXG4gICAgICAgIHZvbHVtZTogMC4wN1xuICAgICAgfV0sXG4gICAgICBzeW5jaHJvbml6aW5nOiBmYWxzZVxuICAgIH07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ2dldEhpc3RvcnlPcmRlcnNCeVBvc2l0aW9uJykucmVzb2x2ZXMoaGlzdG9yeU9yZGVycyk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5nZXRIaXN0b3J5T3JkZXJzQnlQb3NpdGlvbignNDYyMTQ2OTInKTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKGhpc3RvcnlPcmRlcnMpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXRIaXN0b3J5T3JkZXJzQnlQb3NpdGlvbiwgJ2FjY291bnRJZCcsICc0NjIxNDY5MicpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2dldEhpc3RvcnlPcmRlcnNCeVRpbWVSYW5nZX1cbiAgICovXG4gIGl0KCdzaG91bGQgcmV0cmlldmUgaGlzdG9yeSBvcmRlcnMgYnkgdGltZSByYW5nZScsIGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBhcGkuY29ubmVjdCgpO1xuICAgIGxldCBoaXN0b3J5T3JkZXJzID0ge1xuICAgICAgaGlzdG9yeU9yZGVyczogW3tcbiAgICAgICAgY2xpZW50SWQ6ICdURV9HQlBVU0RfN2h5SU5XcUFsRScsXG4gICAgICAgIGN1cnJlbnRQcmljZTogMS4yNjEsXG4gICAgICAgIGN1cnJlbnRWb2x1bWU6IDAsXG4gICAgICAgIGRvbmVUaW1lOiBuZXcgRGF0ZSgnMjAyMC0wNC0xNVQwMjo0NTowNi41MjFaJyksXG4gICAgICAgIGlkOiAnNDYyMTQ2OTInLFxuICAgICAgICBtYWdpYzogMTAwMCxcbiAgICAgICAgcGxhdGZvcm06ICdtdDUnLFxuICAgICAgICBwb3NpdGlvbklkOiAnNDYyMTQ2OTInLFxuICAgICAgICBzdGF0ZTogJ09SREVSX1NUQVRFX0ZJTExFRCcsXG4gICAgICAgIHN5bWJvbDogJ0dCUFVTRCcsXG4gICAgICAgIHRpbWU6IG5ldyBEYXRlKCcyMDIwLTA0LTE1VDAyOjQ1OjA2LjI2MFonKSxcbiAgICAgICAgdHlwZTogJ09SREVSX1RZUEVfQlVZJyxcbiAgICAgICAgdm9sdW1lOiAwLjA3XG4gICAgICB9XSxcbiAgICAgIHN5bmNocm9uaXppbmc6IGZhbHNlXG4gICAgfTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnZ2V0SGlzdG9yeU9yZGVyc0J5VGltZVJhbmdlJykucmVzb2x2ZXMoaGlzdG9yeU9yZGVycyk7XG4gICAgbGV0IHN0YXJ0VGltZSA9IG5ldyBEYXRlKERhdGUubm93KCkgLSAxMDAwKTtcbiAgICBsZXQgZW5kVGltZSA9IG5ldyBEYXRlKCk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5nZXRIaXN0b3J5T3JkZXJzQnlUaW1lUmFuZ2Uoc3RhcnRUaW1lLCBlbmRUaW1lLCAxLCAxMDApO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2goaGlzdG9yeU9yZGVycyk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LmdldEhpc3RvcnlPcmRlcnNCeVRpbWVSYW5nZSwgJ2FjY291bnRJZCcsIHN0YXJ0VGltZSwgZW5kVGltZSwgMSwgMTAwKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNnZXREZWFsc0J5VGlja2V0fVxuICAgKi9cbiAgaXQoJ3Nob3VsZCByZXRyaWV2ZSBoaXN0b3J5IGRlYWxzIGJ5IHRpY2tldCcsIGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBhcGkuY29ubmVjdCgpO1xuICAgIGxldCBkZWFscyA9IHtcbiAgICAgIGRlYWxzOiBbe1xuICAgICAgICBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJyxcbiAgICAgICAgY29tbWlzc2lvbjogLTAuMjUsXG4gICAgICAgIGVudHJ5VHlwZTogJ0RFQUxfRU5UUllfSU4nLFxuICAgICAgICBpZDogJzMzMjMwMDk5JyxcbiAgICAgICAgbWFnaWM6IDEwMDAsXG4gICAgICAgIHBsYXRmb3JtOiAnbXQ1JyxcbiAgICAgICAgb3JkZXJJZDogJzQ2MjE0NjkyJyxcbiAgICAgICAgcG9zaXRpb25JZDogJzQ2MjE0NjkyJyxcbiAgICAgICAgcHJpY2U6IDEuMjYxMDEsXG4gICAgICAgIHByb2ZpdDogMCxcbiAgICAgICAgc3dhcDogMCxcbiAgICAgICAgc3ltYm9sOiAnR0JQVVNEJyxcbiAgICAgICAgdGltZTogbmV3IERhdGUoJzIwMjAtMDQtMTVUMDI6NDU6MDYuNTIxWicpLFxuICAgICAgICB0eXBlOiAnREVBTF9UWVBFX0JVWScsXG4gICAgICAgIHZvbHVtZTogMC4wN1xuICAgICAgfV0sXG4gICAgICBzeW5jaHJvbml6aW5nOiBmYWxzZVxuICAgIH07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ2dldERlYWxzQnlUaWNrZXQnKS5yZXNvbHZlcyhkZWFscyk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5nZXREZWFsc0J5VGlja2V0KCc0NjIxNDY5MicpO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2goZGVhbHMpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXREZWFsc0J5VGlja2V0LCAnYWNjb3VudElkJywgJzQ2MjE0NjkyJyk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jZ2V0RGVhbHNCeVBvc2l0aW9ufVxuICAgKi9cbiAgaXQoJ3Nob3VsZCByZXRyaWV2ZSBoaXN0b3J5IGRlYWxzIGJ5IHBvc2l0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGFwaS5jb25uZWN0KCk7XG4gICAgbGV0IGRlYWxzID0ge1xuICAgICAgZGVhbHM6IFt7XG4gICAgICAgIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnLFxuICAgICAgICBjb21taXNzaW9uOiAtMC4yNSxcbiAgICAgICAgZW50cnlUeXBlOiAnREVBTF9FTlRSWV9JTicsXG4gICAgICAgIGlkOiAnMzMyMzAwOTknLFxuICAgICAgICBtYWdpYzogMTAwMCxcbiAgICAgICAgcGxhdGZvcm06ICdtdDUnLFxuICAgICAgICBvcmRlcklkOiAnNDYyMTQ2OTInLFxuICAgICAgICBwb3NpdGlvbklkOiAnNDYyMTQ2OTInLFxuICAgICAgICBwcmljZTogMS4yNjEwMSxcbiAgICAgICAgcHJvZml0OiAwLFxuICAgICAgICBzd2FwOiAwLFxuICAgICAgICBzeW1ib2w6ICdHQlBVU0QnLFxuICAgICAgICB0aW1lOiBuZXcgRGF0ZSgnMjAyMC0wNC0xNVQwMjo0NTowNi41MjFaJyksXG4gICAgICAgIHR5cGU6ICdERUFMX1RZUEVfQlVZJyxcbiAgICAgICAgdm9sdW1lOiAwLjA3XG4gICAgICB9XSxcbiAgICAgIHN5bmNocm9uaXppbmc6IGZhbHNlXG4gICAgfTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnZ2V0RGVhbHNCeVBvc2l0aW9uJykucmVzb2x2ZXMoZGVhbHMpO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBhcGkuZ2V0RGVhbHNCeVBvc2l0aW9uKCc0NjIxNDY5MicpO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2goZGVhbHMpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXREZWFsc0J5UG9zaXRpb24sICdhY2NvdW50SWQnLCAnNDYyMTQ2OTInKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNnZXREZWFsc0J5VGltZVJhbmdlfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCByZXRyaWV2ZSBoaXN0b3J5IGRlYWxzIGJ5IHRpbWUgcmFuZ2UnLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgYXBpLmNvbm5lY3QoKTtcbiAgICBsZXQgZGVhbHMgPSB7XG4gICAgICBkZWFsczogW3tcbiAgICAgICAgY2xpZW50SWQ6ICdURV9HQlBVU0RfN2h5SU5XcUFsRScsXG4gICAgICAgIGNvbW1pc3Npb246IC0wLjI1LFxuICAgICAgICBlbnRyeVR5cGU6ICdERUFMX0VOVFJZX0lOJyxcbiAgICAgICAgaWQ6ICczMzIzMDA5OScsXG4gICAgICAgIG1hZ2ljOiAxMDAwLFxuICAgICAgICBwbGF0Zm9ybTogJ210NScsXG4gICAgICAgIG9yZGVySWQ6ICc0NjIxNDY5MicsXG4gICAgICAgIHBvc2l0aW9uSWQ6ICc0NjIxNDY5MicsXG4gICAgICAgIHByaWNlOiAxLjI2MTAxLFxuICAgICAgICBwcm9maXQ6IDAsXG4gICAgICAgIHN3YXA6IDAsXG4gICAgICAgIHN5bWJvbDogJ0dCUFVTRCcsXG4gICAgICAgIHRpbWU6IG5ldyBEYXRlKCcyMDIwLTA0LTE1VDAyOjQ1OjA2LjUyMVonKSxcbiAgICAgICAgdHlwZTogJ0RFQUxfVFlQRV9CVVknLFxuICAgICAgICB2b2x1bWU6IDAuMDdcbiAgICAgIH1dLFxuICAgICAgc3luY2hyb25pemluZzogZmFsc2VcbiAgICB9O1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdnZXREZWFsc0J5VGltZVJhbmdlJykucmVzb2x2ZXMoZGVhbHMpO1xuICAgIGxldCBzdGFydFRpbWUgPSBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMTAwMCk7XG4gICAgbGV0IGVuZFRpbWUgPSBuZXcgRGF0ZSgpO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBhcGkuZ2V0RGVhbHNCeVRpbWVSYW5nZShzdGFydFRpbWUsIGVuZFRpbWUsIDEsIDEwMCk7XG4gICAgYWN0dWFsLnNob3VsZC5tYXRjaChkZWFscyk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LmdldERlYWxzQnlUaW1lUmFuZ2UsICdhY2NvdW50SWQnLCBzdGFydFRpbWUsIGVuZFRpbWUsIDEsIDEwMCk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jY3JlYXRlTWFya2V0QnV5T3JkZXJ9XG4gICAqL1xuICBpdCgnc2hvdWxkIGNyZWF0ZSBtYXJrZXQgYnV5IG9yZGVyJywgYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGFwaS5jb25uZWN0KCk7XG4gICAgbGV0IHRyYWRlUmVzdWx0ID0ge1xuICAgICAgZXJyb3I6IDEwMDA5LFxuICAgICAgZGVzY3JpcHRpb246ICdUUkFERV9SRVRDT0RFX0RPTkUnLFxuICAgICAgb3JkZXJJZDogNDY4NzA0NzJcbiAgICB9O1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICd0cmFkZScpLnJlc29sdmVzKHRyYWRlUmVzdWx0KTtcbiAgICBsZXQgYWN0dWFsID0gYXdhaXQgYXBpLmNyZWF0ZU1hcmtldEJ1eU9yZGVyKCdHQlBVU0QnLCAwLjA3LCAwLjksIDIuMCwge2NvbW1lbnQ6ICdjb21tZW50JyxcbiAgICAgIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnfSk7XG4gICAgYWN0dWFsLnNob3VsZC5tYXRjaCh0cmFkZVJlc3VsdCk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnRyYWRlLCAnYWNjb3VudElkJywgc2lub24ubWF0Y2goe2FjdGlvblR5cGU6ICdPUkRFUl9UWVBFX0JVWScsIHN5bWJvbDogJ0dCUFVTRCcsXG4gICAgICB2b2x1bWU6IDAuMDcsIHN0b3BMb3NzOiAwLjksIHRha2VQcm9maXQ6IDIuMCwgY29tbWVudDogJ2NvbW1lbnQnLCBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJ30pLCAnUlBDJyk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jY3JlYXRlTWFya2V0QnV5T3JkZXJ9XG4gICAqL1xuICBpdCgnc2hvdWxkIGNyZWF0ZSBtYXJrZXQgYnV5IG9yZGVyIHdpdGggcmVsYXRpdmUgU0wvVFAnLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgYXBpLmNvbm5lY3QoKTtcbiAgICBsZXQgdHJhZGVSZXN1bHQgPSB7XG4gICAgICBlcnJvcjogMTAwMDksXG4gICAgICBkZXNjcmlwdGlvbjogJ1RSQURFX1JFVENPREVfRE9ORScsXG4gICAgICBvcmRlcklkOiA0Njg3MDQ3MlxuICAgIH07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3RyYWRlJykucmVzb2x2ZXModHJhZGVSZXN1bHQpO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBhcGkuY3JlYXRlTWFya2V0QnV5T3JkZXIoJ0dCUFVTRCcsIDAuMDcsIHt2YWx1ZTogMC4xLCB1bml0czogJ1JFTEFUSVZFX1BSSUNFJ30sXG4gICAgICB7dmFsdWU6IDIwMDAsIHVuaXRzOiAnUkVMQVRJVkVfUE9JTlRTJ30sIHtjb21tZW50OiAnY29tbWVudCcsIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnfSk7XG4gICAgYWN0dWFsLnNob3VsZC5tYXRjaCh0cmFkZVJlc3VsdCk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnRyYWRlLCAnYWNjb3VudElkJywgc2lub24ubWF0Y2goe2FjdGlvblR5cGU6ICdPUkRFUl9UWVBFX0JVWScsIHN5bWJvbDogJ0dCUFVTRCcsXG4gICAgICB2b2x1bWU6IDAuMDcsIHN0b3BMb3NzOiAwLjEsIHN0b3BMb3NzVW5pdHM6ICdSRUxBVElWRV9QUklDRScsIHRha2VQcm9maXQ6IDIwMDAsXG4gICAgICB0YWtlUHJvZml0VW5pdHM6ICdSRUxBVElWRV9QT0lOVFMnLCBjb21tZW50OiAnY29tbWVudCcsIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnfSksICdSUEMnKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNjcmVhdGVNYXJrZXRTZWxsT3JkZXJ9XG4gICAqL1xuICBpdCgnc2hvdWxkIGNyZWF0ZSBtYXJrZXQgc2VsbCBvcmRlcicsIGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBhcGkuY29ubmVjdCgpO1xuICAgIGxldCB0cmFkZVJlc3VsdCA9IHtcbiAgICAgIGVycm9yOiAxMDAwOSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVFJBREVfUkVUQ09ERV9ET05FJyxcbiAgICAgIG9yZGVySWQ6IDQ2ODcwNDcyXG4gICAgfTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAndHJhZGUnKS5yZXNvbHZlcyh0cmFkZVJlc3VsdCk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5jcmVhdGVNYXJrZXRTZWxsT3JkZXIoJ0dCUFVTRCcsIDAuMDcsIDIuMCwgMC45LCB7Y29tbWVudDogJ2NvbW1lbnQnLFxuICAgICAgY2xpZW50SWQ6ICdURV9HQlBVU0RfN2h5SU5XcUFsRSd9KTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHRyYWRlUmVzdWx0KTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQudHJhZGUsICdhY2NvdW50SWQnLCBzaW5vbi5tYXRjaCh7YWN0aW9uVHlwZTogJ09SREVSX1RZUEVfU0VMTCcsIHN5bWJvbDogJ0dCUFVTRCcsXG4gICAgICB2b2x1bWU6IDAuMDcsIHN0b3BMb3NzOiAyLjAsIHRha2VQcm9maXQ6IDAuOSwgY29tbWVudDogJ2NvbW1lbnQnLCBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJ30pLCAnUlBDJyk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jY3JlYXRlTGltaXRCdXlPcmRlcn1cbiAgICovXG4gIGl0KCdzaG91bGQgY3JlYXRlIGxpbWl0IGJ1eSBvcmRlcicsIGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBhcGkuY29ubmVjdCgpO1xuICAgIGxldCB0cmFkZVJlc3VsdCA9IHtcbiAgICAgIGVycm9yOiAxMDAwOSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVFJBREVfUkVUQ09ERV9ET05FJyxcbiAgICAgIG9yZGVySWQ6IDQ2ODcwNDcyXG4gICAgfTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAndHJhZGUnKS5yZXNvbHZlcyh0cmFkZVJlc3VsdCk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5jcmVhdGVMaW1pdEJ1eU9yZGVyKCdHQlBVU0QnLCAwLjA3LCAxLjAsIDAuOSwgMi4wLCB7Y29tbWVudDogJ2NvbW1lbnQnLFxuICAgICAgY2xpZW50SWQ6ICdURV9HQlBVU0RfN2h5SU5XcUFsRSd9KTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHRyYWRlUmVzdWx0KTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQudHJhZGUsICdhY2NvdW50SWQnLCBzaW5vbi5tYXRjaCh7YWN0aW9uVHlwZTogJ09SREVSX1RZUEVfQlVZX0xJTUlUJyxcbiAgICAgIHN5bWJvbDogJ0dCUFVTRCcsIHZvbHVtZTogMC4wNywgb3BlblByaWNlOiAxLjAsIHN0b3BMb3NzOiAwLjksIHRha2VQcm9maXQ6IDIuMCwgY29tbWVudDogJ2NvbW1lbnQnLFxuICAgICAgY2xpZW50SWQ6ICdURV9HQlBVU0RfN2h5SU5XcUFsRSd9KSwgJ1JQQycpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2NyZWF0ZUxpbWl0U2VsbE9yZGVyfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBjcmVhdGUgbGltaXQgc2VsbCBvcmRlcicsIGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBhcGkuY29ubmVjdCgpO1xuICAgIGxldCB0cmFkZVJlc3VsdCA9IHtcbiAgICAgIGVycm9yOiAxMDAwOSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVFJBREVfUkVUQ09ERV9ET05FJyxcbiAgICAgIG9yZGVySWQ6IDQ2ODcwNDcyXG4gICAgfTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAndHJhZGUnKS5yZXNvbHZlcyh0cmFkZVJlc3VsdCk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5jcmVhdGVMaW1pdFNlbGxPcmRlcignR0JQVVNEJywgMC4wNywgMS41LCAyLjAsIDAuOSwge2NvbW1lbnQ6ICdjb21tZW50JyxcbiAgICAgIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnfSk7XG4gICAgYWN0dWFsLnNob3VsZC5tYXRjaCh0cmFkZVJlc3VsdCk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnRyYWRlLCAnYWNjb3VudElkJywgc2lub24ubWF0Y2goe2FjdGlvblR5cGU6ICdPUkRFUl9UWVBFX1NFTExfTElNSVQnLFxuICAgICAgc3ltYm9sOiAnR0JQVVNEJywgdm9sdW1lOiAwLjA3LCBvcGVuUHJpY2U6IDEuNSwgc3RvcExvc3M6IDIuMCwgdGFrZVByb2ZpdDogMC45LCBjb21tZW50OiAnY29tbWVudCcsXG4gICAgICBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJ30pLCAnUlBDJyk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jY3JlYXRlU3RvcEJ1eU9yZGVyfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBjcmVhdGUgc3RvcCBidXkgb3JkZXInLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgYXBpLmNvbm5lY3QoKTtcbiAgICBsZXQgdHJhZGVSZXN1bHQgPSB7XG4gICAgICBlcnJvcjogMTAwMDksXG4gICAgICBkZXNjcmlwdGlvbjogJ1RSQURFX1JFVENPREVfRE9ORScsXG4gICAgICBvcmRlcklkOiA0Njg3MDQ3MlxuICAgIH07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3RyYWRlJykucmVzb2x2ZXModHJhZGVSZXN1bHQpO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBhcGkuY3JlYXRlU3RvcEJ1eU9yZGVyKCdHQlBVU0QnLCAwLjA3LCAxLjUsIDAuOSwgMi4wLCB7Y29tbWVudDogJ2NvbW1lbnQnLFxuICAgICAgY2xpZW50SWQ6ICdURV9HQlBVU0RfN2h5SU5XcUFsRSd9KTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHRyYWRlUmVzdWx0KTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQudHJhZGUsICdhY2NvdW50SWQnLCBzaW5vbi5tYXRjaCh7YWN0aW9uVHlwZTogJ09SREVSX1RZUEVfQlVZX1NUT1AnLFxuICAgICAgc3ltYm9sOiAnR0JQVVNEJywgdm9sdW1lOiAwLjA3LCBvcGVuUHJpY2U6IDEuNSwgc3RvcExvc3M6IDAuOSwgdGFrZVByb2ZpdDogMi4wLCBjb21tZW50OiAnY29tbWVudCcsXG4gICAgICBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJ30pLCAnUlBDJyk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jY3JlYXRlU3RvcFNlbGxPcmRlcn1cbiAgICovXG4gIGl0KCdzaG91bGQgY3JlYXRlIHN0b3Agc2VsbCBvcmRlcicsIGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBhcGkuY29ubmVjdCgpO1xuICAgIGxldCB0cmFkZVJlc3VsdCA9IHtcbiAgICAgIGVycm9yOiAxMDAwOSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVFJBREVfUkVUQ09ERV9ET05FJyxcbiAgICAgIG9yZGVySWQ6ICc0Njg3MDQ3MidcbiAgICB9O1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICd0cmFkZScpLnJlc29sdmVzKHRyYWRlUmVzdWx0KTtcbiAgICBsZXQgYWN0dWFsID0gYXdhaXQgYXBpLmNyZWF0ZVN0b3BTZWxsT3JkZXIoJ0dCUFVTRCcsIDAuMDcsIDEuMCwgMi4wLCAwLjksIHtjb21tZW50OiAnY29tbWVudCcsXG4gICAgICBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJ30pO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2godHJhZGVSZXN1bHQpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC50cmFkZSwgJ2FjY291bnRJZCcsIHNpbm9uLm1hdGNoKHthY3Rpb25UeXBlOiAnT1JERVJfVFlQRV9TRUxMX1NUT1AnLFxuICAgICAgc3ltYm9sOiAnR0JQVVNEJywgdm9sdW1lOiAwLjA3LCBvcGVuUHJpY2U6IDEuMCwgc3RvcExvc3M6IDIuMCwgdGFrZVByb2ZpdDogMC45LCBjb21tZW50OiAnY29tbWVudCcsXG4gICAgICBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJ30pLCAnUlBDJyk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jY3JlYXRlU3RvcExpbWl0QnV5T3JkZXJ9XG4gICAqL1xuICBpdCgnc2hvdWxkIGNyZWF0ZSBzdG9wIGxpbWl0IGJ1eSBvcmRlcicsIGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBhcGkuY29ubmVjdCgpO1xuICAgIGxldCB0cmFkZVJlc3VsdCA9IHtcbiAgICAgIGVycm9yOiAxMDAwOSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVFJBREVfUkVUQ09ERV9ET05FJyxcbiAgICAgIG9yZGVySWQ6IDQ2ODcwNDcyXG4gICAgfTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAndHJhZGUnKS5yZXNvbHZlcyh0cmFkZVJlc3VsdCk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5jcmVhdGVTdG9wTGltaXRCdXlPcmRlcignR0JQVVNEJywgMC4wNywgMS41LCAxLjQsIDAuOSwgMi4wLCB7Y29tbWVudDogJ2NvbW1lbnQnLFxuICAgICAgY2xpZW50SWQ6ICdURV9HQlBVU0RfN2h5SU5XcUFsRSd9KTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHRyYWRlUmVzdWx0KTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQudHJhZGUsICdhY2NvdW50SWQnLCBzaW5vbi5tYXRjaCh7YWN0aW9uVHlwZTogJ09SREVSX1RZUEVfQlVZX1NUT1BfTElNSVQnLFxuICAgICAgc3ltYm9sOiAnR0JQVVNEJywgdm9sdW1lOiAwLjA3LCBvcGVuUHJpY2U6IDEuNSwgc3RvcExpbWl0UHJpY2U6IDEuNCwgc3RvcExvc3M6IDAuOSwgdGFrZVByb2ZpdDogMi4wLFxuICAgICAgY29tbWVudDogJ2NvbW1lbnQnLCBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJ30pLCAnUlBDJyk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jY3JlYXRlU3RvcExpbWl0U2VsbE9yZGVyfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBjcmVhdGUgc3RvcCBsaW1pdCBzZWxsIG9yZGVyJywgYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGFwaS5jb25uZWN0KCk7XG4gICAgbGV0IHRyYWRlUmVzdWx0ID0ge1xuICAgICAgZXJyb3I6IDEwMDA5LFxuICAgICAgZGVzY3JpcHRpb246ICdUUkFERV9SRVRDT0RFX0RPTkUnLFxuICAgICAgb3JkZXJJZDogJzQ2ODcwNDcyJ1xuICAgIH07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3RyYWRlJykucmVzb2x2ZXModHJhZGVSZXN1bHQpO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBhcGkuY3JlYXRlU3RvcExpbWl0U2VsbE9yZGVyKCdHQlBVU0QnLCAwLjA3LCAxLjAsIDEuMSwgMi4wLCAwLjksIHtjb21tZW50OiAnY29tbWVudCcsXG4gICAgICBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJ30pO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2godHJhZGVSZXN1bHQpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC50cmFkZSwgJ2FjY291bnRJZCcsIHNpbm9uLm1hdGNoKHthY3Rpb25UeXBlOiAnT1JERVJfVFlQRV9TRUxMX1NUT1BfTElNSVQnLFxuICAgICAgc3ltYm9sOiAnR0JQVVNEJywgdm9sdW1lOiAwLjA3LCBvcGVuUHJpY2U6IDEuMCwgc3RvcExpbWl0UHJpY2U6IDEuMSwgc3RvcExvc3M6IDIuMCwgdGFrZVByb2ZpdDogMC45LFxuICAgICAgY29tbWVudDogJ2NvbW1lbnQnLCBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJ30pLCAnUlBDJyk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jbW9kaWZ5UG9zaXRpb259XG4gICAqL1xuICBpdCgnc2hvdWxkIG1vZGlmeSBwb3NpdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBhcGkuY29ubmVjdCgpO1xuICAgIGxldCB0cmFkZVJlc3VsdCA9IHtcbiAgICAgIGVycm9yOiAxMDAwOSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVFJBREVfUkVUQ09ERV9ET05FJyxcbiAgICAgIHBvc2l0aW9uSWQ6ICc0Njg3MDQ3MidcbiAgICB9O1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICd0cmFkZScpLnJlc29sdmVzKHRyYWRlUmVzdWx0KTtcbiAgICBsZXQgYWN0dWFsID0gYXdhaXQgYXBpLm1vZGlmeVBvc2l0aW9uKCc0Njg3MDQ3MicsIDIuMCwgMC45KTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHRyYWRlUmVzdWx0KTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQudHJhZGUsICdhY2NvdW50SWQnLCBzaW5vbi5tYXRjaCh7YWN0aW9uVHlwZTogJ1BPU0lUSU9OX01PRElGWScsXG4gICAgICBwb3NpdGlvbklkOiAnNDY4NzA0NzInLCBzdG9wTG9zczogMi4wLCB0YWtlUHJvZml0OiAwLjl9KSwgJ1JQQycpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2Nsb3NlUG9zaXRpb25QYXJ0aWFsbHl9XG4gICAqL1xuICBpdCgnc2hvdWxkIGNsb3NlIHBvc2l0aW9uIHBhcnRpYWxseScsIGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBhcGkuY29ubmVjdCgpO1xuICAgIGxldCB0cmFkZVJlc3VsdCA9IHtcbiAgICAgIGVycm9yOiAxMDAwOSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVFJBREVfUkVUQ09ERV9ET05FJyxcbiAgICAgIHBvc2l0aW9uSWQ6ICc0Njg3MDQ3MidcbiAgICB9O1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICd0cmFkZScpLnJlc29sdmVzKHRyYWRlUmVzdWx0KTtcbiAgICBsZXQgYWN0dWFsID0gYXdhaXQgYXBpLmNsb3NlUG9zaXRpb25QYXJ0aWFsbHkoJzQ2ODcwNDcyJywgMC45LCB7Y29tbWVudDogJ2NvbW1lbnQnLFxuICAgICAgY2xpZW50SWQ6ICdURV9HQlBVU0RfN2h5SU5XcUFsRSd9KTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHRyYWRlUmVzdWx0KTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQudHJhZGUsICdhY2NvdW50SWQnLCBzaW5vbi5tYXRjaCh7YWN0aW9uVHlwZTogJ1BPU0lUSU9OX1BBUlRJQUwnLFxuICAgICAgcG9zaXRpb25JZDogJzQ2ODcwNDcyJywgdm9sdW1lOiAwLjksIGNvbW1lbnQ6ICdjb21tZW50JywgY2xpZW50SWQ6ICdURV9HQlBVU0RfN2h5SU5XcUFsRSd9KSwgJ1JQQycpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2Nsb3NlUG9zaXRpb259XG4gICAqL1xuICBpdCgnc2hvdWxkIGNsb3NlIHBvc2l0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGFwaS5jb25uZWN0KCk7XG4gICAgbGV0IHRyYWRlUmVzdWx0ID0ge1xuICAgICAgZXJyb3I6IDEwMDA5LFxuICAgICAgZGVzY3JpcHRpb246ICdUUkFERV9SRVRDT0RFX0RPTkUnLFxuICAgICAgcG9zaXRpb25JZDogJzQ2ODcwNDcyJ1xuICAgIH07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3RyYWRlJykucmVzb2x2ZXModHJhZGVSZXN1bHQpO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBhcGkuY2xvc2VQb3NpdGlvbignNDY4NzA0NzInLCB7Y29tbWVudDogJ2NvbW1lbnQnLCBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJ30pO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2godHJhZGVSZXN1bHQpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC50cmFkZSwgJ2FjY291bnRJZCcsIHNpbm9uLm1hdGNoKHthY3Rpb25UeXBlOiAnUE9TSVRJT05fQ0xPU0VfSUQnLFxuICAgICAgcG9zaXRpb25JZDogJzQ2ODcwNDcyJywgY29tbWVudDogJ2NvbW1lbnQnLCBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJ30pLCAnUlBDJyk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jY2xvc2VCeX1cbiAgICovXG4gIGl0KCdzaG91bGQgY2xvc2UgcG9zaXRpb24gYnkgYW4gb3Bwb3NpdGUgb25lJywgYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGFwaS5jb25uZWN0KCk7XG4gICAgbGV0IHRyYWRlUmVzdWx0ID0ge1xuICAgICAgZXJyb3I6IDEwMDA5LFxuICAgICAgZGVzY3JpcHRpb246ICdUUkFERV9SRVRDT0RFX0RPTkUnLFxuICAgICAgcG9zaXRpb25JZDogJzQ2ODcwNDcyJyxcbiAgICAgIGNsb3NlQnlQb3NpdGlvbklkOiAnNDY4NzA0ODInXG4gICAgfTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAndHJhZGUnKS5yZXNvbHZlcyh0cmFkZVJlc3VsdCk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5jbG9zZUJ5KCc0Njg3MDQ3MicsICc0Njg3MDQ4MicsIHtjb21tZW50OiAnY29tbWVudCcsIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnfSk7XG4gICAgYWN0dWFsLnNob3VsZC5tYXRjaCh0cmFkZVJlc3VsdCk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnRyYWRlLCAnYWNjb3VudElkJywgc2lub24ubWF0Y2goe2FjdGlvblR5cGU6ICdQT1NJVElPTl9DTE9TRV9CWScsXG4gICAgICBwb3NpdGlvbklkOiAnNDY4NzA0NzInLCBjbG9zZUJ5UG9zaXRpb25JZDogJzQ2ODcwNDgyJywgY29tbWVudDogJ2NvbW1lbnQnLCBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJ30pLFxuICAgICdSUEMnKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNjbG9zZVBvc2l0aW9uc0J5U3ltYm9sfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBjbG9zZSBwb3NpdGlvbnMgYnkgc3ltYm9sJywgYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGFwaS5jb25uZWN0KCk7XG4gICAgbGV0IHRyYWRlUmVzdWx0ID0ge1xuICAgICAgZXJyb3I6IDEwMDA5LFxuICAgICAgZGVzY3JpcHRpb246ICdUUkFERV9SRVRDT0RFX0RPTkUnLFxuICAgICAgcG9zaXRpb25JZDogJzQ2ODcwNDcyJ1xuICAgIH07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3RyYWRlJykucmVzb2x2ZXModHJhZGVSZXN1bHQpO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBhcGkuY2xvc2VQb3NpdGlvbnNCeVN5bWJvbCgnRVVSVVNEJywge2NvbW1lbnQ6ICdjb21tZW50JywgY2xpZW50SWQ6ICdURV9HQlBVU0RfN2h5SU5XcUFsRSd9KTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHRyYWRlUmVzdWx0KTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQudHJhZGUsICdhY2NvdW50SWQnLCBzaW5vbi5tYXRjaCh7YWN0aW9uVHlwZTogJ1BPU0lUSU9OU19DTE9TRV9TWU1CT0wnLFxuICAgICAgc3ltYm9sOiAnRVVSVVNEJywgY29tbWVudDogJ2NvbW1lbnQnLCBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJ30pLCAnUlBDJyk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jbW9kaWZ5T3JkZXJ9XG4gICAqL1xuICBpdCgnc2hvdWxkIG1vZGlmeSBvcmRlcicsIGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBhcGkuY29ubmVjdCgpO1xuICAgIGxldCB0cmFkZVJlc3VsdCA9IHtcbiAgICAgIGVycm9yOiAxMDAwOSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVFJBREVfUkVUQ09ERV9ET05FJyxcbiAgICAgIG9yZGVySWQ6ICc0Njg3MDQ3MidcbiAgICB9O1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICd0cmFkZScpLnJlc29sdmVzKHRyYWRlUmVzdWx0KTtcbiAgICBsZXQgYWN0dWFsID0gYXdhaXQgYXBpLm1vZGlmeU9yZGVyKCc0Njg3MDQ3MicsIDEuMCwgMi4wLCAwLjkpO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2godHJhZGVSZXN1bHQpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC50cmFkZSwgJ2FjY291bnRJZCcsIHNpbm9uLm1hdGNoKHthY3Rpb25UeXBlOiAnT1JERVJfTU9ESUZZJywgb3JkZXJJZDogJzQ2ODcwNDcyJyxcbiAgICAgIG9wZW5QcmljZTogMS4wLCBzdG9wTG9zczogMi4wLCB0YWtlUHJvZml0OiAwLjl9KSwgJ1JQQycpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2NhbmNlbE9yZGVyfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBjYW5jZWwgb3JkZXInLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgYXBpLmNvbm5lY3QoKTtcbiAgICBsZXQgdHJhZGVSZXN1bHQgPSB7XG4gICAgICBlcnJvcjogMTAwMDksXG4gICAgICBkZXNjcmlwdGlvbjogJ1RSQURFX1JFVENPREVfRE9ORScsXG4gICAgICBvcmRlcklkOiAnNDY4NzA0NzInXG4gICAgfTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAndHJhZGUnKS5yZXNvbHZlcyh0cmFkZVJlc3VsdCk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5jYW5jZWxPcmRlcignNDY4NzA0NzInKTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHRyYWRlUmVzdWx0KTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQudHJhZGUsICdhY2NvdW50SWQnLCBzaW5vbi5tYXRjaCh7YWN0aW9uVHlwZTogJ09SREVSX0NBTkNFTCcsIG9yZGVySWQ6ICc0Njg3MDQ3Mid9KSxcbiAgICAgICdSUEMnKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNjYWxjdWxhdGVNYXJnaW59XG4gICAqL1xuICBpdCgnc2hvdWxkIGNhbGN1bGF0ZSBtYXJnaW4nLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgYXBpLmNvbm5lY3QoKTtcbiAgICBsZXQgbWFyZ2luID0ge1xuICAgICAgbWFyZ2luOiAxMTBcbiAgICB9O1xuICAgIGxldCBvcmRlciA9IHtcbiAgICAgIHN5bWJvbDogJ0VVUlVTRCcsXG4gICAgICB0eXBlOiAnT1JERVJfVFlQRV9CVVknLFxuICAgICAgdm9sdW1lOiAwLjEsXG4gICAgICBvcGVuUHJpY2U6IDEuMVxuICAgIH07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ2NhbGN1bGF0ZU1hcmdpbicpLnJlc29sdmVzKG1hcmdpbik7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5jYWxjdWxhdGVNYXJnaW4ob3JkZXIpO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2gobWFyZ2luKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuY2FsY3VsYXRlTWFyZ2luLCAnYWNjb3VudElkJywgJ1JQQycsIHVuZGVmaW5lZCwgc2lub24ubWF0Y2gob3JkZXIpKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNnZXRTeW1ib2xzfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCByZXRyaWV2ZSBzeW1ib2xzJywgYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGFwaS5jb25uZWN0KCk7XG4gICAgbGV0IHN5bWJvbHMgPSBbJ0VVUlVTRCddO1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdnZXRTeW1ib2xzJykucmVzb2x2ZXMoc3ltYm9scyk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5nZXRTeW1ib2xzKCk7XG4gICAgYWN0dWFsLnNob3VsZC5tYXRjaChzeW1ib2xzKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuZ2V0U3ltYm9scywgJ2FjY291bnRJZCcpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2dldFN5bWJvbFNwZWNpZmljYXRpb259XG4gICAqL1xuICBpdCgnc2hvdWxkIHJldHJpZXZlIHN5bWJvbCBzcGVjaWZpY2F0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGFwaS5jb25uZWN0KCk7XG4gICAgbGV0IHNwZWNpZmljYXRpb24gPSB7XG4gICAgICBzeW1ib2w6ICdBVUROWkQnLFxuICAgICAgdGlja1NpemU6IDAuMDAwMDEsXG4gICAgICBtaW5Wb2x1bWU6IDAuMDEsXG4gICAgICBtYXhWb2x1bWU6IDEwMCxcbiAgICAgIHZvbHVtZVN0ZXA6IDAuMDFcbiAgICB9O1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdnZXRTeW1ib2xTcGVjaWZpY2F0aW9uJykucmVzb2x2ZXMoc3BlY2lmaWNhdGlvbik7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5nZXRTeW1ib2xTcGVjaWZpY2F0aW9uKCdBVUROWkQnKTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHNwZWNpZmljYXRpb24pO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXRTeW1ib2xTcGVjaWZpY2F0aW9uLCAnYWNjb3VudElkJywgJ0FVRE5aRCcpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2dldFN5bWJvbFByaWNlfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCByZXRyaWV2ZSBzeW1ib2wgcHJpY2UnLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgYXBpLmNvbm5lY3QoKTtcbiAgICBsZXQgcHJpY2UgPSB7XG4gICAgICBzeW1ib2w6ICdBVUROWkQnLFxuICAgICAgYmlkOiAxLjA1Mjk3LFxuICAgICAgYXNrOiAxLjA1MzA5LFxuICAgICAgcHJvZml0VGlja1ZhbHVlOiAwLjU5NzMxLFxuICAgICAgbG9zc1RpY2tWYWx1ZTogMC41OTczNlxuICAgIH07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ2dldFN5bWJvbFByaWNlJykucmVzb2x2ZXMocHJpY2UpO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBhcGkuZ2V0U3ltYm9sUHJpY2UoJ0FVRE5aRCcsIHRydWUpO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2gocHJpY2UpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXRTeW1ib2xQcmljZSwgJ2FjY291bnRJZCcsICdBVUROWkQnLCB0cnVlKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpQ29ubmVjdGlvbiNnZXRDYW5kbGV9XG4gICAqL1xuICBpdCgnc2hvdWxkIHJldHJpZXZlIGN1cnJlbnQgY2FuZGxlJywgYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGFwaS5jb25uZWN0KCk7XG4gICAgbGV0IGNhbmRsZSA9IHtcbiAgICAgIHN5bWJvbDogJ0FVRE5aRCcsXG4gICAgICB0aW1lZnJhbWU6ICcxNW0nLFxuICAgICAgdGltZTogbmV3IERhdGUoJzIwMjAtMDQtMDdUMDM6NDU6MDAuMDAwWicpLFxuICAgICAgYnJva2VyVGltZTogJzIwMjAtMDQtMDcgMDY6NDU6MDAuMDAwJyxcbiAgICAgIG9wZW46IDEuMDMyOTcsXG4gICAgICBoaWdoOiAxLjA2MzA5LFxuICAgICAgbG93OiAxLjAyNzA1LFxuICAgICAgY2xvc2U6IDEuMDQzLFxuICAgICAgdGlja1ZvbHVtZTogMTQzNSxcbiAgICAgIHNwcmVhZDogMTcsXG4gICAgICB2b2x1bWU6IDM0NVxuICAgIH07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ2dldENhbmRsZScpLnJlc29sdmVzKGNhbmRsZSk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5nZXRDYW5kbGUoJ0FVRE5aRCcsICcxNW0nLCB0cnVlKTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKGNhbmRsZSk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LmdldENhbmRsZSwgJ2FjY291bnRJZCcsICdBVUROWkQnLCAnMTVtJywgdHJ1ZSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaUNvbm5lY3Rpb24jZ2V0VGlja31cbiAgICovXG4gIGl0KCdzaG91bGQgcmV0cmlldmUgbGF0ZXN0IHRpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgYXBpLmNvbm5lY3QoKTtcbiAgICBsZXQgdGljayA9IHtcbiAgICAgIHN5bWJvbDogJ0FVRE5aRCcsXG4gICAgICB0aW1lOiBuZXcgRGF0ZSgnMjAyMC0wNC0wN1QwMzo0NTowMC4wMDBaJyksXG4gICAgICBicm9rZXJUaW1lOiAnMjAyMC0wNC0wNyAwNjo0NTowMC4wMDAnLFxuICAgICAgYmlkOiAxLjA1Mjk3LFxuICAgICAgYXNrOiAxLjA1MzA5LFxuICAgICAgbGFzdDogMC41Mjk4LFxuICAgICAgdm9sdW1lOiAwLjEzLFxuICAgICAgc2lkZTogJ2J1eSdcbiAgICB9O1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdnZXRUaWNrJykucmVzb2x2ZXModGljayk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5nZXRUaWNrKCdBVUROWkQnLCB0cnVlKTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHRpY2spO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXRUaWNrLCAnYWNjb3VudElkJywgJ0FVRE5aRCcsIHRydWUpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2dldEJvb2t9XG4gICAqL1xuICBpdCgnc2hvdWxkIHJldHJpZXZlIGxhdGVzdCBvcmRlciBib29rJywgYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGFwaS5jb25uZWN0KCk7XG4gICAgbGV0IGJvb2sgPSB7XG4gICAgICBzeW1ib2w6ICdBVUROWkQnLFxuICAgICAgdGltZTogbmV3IERhdGUoJzIwMjAtMDQtMDdUMDM6NDU6MDAuMDAwWicpLFxuICAgICAgYnJva2VyVGltZTogJzIwMjAtMDQtMDcgMDY6NDU6MDAuMDAwJyxcbiAgICAgIGJvb2s6IFtcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6ICdCT09LX1RZUEVfU0VMTCcsXG4gICAgICAgICAgcHJpY2U6IDEuMDUzMDksXG4gICAgICAgICAgdm9sdW1lOiA1LjY3XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiAnQk9PS19UWVBFX0JVWScsXG4gICAgICAgICAgcHJpY2U6IDEuMDUyOTcsXG4gICAgICAgICAgdm9sdW1lOiAzLjQ1XG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9O1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdnZXRCb29rJykucmVzb2x2ZXMoYm9vayk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5nZXRCb29rKCdBVUROWkQnLCB0cnVlKTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKGJvb2spO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXRCb29rLCAnYWNjb3VudElkJywgJ0FVRE5aRCcsIHRydWUpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlDb25uZWN0aW9uI2dldFNlcnZlclRpbWV9XG4gICAqL1xuICBpdCgnc2hvdWxkIHJldHJpZXZlIGxhdGVzdCBzZXJ2ZXIgdGltZScsIGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBhcGkuY29ubmVjdCgpO1xuICAgIGxldCBzZXJ2ZXJUaW1lID0ge1xuICAgICAgdGltZTogbmV3IERhdGUoJzIwMjItMDEtMDFUMDA6MDA6MDAuMDAwWicpLFxuICAgICAgYnJva2VyVGltZTogJzIwMjItMDEtMDEgMDI6MDA6MDAuMDAwWidcbiAgICB9O1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdnZXRTZXJ2ZXJUaW1lJykucmVzb2x2ZXMoc2VydmVyVGltZSk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGFwaS5nZXRTZXJ2ZXJUaW1lKCk7XG4gICAgYWN0dWFsLnNob3VsZC5tYXRjaChzZXJ2ZXJUaW1lKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuZ2V0U2VydmVyVGltZSwgJ2FjY291bnRJZCcpO1xuICB9KTtcblxufSk7XG4iXX0=