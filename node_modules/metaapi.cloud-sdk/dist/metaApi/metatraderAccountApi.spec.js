'use strict';

var _should = require('should');

var _should2 = _interopRequireDefault(_should);

var _sinon = require('sinon');

var _sinon2 = _interopRequireDefault(_sinon);

var _metatraderAccountApi = require('./metatraderAccountApi');

var _metatraderAccountApi2 = _interopRequireDefault(_metatraderAccountApi);

var _metatraderAccount = require('./metatraderAccount');

var _metatraderAccount2 = _interopRequireDefault(_metatraderAccount);

var _errorHandler = require('../clients/errorHandler');

var _index = require('./historyDatabase/index');

var _index2 = _interopRequireDefault(_index);

var _expertAdvisor = require('./expertAdvisor');

var _expertAdvisor2 = _interopRequireDefault(_expertAdvisor);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @test {MetatraderAccountApi}
 * @test {MetatraderAccount}
 */
// eslint-disable-next-line max-statements
describe('MetatraderAccountApi', () => {

  let sandbox;
  let api;
  let getAccountStub;
  let client = {
    getAccounts: () => {},
    getAccount: () => {},
    getAccountByToken: () => {},
    createAccount: () => {},
    deleteAccount: () => {},
    deployAccount: () => {},
    undeployAccount: () => {},
    redeployAccount: () => {},
    updateAccount: () => {},
    increaseReliability: () => {},
    createAccountReplica: () => {},
    getAccountReplica: () => {},
    deployAccountReplica: () => {},
    undeployAccountReplica: () => {},
    redeployAccountReplica: () => {},
    deleteAccountReplica: () => {},
    updateAccountReplica: () => {}
  };
  let eaClient = {
    getExpertAdvisors: () => {},
    getExpertAdvisor: () => {},
    updateExpertAdvisor: () => {},
    uploadExpertAdvisorFile: () => {},
    deleteExpertAdvisor: () => {}
  };
  let metaApiWebsocketClient = {
    addSynchronizationListener: () => {},
    addReconnectListener: () => {},
    subscribe: () => {}
  };
  let connectionRegistry = {
    connect: () => {},
    remove: () => {}
  };

  before(() => {
    api = new _metatraderAccountApi2.default(client, metaApiWebsocketClient, connectionRegistry, eaClient, undefined, 'MetaApi');
    sandbox = _sinon2.default.createSandbox();
  });

  beforeEach(() => {
    getAccountStub = sandbox.stub(client, 'getAccount');
  });

  afterEach(() => {
    sandbox.restore();
  });

  /**
   * @test {MetatraderAccountApi#getAccounts}
   */
  it('should retrieve MT accounts', async () => {
    sandbox.stub(client, 'getAccounts').resolves([{ _id: 'id' }]);
    let accounts = await api.getAccounts({ provisioningProfileId: 'profileId' });
    accounts.map(a => a.id).should.match(['id']);
    accounts.forEach(a => (a instanceof _metatraderAccount2.default).should.be.true());
    _sinon2.default.assert.calledWithMatch(client.getAccounts, { provisioningProfileId: 'profileId' });
  });

  /**
   * @test {MetatraderAccountApi#getAccount}
   */
  it('should retrieve MT account by id', async () => {
    getAccountStub.resolves({
      _id: 'id',
      login: '50194988',
      name: 'mt5a',
      server: 'ICMarketsSC-Demo',
      provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
      magic: 123456,
      application: 'MetaApi',
      connectionStatus: 'DISCONNECTED',
      state: 'DEPLOYED',
      type: 'cloud',
      accessToken: '2RUnoH1ldGbnEneCoqRTgI4QO1XOmVzbH5EVoQsA'
    });
    let account = await api.getAccount('id');
    account.id.should.equal('id');
    account.login.should.equal('50194988');
    account.name.should.equal('mt5a');
    account.server.should.equal('ICMarketsSC-Demo');
    account.provisioningProfileId.should.equal('f9ce1f12-e720-4b9a-9477-c2d4cb25f076');
    account.magic.should.equal(123456);
    account.application.should.equal('MetaApi');
    account.connectionStatus.should.equal('DISCONNECTED');
    account.state.should.equal('DEPLOYED');
    account.type.should.equal('cloud');
    account.accessToken.should.equal('2RUnoH1ldGbnEneCoqRTgI4QO1XOmVzbH5EVoQsA');
    (account instanceof _metatraderAccount2.default).should.be.true();
    _sinon2.default.assert.calledWith(client.getAccount, 'id');
  });

  /**
   * @test {MetatraderAccountApi#getAccountByToken}
   */
  it('should retrieve MT account by token', async () => {
    sandbox.stub(client, 'getAccountByToken').resolves({
      _id: 'id',
      login: '50194988',
      name: 'mt5a',
      server: 'ICMarketsSC-Demo',
      provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
      magic: 123456,
      application: 'MetaApi',
      connectionStatus: 'DISCONNECTED',
      state: 'DEPLOYED',
      type: 'cloud',
      accessToken: '2RUnoH1ldGbnEneCoqRTgI4QO1XOmVzbH5EVoQsA'
    });
    let account = await api.getAccountByToken();
    account.id.should.equal('id');
    account.login.should.equal('50194988');
    account.name.should.equal('mt5a');
    account.server.should.equal('ICMarketsSC-Demo');
    account.provisioningProfileId.should.equal('f9ce1f12-e720-4b9a-9477-c2d4cb25f076');
    account.magic.should.equal(123456);
    account.application.should.equal('MetaApi');
    account.connectionStatus.should.equal('DISCONNECTED');
    account.state.should.equal('DEPLOYED');
    account.type.should.equal('cloud');
    account.accessToken.should.equal('2RUnoH1ldGbnEneCoqRTgI4QO1XOmVzbH5EVoQsA');
    (account instanceof _metatraderAccount2.default).should.be.true();
    _sinon2.default.assert.calledWith(client.getAccountByToken);
  });

  /**
   * @test {MetatraderAccountApi#createAccount}
   */
  it('should create MT account', async () => {
    sandbox.stub(client, 'createAccount').resolves({ id: 'id' });
    getAccountStub.resolves({
      _id: 'id',
      login: '50194988',
      name: 'mt5a',
      server: 'ICMarketsSC-Demo',
      provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
      magic: 123456,
      application: 'MetaApi',
      connectionStatus: 'DISCONNECTED',
      state: 'DEPLOYED',
      type: 'cloud',
      accessToken: '2RUnoH1ldGbnEneCoqRTgI4QO1XOmVzbH5EVoQsA'
    });
    let newAccountData = {
      login: '50194988',
      password: 'Test1234',
      name: 'mt5a',
      server: 'ICMarketsSC-Demo',
      provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
      magic: 123456,
      application: 'MetaApi',
      type: 'cloud',
      accessToken: 'NyV5no9TMffJyUts2FjI80wly0so3rVCz4xOqiDx'
    };
    let account = await api.createAccount(newAccountData);
    account.id.should.equal('id');
    account.login.should.equal('50194988');
    account.name.should.equal('mt5a');
    account.server.should.equal('ICMarketsSC-Demo');
    account.provisioningProfileId.should.equal('f9ce1f12-e720-4b9a-9477-c2d4cb25f076');
    account.magic.should.equal(123456);
    account.application.should.equal('MetaApi');
    account.connectionStatus.should.equal('DISCONNECTED');
    account.state.should.equal('DEPLOYED');
    account.type.should.equal('cloud');
    account.accessToken.should.equal('2RUnoH1ldGbnEneCoqRTgI4QO1XOmVzbH5EVoQsA');
    (account instanceof _metatraderAccount2.default).should.be.true();
    _sinon2.default.assert.calledWith(client.createAccount, newAccountData);
    _sinon2.default.assert.calledWith(client.getAccount, 'id');
  });

  /**
   * @test {MetatraderAccount#reload}
   */
  it('should reload MT account', async () => {
    getAccountStub.onFirstCall().resolves({
      _id: 'id',
      login: '50194988',
      name: 'mt5a',
      server: 'ICMarketsSC-Demo',
      provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
      magic: 123456,
      application: 'MetaApi',
      connectionStatus: 'DISCONNECTED',
      state: 'DEPLOYING',
      type: 'cloud'
    }).onSecondCall().resolves({
      _id: 'id',
      login: '50194988',
      name: 'mt5a',
      server: 'ICMarketsSC-Demo',
      provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
      magic: 123456,
      application: 'MetaApi',
      connectionStatus: 'CONNECTED',
      state: 'DEPLOYED',
      type: 'cloud'
    });
    let account = await api.getAccount('id');
    await account.reload();
    account.connectionStatus.should.equal('CONNECTED');
    account.state.should.equal('DEPLOYED');
    _sinon2.default.assert.calledWith(client.getAccount, 'id');
    _sinon2.default.assert.calledTwice(client.getAccount);
  });

  /**
   * @test {MetatraderAccount#remove}
   */
  it('should remove MT account', async () => {
    sandbox.stub(connectionRegistry, 'remove').resolves();
    getAccountStub.onFirstCall().resolves({
      _id: 'id',
      login: '50194988',
      name: 'mt5a',
      server: 'ICMarketsSC-Demo',
      provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
      magic: 123456,
      application: 'MetaApi',
      connectionStatus: 'CONNECTED',
      state: 'DEPLOYED',
      type: 'cloud'
    }).onSecondCall().resolves({
      _id: 'id',
      login: '50194988',
      name: 'mt5a',
      server: 'ICMarketsSC-Demo',
      provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
      magic: 123456,
      application: 'MetaApi',
      connectionStatus: 'CONNECTED',
      state: 'DELETING',
      type: 'cloud'
    });
    sandbox.stub(client, 'deleteAccount').resolves();
    sandbox.stub(_index2.default.prototype, 'clear').returns();
    let account = await api.getAccount('id');
    await account.remove();
    _sinon2.default.assert.calledWith(connectionRegistry.remove, 'id');
    _sinon2.default.assert.calledWith(_index2.default.prototype.clear, 'id', 'MetaApi');
    account.state.should.equal('DELETING');
    _sinon2.default.assert.calledWith(client.deleteAccount, 'id');
    _sinon2.default.assert.calledWith(client.getAccount, 'id');
    _sinon2.default.assert.calledTwice(client.getAccount);
  });

  /**
   * @test {MetatraderAccount#deploy}
   */
  it('should deploy MT account', async () => {
    getAccountStub.onFirstCall().resolves({
      _id: 'id',
      login: '50194988',
      name: 'mt5a',
      server: 'ICMarketsSC-Demo',
      provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
      magic: 123456,
      application: 'MetaApi',
      connectionStatus: 'DISCONNECTED',
      state: 'UNDEPLOYED',
      type: 'cloud'
    }).onSecondCall().resolves({
      _id: 'id',
      login: '50194988',
      name: 'mt5a',
      server: 'ICMarketsSC-Demo',
      provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
      magic: 123456,
      application: 'MetaApi',
      connectionStatus: 'CONNECTED',
      state: 'DEPLOYING',
      type: 'cloud'
    });
    sandbox.stub(client, 'deployAccount').resolves();
    let account = await api.getAccount('id');
    await account.deploy();
    account.state.should.equal('DEPLOYING');
    _sinon2.default.assert.calledWith(client.deployAccount, 'id');
    _sinon2.default.assert.calledWith(client.getAccount, 'id');
    _sinon2.default.assert.calledTwice(client.getAccount);
  });

  /**
   * @test {MetatraderAccount#undeploy}
   */
  it('should undeploy MT account', async () => {
    sandbox.stub(connectionRegistry, 'remove').resolves();
    getAccountStub.onFirstCall().resolves({
      _id: 'id',
      login: '50194988',
      name: 'mt5a',
      server: 'ICMarketsSC-Demo',
      provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
      magic: 123456,
      application: 'MetaApi',
      connectionStatus: 'DISCONNECTED',
      state: 'DEPLOYED',
      type: 'cloud'
    }).onSecondCall().resolves({
      _id: 'id',
      login: '50194988',
      name: 'mt5a',
      server: 'ICMarketsSC-Demo',
      provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
      magic: 123456,
      application: 'MetaApi',
      connectionStatus: 'CONNECTED',
      state: 'UNDEPLOYING',
      type: 'cloud'
    });
    sandbox.stub(client, 'undeployAccount').resolves();
    let account = await api.getAccount('id');
    await account.undeploy();
    _sinon2.default.assert.calledWith(connectionRegistry.remove, 'id');
    account.state.should.equal('UNDEPLOYING');
    _sinon2.default.assert.calledWith(client.undeployAccount, 'id');
    _sinon2.default.assert.calledWith(client.getAccount, 'id');
    _sinon2.default.assert.calledTwice(client.getAccount);
  });

  /**
   * @test {MetatraderAccount#redeploy}
   */
  it('should redeploy MT account', async () => {
    getAccountStub.onFirstCall().resolves({
      _id: 'id',
      login: '50194988',
      name: 'mt5a',
      server: 'ICMarketsSC-Demo',
      provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
      magic: 123456,
      application: 'MetaApi',
      connectionStatus: 'DISCONNECTED',
      state: 'DEPLOYED',
      type: 'cloud'
    }).onSecondCall().resolves({
      _id: 'id',
      login: '50194988',
      name: 'mt5a',
      server: 'ICMarketsSC-Demo',
      provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
      magic: 123456,
      application: 'MetaApi',
      connectionStatus: 'CONNECTED',
      state: 'UNDEPLOYING',
      type: 'cloud'
    });
    sandbox.stub(client, 'redeployAccount').resolves();
    let account = await api.getAccount('id');
    await account.redeploy();
    account.state.should.equal('UNDEPLOYING');
    _sinon2.default.assert.calledWith(client.redeployAccount, 'id');
    _sinon2.default.assert.calledWith(client.getAccount, 'id');
    _sinon2.default.assert.calledTwice(client.getAccount);
  });

  /**
   * @test {MetatraderAccount#increaseReliability}
   */
  it('should increase MT account reliability', async () => {
    getAccountStub.onFirstCall().resolves({
      _id: 'id',
      login: '50194988',
      name: 'mt5a',
      server: 'ICMarketsSC-Demo',
      provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
      magic: 123456,
      application: 'MetaApi',
      connectionStatus: 'DISCONNECTED',
      state: 'DEPLOYED',
      type: 'cloud'
    }).onSecondCall().resolves({
      _id: 'id',
      login: '50194988',
      name: 'mt5a',
      server: 'ICMarketsSC-Demo',
      provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
      magic: 123456,
      application: 'MetaApi',
      connectionStatus: 'CONNECTED',
      state: 'UNDEPLOYING',
      type: 'cloud',
      reliability: 'high'
    });
    sandbox.stub(client, 'increaseReliability').resolves();
    let account = await api.getAccount('id');
    await account.increaseReliability();
    account.reliability.should.equal('high');
    _sinon2.default.assert.calledWith(client.increaseReliability, 'id');
    _sinon2.default.assert.calledWith(client.getAccount, 'id');
    _sinon2.default.assert.calledTwice(client.getAccount);
  });

  describe('MetatraderAccount.waitDeployed', () => {

    /**
     * @test {MetatraderAccount#waitDeployed}
     */
    it('should wait for deployment', async () => {
      let deployingAccount = {
        _id: 'id',
        login: '50194988',
        name: 'mt5a',
        server: 'ICMarketsSC-Demo',
        provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
        magic: 123456,
        application: 'MetaApi',
        connectionStatus: 'DISCONNECTED',
        state: 'DEPLOYING',
        type: 'cloud'
      };
      getAccountStub.onFirstCall().resolves(deployingAccount).onSecondCall().resolves(deployingAccount).onThirdCall().resolves({
        _id: 'id',
        login: '50194988',
        name: 'mt5a',
        server: 'ICMarketsSC-Demo',
        provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
        magic: 123456,
        application: 'MetaApi',
        connectionStatus: 'CONNECTED',
        state: 'DEPLOYED',
        type: 'cloud'
      });
      let account = await api.getAccount('id');
      await account.waitDeployed(1, 50);
      account.state.should.equal('DEPLOYED');
      _sinon2.default.assert.calledWith(client.getAccount, 'id');
      _sinon2.default.assert.calledThrice(client.getAccount);
    });

    /**
     * @test {MetatraderAccount#waitDeployed}
     */
    it('should time out waiting for deployment', async () => {
      let deployingAccount = {
        _id: 'id',
        login: '50194988',
        name: 'mt5a',
        server: 'ICMarketsSC-Demo',
        provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
        magic: 123456,
        application: 'MetaApi',
        connectionStatus: 'DISCONNECTED',
        state: 'DEPLOYING',
        type: 'cloud'
      };
      getAccountStub.resolves(deployingAccount);
      let account = await api.getAccount('id');
      try {
        await account.waitDeployed(1, 50);
        throw new Error('TimeoutError is expected');
      } catch (err) {
        err.name.should.equal('TimeoutError');
        account.state.should.equal('DEPLOYING');
      }
      _sinon2.default.assert.calledWith(client.getAccount, 'id');
    });
  });

  describe('MetatraderAccount.waitUndeployed', () => {

    /**
     * @test {MetatraderAccount#waitUndeployed}
     */
    it('should wait for undeployment', async () => {
      let undeployingAccount = {
        _id: 'id',
        login: '50194988',
        name: 'mt5a',
        server: 'ICMarketsSC-Demo',
        provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
        magic: 123456,
        application: 'MetaApi',
        connectionStatus: 'DISCONNECTED',
        state: 'UNDEPLOYING',
        type: 'cloud'
      };
      getAccountStub.onFirstCall().resolves(undeployingAccount).onSecondCall().resolves(undeployingAccount).onThirdCall().resolves({
        _id: 'id',
        login: '50194988',
        name: 'mt5a',
        server: 'ICMarketsSC-Demo',
        provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
        magic: 123456,
        application: 'MetaApi',
        connectionStatus: 'CONNECTED',
        state: 'UNDEPLOYED',
        type: 'cloud'
      });
      let account = await api.getAccount('id');
      await account.waitUndeployed(1, 50);
      account.state.should.equal('UNDEPLOYED');
      _sinon2.default.assert.calledWith(client.getAccount, 'id');
      _sinon2.default.assert.calledThrice(client.getAccount);
    });

    /**
     * @test {MetatraderAccount#waitUndeployed}
     */
    it('should time out waiting for undeployment', async () => {
      let undeployingAccount = {
        _id: 'id',
        login: '50194988',
        name: 'mt5a',
        server: 'ICMarketsSC-Demo',
        provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
        magic: 123456,
        application: 'MetaApi',
        connectionStatus: 'DISCONNECTED',
        state: 'UNDEPLOYING',
        type: 'cloud'
      };
      getAccountStub.resolves(undeployingAccount);
      let account = await api.getAccount('id');
      try {
        await account.waitUndeployed(1, 50);
        throw new Error('TimeoutError is expected');
      } catch (err) {
        err.name.should.equal('TimeoutError');
        account.state.should.equal('UNDEPLOYING');
      }
      _sinon2.default.assert.calledWith(client.getAccount, 'id');
    });
  });

  describe('MetatraderAccount.waitRemoved', () => {

    /**
     * @test {MetatraderAccount#waitRemoved}
     */
    it('should wait until removed', async () => {
      let deletingAccount = {
        _id: 'id',
        login: '50194988',
        name: 'mt5a',
        server: 'ICMarketsSC-Demo',
        provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
        magic: 123456,
        application: 'MetaApi',
        connectionStatus: 'DISCONNECTED',
        state: 'DELETING',
        type: 'cloud'
      };
      getAccountStub.onFirstCall().resolves(deletingAccount).onSecondCall().resolves(deletingAccount).onThirdCall().throws(new _errorHandler.NotFoundError());
      let account = await api.getAccount('id');
      await account.waitRemoved(1, 50);
      _sinon2.default.assert.calledWith(client.getAccount, 'id');
      _sinon2.default.assert.calledThrice(client.getAccount);
    });

    /**
     * @test {MetatraderAccount#waitRemoved}
     */
    it('should time out waiting until removed', async () => {
      let deletingAccount = {
        _id: 'id',
        login: '50194988',
        name: 'mt5a',
        server: 'ICMarketsSC-Demo',
        provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
        magic: 123456,
        application: 'MetaApi',
        connectionStatus: 'DISCONNECTED',
        state: 'DELETING',
        type: 'cloud'
      };
      getAccountStub.resolves(deletingAccount);
      let account = await api.getAccount('id');
      try {
        await account.waitRemoved(1, 50);
        throw new Error('TimeoutError is expected');
      } catch (err) {
        err.name.should.equal('TimeoutError');
      }
      _sinon2.default.assert.calledWith(client.getAccount, 'id');
    });
  });

  describe('MetatraderAccount.waitConnected', () => {

    /**
     * @test {MetatraderAccount#waitConnected}
     */
    it('should wait until broker connection', async () => {
      let disconnectedAccount = {
        _id: 'id',
        login: '50194988',
        name: 'mt5a',
        server: 'ICMarketsSC-Demo',
        provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
        magic: 123456,
        application: 'MetaApi',
        connectionStatus: 'DISCONNECTED',
        state: 'DEPLOYED',
        type: 'cloud'
      };
      getAccountStub.onFirstCall().resolves(disconnectedAccount).onSecondCall().resolves(disconnectedAccount).onThirdCall().resolves({
        _id: 'id',
        login: '50194988',
        name: 'mt5a',
        server: 'ICMarketsSC-Demo',
        provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
        magic: 123456,
        application: 'MetaApi',
        connectionStatus: 'CONNECTED',
        state: 'DEPLOYED',
        type: 'cloud'
      });
      let account = await api.getAccount('id');
      await account.waitConnected(1, 50);
      account.connectionStatus.should.equal('CONNECTED');
      _sinon2.default.assert.calledWith(client.getAccount, 'id');
      _sinon2.default.assert.calledThrice(client.getAccount);
    });

    /**
     * @test {MetatraderAccount#waitConnected}
     */
    it('should time out waiting for broker connection', async () => {
      let disconnectedAccount = {
        _id: 'id',
        login: '50194988',
        name: 'mt5a',
        server: 'ICMarketsSC-Demo',
        provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
        magic: 123456,
        application: 'MetaApi',
        connectionStatus: 'DISCONNECTED',
        state: 'DEPLOYED',
        type: 'cloud'
      };
      getAccountStub.resolves(disconnectedAccount);
      let account = await api.getAccount('id');
      try {
        await account.waitConnected(1, 50);
        throw new Error('TimeoutError is expected');
      } catch (err) {
        err.name.should.equal('TimeoutError');
        account.connectionStatus.should.equal('DISCONNECTED');
      }
      _sinon2.default.assert.calledWith(client.getAccount, 'id');
    });

    /**
     * @test {MetatraderAccount#waitConnected}
     */
    it('should pass for primary account if replica is connected', async () => {
      let disconnectedAccount = {
        _id: 'id',
        login: '50194988',
        name: 'mt5a',
        server: 'ICMarketsSC-Demo',
        provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
        magic: 123456,
        application: 'MetaApi',
        connectionStatus: 'DISCONNECTED',
        state: 'UNDEPLOYED',
        type: 'cloud',
        accountReplicas: [{
          _id: 'idReplica',
          state: 'DEPLOYED',
          magic: 0,
          connectionStatus: 'DISCONNECTED',
          symbol: 'EURUSD',
          reliability: 'regular',
          region: 'london'
        }]
      };
      getAccountStub.resolves(disconnectedAccount).onFirstCall().resolves(disconnectedAccount).onSecondCall().resolves(disconnectedAccount).onThirdCall().resolves({
        _id: 'id',
        login: '50194988',
        name: 'mt5a',
        server: 'ICMarketsSC-Demo',
        provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
        magic: 123456,
        application: 'MetaApi',
        connectionStatus: 'DISCONNECTED',
        state: 'UNDEPLOYED',
        type: 'cloud',
        accountReplicas: [{
          _id: 'idReplica',
          state: 'DEPLOYED',
          magic: 0,
          connectionStatus: 'CONNECTED',
          symbol: 'EURUSD',
          reliability: 'regular',
          region: 'london'
        }]
      });
      let account = await api.getAccount('id');
      await account.waitConnected(1, 50);
      const replica = account.replicas[0];
      replica.connectionStatus.should.equal('CONNECTED');
      _sinon2.default.assert.calledWith(client.getAccount, 'id');
      _sinon2.default.assert.calledThrice(client.getAccount);
    });
  });

  /**
   * @test {MetatraderAccount#connect}
   */
  it('should connect to an MT terminal', async () => {
    sandbox.stub(metaApiWebsocketClient, 'addSynchronizationListener').returns();
    sandbox.stub(metaApiWebsocketClient, 'subscribe').resolves();
    getAccountStub.resolves({ _id: 'id' });
    let account = await api.getAccount();
    let storage = {
      lastHistoryOrderTime: () => new Date('2020-01-01T00:00:00.000Z'),
      lastDealTime: () => new Date('2020-01-02T00:00:00.000Z'),
      loadDataFromDisk: () => ({ deals: [], historyOrders: [] })
    };
    sandbox.spy(connectionRegistry, 'connect');
    let connection = account.getStreamingConnection(storage);
    _sinon2.default.assert.calledWith(connectionRegistry.connect, account, storage);
  });

  /**
   * @test {MetatraderAccount#getStreamingConnection}
   */
  it('should connect to an MT terminal if in specified region', async () => {
    sandbox.stub(metaApiWebsocketClient, 'addSynchronizationListener').returns();
    sandbox.stub(metaApiWebsocketClient, 'subscribe').resolves();
    metaApiWebsocketClient.region = 'vint-hill';
    getAccountStub.resolves({ _id: 'id', region: 'vint-hill' });
    let account = await api.getAccount();
    let storage = {
      lastHistoryOrderTime: () => new Date('2020-01-01T00:00:00.000Z'),
      lastDealTime: () => new Date('2020-01-02T00:00:00.000Z'),
      loadDataFromDisk: () => ({ deals: [], historyOrders: [] })
    };
    sandbox.spy(connectionRegistry, 'connect');
    let connection = account.getStreamingConnection(storage);
    _sinon2.default.assert.calledWith(connectionRegistry.connect, account, storage);
  });

  /**
   * @test {MetatraderAccount#getStreamingConnection}
   */
  it('should not connect to an MT terminal if in different region', async () => {
    sandbox.stub(metaApiWebsocketClient, 'addSynchronizationListener').returns();
    sandbox.stub(metaApiWebsocketClient, 'subscribe').resolves();
    metaApiWebsocketClient.region = 'vint-hill';
    getAccountStub.resolves({ _id: 'id', region: 'new-york' });
    let account = await api.getAccount();
    let storage = {
      lastHistoryOrderTime: () => new Date('2020-01-01T00:00:00.000Z'),
      lastDealTime: () => new Date('2020-01-02T00:00:00.000Z'),
      loadDataFromDisk: () => ({ deals: [], historyOrders: [] })
    };
    try {
      let connection = account.getStreamingConnection(storage);
      throw new Error('Validation error expected');
    } catch (error) {
      error.message.should.equal('Account id is not on specified region vint-hill');
    }
  });

  /**
   * @test {MetatraderAccount#getRPCConnection}
   */
  it('should create RPC connection', async () => {
    sandbox.stub(metaApiWebsocketClient, 'addSynchronizationListener').returns();
    sandbox.stub(metaApiWebsocketClient, 'subscribe').resolves();
    metaApiWebsocketClient.region = 'vint-hill';
    getAccountStub.resolves({ _id: 'id', region: 'vint-hill' });
    let account = await api.getAccount();
    sandbox.spy(connectionRegistry, 'connect');
    account.getRPCConnection();
  });

  /**
   * @test {MetatraderAccount#getRPCConnection}
   */
  it('should create RPC connection if in specified region', async () => {
    sandbox.stub(metaApiWebsocketClient, 'addSynchronizationListener').returns();
    sandbox.stub(metaApiWebsocketClient, 'subscribe').resolves();
    metaApiWebsocketClient.region = 'vint-hill';
    getAccountStub.resolves({ _id: 'id', region: 'vint-hill' });
    let account = await api.getAccount();
    sandbox.spy(connectionRegistry, 'connect');
    account.getRPCConnection();
  });

  /**
   * @test {MetatraderAccount#getRPCConnection}
   */
  it('should not create RPC connection if in different region', async () => {
    sandbox.stub(metaApiWebsocketClient, 'addSynchronizationListener').returns();
    sandbox.stub(metaApiWebsocketClient, 'subscribe').resolves();
    metaApiWebsocketClient.region = 'vint-hill';
    getAccountStub.resolves({ _id: 'id', region: 'new-york' });
    let account = await api.getAccount();
    sandbox.spy(connectionRegistry, 'connect');

    try {
      account.getRPCConnection();
      throw new Error('Validation error expected');
    } catch (error) {
      error.message.should.equal('Account id is not on specified region vint-hill');
    }
  });

  /**
   * @test {MetatraderAccount#update}
   */
  it('should update MT account', async () => {
    getAccountStub.onFirstCall().resolves({
      _id: 'id',
      login: '50194988',
      name: 'mt5a',
      server: 'ICMarketsSC-Demo',
      provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
      magic: 123456,
      application: 'MetaApi',
      connectionStatus: 'CONNECTED',
      state: 'DEPLOYED',
      type: 'cloud'
    }).onSecondCall().resolves({
      _id: 'id',
      login: '50194988',
      name: 'mt5a__',
      server: 'OtherMarkets-Demo',
      provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
      magic: 123456,
      application: 'MetaApi',
      connectionStatus: 'CONNECTED',
      state: 'DEPLOYED',
      type: 'cloud'
    });
    sandbox.stub(client, 'updateAccount').resolves();
    let account = await api.getAccount('id');
    await account.update({
      name: 'mt5a__',
      password: 'moreSecurePass',
      server: 'OtherMarkets-Demo'
    });
    account.name.should.equal('mt5a__');
    account.server.should.equal('OtherMarkets-Demo');
    _sinon2.default.assert.calledWith(client.updateAccount, 'id', {
      name: 'mt5a__',
      password: 'moreSecurePass',
      server: 'OtherMarkets-Demo'
    });
    _sinon2.default.assert.calledWith(client.getAccount, 'id');
    _sinon2.default.assert.calledTwice(client.getAccount);
  });

  /**
   * @test {MetatraderAccount#getExpertAdvisors}
   */
  it('should retrieve expert advisors', async () => {
    getAccountStub.resolves({ _id: 'id', version: 4, type: 'cloud-g1' });
    sandbox.stub(eaClient, 'getExpertAdvisors').resolves([{ expertId: 'ea' }]);
    const account = await api.getAccount();
    const experts = await account.getExpertAdvisors();
    experts.map(e => e.expertId).should.match(['ea']);
    experts.forEach(e => (e instanceof _expertAdvisor2.default).should.be.true());
    _sinon2.default.assert.calledWithMatch(eaClient.getExpertAdvisors, 'id');
  });

  /**
   * @test {MetatraderAccount#getExpertAdvisor}
   */
  it('should retrieve expert advisor by expert id', async () => {
    getAccountStub.resolves({ _id: 'id', version: 4, type: 'cloud-g1' });
    sandbox.stub(eaClient, 'getExpertAdvisor').resolves({
      expertId: 'ea',
      period: '1H',
      symbol: 'EURUSD',
      fileUploaded: false
    });
    const account = await api.getAccount('id');
    const expert = await account.getExpertAdvisor('ea');
    expert.expertId.should.match('ea');
    expert.period.should.match('1H');
    expert.symbol.should.match('EURUSD');
    expert.fileUploaded.should.be.false();
    (expert instanceof _expertAdvisor2.default).should.be.true();
    _sinon2.default.assert.calledWithMatch(eaClient.getExpertAdvisor, 'id', 'ea');
  });

  /**
   * @test {MetatraderAccount#getExpertAdvisor}
   */
  it('should validate account version', async () => {
    getAccountStub.resolves({ _id: 'id', version: 5, type: 'cloud-g1' });
    sandbox.stub(eaClient, 'getExpertAdvisors').resolves([{
      expertId: 'ea',
      period: '1H',
      symbol: 'EURUSD',
      fileUploaded: false
    }]);
    sandbox.stub(eaClient, 'getExpertAdvisor').resolves({
      expertId: 'ea',
      period: '1H',
      symbol: 'EURUSD',
      fileUploaded: false
    });
    sandbox.stub(eaClient, 'updateExpertAdvisor').resolves();
    let newExpertAdvisor = {
      period: '1H',
      symbol: 'EURUSD',
      preset: 'preset'
    };
    const account = await api.getAccount('id');
    await (0, _should2.default)(account.getExpertAdvisors()).rejected();
    await (0, _should2.default)(account.getExpertAdvisor('ea')).rejected();
    await (0, _should2.default)(account.createExpertAdvisor('ea', newExpertAdvisor)).rejected();
  });

  /**
   * @test {MetatraderAccount#getExpertAdvisor}
   */
  it('should validate account type', async () => {
    getAccountStub.resolves({ _id: 'id', version: 4, type: 'cloud-g2' });
    sandbox.stub(eaClient, 'getExpertAdvisors').resolves([{
      expertId: 'ea',
      period: '1H',
      symbol: 'EURUSD',
      fileUploaded: false
    }]);
    sandbox.stub(eaClient, 'getExpertAdvisor').resolves({
      expertId: 'ea',
      period: '1H',
      symbol: 'EURUSD',
      fileUploaded: false
    });
    sandbox.stub(eaClient, 'updateExpertAdvisor').resolves();
    let newExpertAdvisor = {
      period: '1H',
      symbol: 'EURUSD',
      preset: 'preset'
    };
    const account = await api.getAccount('id');
    await (0, _should2.default)(account.getExpertAdvisors()).rejected();
    await (0, _should2.default)(account.getExpertAdvisor('ea')).rejected();
    await (0, _should2.default)(account.createExpertAdvisor('ea', newExpertAdvisor)).rejected();
  });

  /**
   * @test {MetatraderAccount#createExpertAdvisor}
   */
  it('should create expert advisor', async () => {
    getAccountStub.resolves({ _id: 'id', version: 4, type: 'cloud-g1' });
    sandbox.stub(eaClient, 'updateExpertAdvisor').resolves();
    sandbox.stub(eaClient, 'getExpertAdvisor').resolves({
      expertId: 'ea',
      period: '1H',
      symbol: 'EURUSD',
      fileUploaded: false
    });
    let newExpertAdvisor = {
      period: '1H',
      symbol: 'EURUSD',
      preset: 'preset'
    };
    const account = await api.getAccount('id');
    const expert = await account.createExpertAdvisor('ea', newExpertAdvisor);
    expert.expertId.should.match('ea');
    expert.period.should.match('1H');
    expert.symbol.should.match('EURUSD');
    expert.fileUploaded.should.be.false();
    (expert instanceof _expertAdvisor2.default).should.be.true();
    _sinon2.default.assert.calledWith(eaClient.updateExpertAdvisor, 'id', 'ea', newExpertAdvisor);
    _sinon2.default.assert.calledWith(eaClient.getExpertAdvisor, 'id', 'ea');
  });

  /**
   * @test {ExpertAdvisor#reload}
   */
  it('should reload expert advisor', async () => {
    getAccountStub.resolves({ _id: 'id', version: 4, type: 'cloud-g1' });
    sandbox.stub(eaClient, 'getExpertAdvisor').onFirstCall().resolves({
      expertId: 'ea',
      period: '1H',
      symbol: 'EURUSD',
      fileUploaded: false
    }).onSecondCall().resolves({
      expertId: 'ea',
      period: '4H',
      symbol: 'EURUSD',
      fileUploaded: false
    });
    const account = await api.getAccount('id');
    const expert = await account.getExpertAdvisor('ea');
    await expert.reload();
    expert.period.should.eql('4H');
    _sinon2.default.assert.calledWith(eaClient.getExpertAdvisor, 'id', 'ea');
    _sinon2.default.assert.calledTwice(eaClient.getExpertAdvisor);
  });

  /**
   * @test {ExpertAdvisor#update}
   */
  it('should update expert advisor', async () => {
    getAccountStub.resolves({ _id: 'id', version: 4, type: 'cloud-g1' });
    sandbox.stub(eaClient, 'getExpertAdvisor').onFirstCall().resolves({
      expertId: 'ea',
      period: '1H',
      symbol: 'EURUSD',
      fileUploaded: false
    }).onSecondCall().resolves({
      expertId: 'ea',
      period: '4H',
      symbol: 'EURUSD',
      fileUploaded: false
    });
    let newExpertAdvisor = {
      period: '4H',
      symbol: 'EURUSD',
      preset: 'preset'
    };
    sandbox.stub(eaClient, 'updateExpertAdvisor').resolves();
    const account = await api.getAccount('id');
    const expert = await account.getExpertAdvisor('ea');
    await expert.update(newExpertAdvisor);
    expert.period.should.eql('4H');
    _sinon2.default.assert.calledWith(eaClient.updateExpertAdvisor, 'id', 'ea', newExpertAdvisor);
    _sinon2.default.assert.calledTwice(eaClient.getExpertAdvisor);
    _sinon2.default.assert.calledWith(eaClient.getExpertAdvisor, 'id', 'ea');
  });

  /**
   * @test {ExpertAdvisor#uploadFile}
   */
  it('should upload expert advisor file', async () => {
    getAccountStub.resolves({ _id: 'id', version: 4, type: 'cloud-g1' });
    sandbox.stub(eaClient, 'getExpertAdvisor').onFirstCall().resolves({
      expertId: 'ea',
      period: '1H',
      symbol: 'EURUSD',
      fileUploaded: false
    }).onSecondCall().resolves({
      expertId: 'ea',
      period: '4H',
      symbol: 'EURUSD',
      fileUploaded: true
    });
    sandbox.stub(eaClient, 'uploadExpertAdvisorFile').resolves();
    const account = await api.getAccount('id');
    const expert = await account.getExpertAdvisor('ea');
    await expert.uploadFile('/path/to/file');
    expert.fileUploaded.should.be.true();
    _sinon2.default.assert.calledWith(eaClient.uploadExpertAdvisorFile, 'id', 'ea', '/path/to/file');
    _sinon2.default.assert.calledTwice(eaClient.getExpertAdvisor);
    _sinon2.default.assert.calledWith(eaClient.getExpertAdvisor, 'id', 'ea');
  });

  /**
   * @test {ExpertAdvisor#remove}
   */
  it('should remove expert advisor', async () => {
    getAccountStub.resolves({ _id: 'id', version: 4, type: 'cloud-g1' });
    sandbox.stub(eaClient, 'getExpertAdvisor').resolves({
      expertId: 'ea',
      period: '1H',
      symbol: 'EURUSD',
      fileUploaded: false
    });
    sandbox.stub(eaClient, 'deleteExpertAdvisor').resolves({ _id: 'id' });
    const account = await api.getAccount('id');
    const expert = await account.getExpertAdvisor('ea');
    await expert.remove();
    _sinon2.default.assert.calledWith(eaClient.deleteExpertAdvisor, 'id', 'ea');
  });

  describe('MT account replica', () => {

    beforeEach(async () => {
      getAccountStub.resolves({
        _id: 'id',
        login: '50194988',
        name: 'mt5a',
        server: 'ICMarketsSC-Demo',
        provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
        magic: 123456,
        application: 'MetaApi',
        connectionStatus: 'CONNECTED',
        state: 'DEPLOYED',
        type: 'cloud',
        accountReplicas: [{
          _id: 'idReplica',
          state: 'CREATED',
          magic: 0,
          connectionStatus: 'CONNECTED',
          symbol: 'EURUSD',
          reliability: 'regular',
          region: 'london'
        }]
      });
    });

    /**
     * @test {MetatraderAccount#createReplica}
     */
    it('should create MT account replica', async () => {
      getAccountStub.onFirstCall().resolves({
        _id: 'id',
        login: '50194988',
        name: 'mt5a',
        server: 'ICMarketsSC-Demo',
        provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
        magic: 123456,
        application: 'MetaApi',
        connectionStatus: 'CONNECTED',
        state: 'DEPLOYED',
        type: 'cloud'
      }).onSecondCall().resolves({
        _id: 'id',
        login: '50194988',
        name: 'mt5a',
        server: 'ICMarketsSC-Demo',
        provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
        magic: 123456,
        application: 'MetaApi',
        connectionStatus: 'CONNECTED',
        state: 'DEPLOYED',
        type: 'cloud',
        accountReplicas: [{
          _id: 'idReplica',
          state: 'CREATED',
          magic: 0,
          connectionStatus: 'CONNECTED',
          symbol: 'EURUSD',
          reliability: 'regular',
          region: 'london'
        }]
      });
      sandbox.stub(client, 'createAccountReplica').resolves();
      let account = await api.getAccount('id');
      const replica = await account.createReplica({
        magic: 0,
        symbol: 'EURUSD',
        reliability: 'regular',
        region: 'london'
      });
      replica.id.should.equal('idReplica');
      replica.state.should.equal('CREATED');
      replica.magic.should.equal(0);
      replica.connectionStatus.should.equal('CONNECTED');
      replica.reliability.should.equal('regular');
      replica.region.should.equal('london');
      _sinon2.default.assert.calledWith(client.createAccountReplica, 'id', {
        magic: 0,
        symbol: 'EURUSD',
        reliability: 'regular',
        region: 'london'
      });
      _sinon2.default.assert.calledWith(client.getAccount, 'id');
      _sinon2.default.assert.calledTwice(client.getAccount);
    });

    /**
     * @test {MetatraderAccountReplica#remove}
     */
    it('should remove MT account replica', async () => {
      const account = await api.getAccount('id');
      getAccountStub.resolves({
        _id: 'id',
        login: '50194988',
        name: 'mt5a',
        server: 'ICMarketsSC-Demo',
        provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
        magic: 123456,
        application: 'MetaApi',
        connectionStatus: 'CONNECTED',
        state: 'DEPLOYED',
        type: 'cloud',
        accountReplicas: [{
          _id: 'idReplica',
          state: 'DELETING',
          magic: 0,
          connectionStatus: 'CONNECTED',
          symbol: 'EURUSD',
          reliability: 'regular',
          region: 'london'
        }]
      });
      sandbox.stub(client, 'deleteAccountReplica').resolves();
      const replica = account.replicas[0];
      await replica.remove();
      replica.state.should.equal('DELETING');
      _sinon2.default.assert.calledWith(client.deleteAccountReplica, 'id', 'idReplica');
      _sinon2.default.assert.calledWith(client.getAccount, 'id');
      _sinon2.default.assert.calledTwice(client.getAccount);
    });

    /**
     * @test {MetatraderAccountReplica#deploy}
     */
    it('should deploy MT account replica', async () => {
      const account = await api.getAccount('id');
      getAccountStub.resolves({
        _id: 'id',
        login: '50194988',
        name: 'mt5a',
        server: 'ICMarketsSC-Demo',
        provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
        magic: 123456,
        application: 'MetaApi',
        connectionStatus: 'CONNECTED',
        state: 'DEPLOYED',
        type: 'cloud',
        accountReplicas: [{
          _id: 'idReplica',
          state: 'DEPLOYING',
          magic: 0,
          connectionStatus: 'CONNECTED',
          symbol: 'EURUSD',
          reliability: 'regular',
          region: 'london'
        }]
      });
      sandbox.stub(client, 'deployAccountReplica').resolves();
      const replica = account.replicas[0];
      await replica.deploy();
      replica.state.should.equal('DEPLOYING');
      _sinon2.default.assert.calledWith(client.deployAccountReplica, 'id', 'idReplica');
      _sinon2.default.assert.calledWith(client.getAccount, 'id');
      _sinon2.default.assert.calledTwice(client.getAccount);
    });

    /**
     * @test {MetatraderAccountReplica#undeploy}
     */
    it('should undeploy MT account replica', async () => {
      const account = await api.getAccount('id');
      getAccountStub.resolves({
        _id: 'id',
        login: '50194988',
        name: 'mt5a',
        server: 'ICMarketsSC-Demo',
        provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
        magic: 123456,
        application: 'MetaApi',
        connectionStatus: 'CONNECTED',
        state: 'DEPLOYED',
        type: 'cloud',
        accountReplicas: [{
          _id: 'idReplica',
          state: 'UNDEPLOYING',
          magic: 0,
          connectionStatus: 'CONNECTED',
          symbol: 'EURUSD',
          reliability: 'regular',
          region: 'london'
        }]
      });
      sandbox.stub(client, 'undeployAccountReplica').resolves();
      const replica = account.replicas[0];
      await replica.undeploy();
      replica.state.should.equal('UNDEPLOYING');
      _sinon2.default.assert.calledWith(client.undeployAccountReplica, 'id', 'idReplica');
      _sinon2.default.assert.calledWith(client.getAccount, 'id');
      _sinon2.default.assert.calledTwice(client.getAccount);
    });

    /**
     * @test {MetatraderAccountReplica#redeploy}
     */
    it('should redeploy MT account replica', async () => {
      let account = await api.getAccount('id');
      getAccountStub.resolves({
        _id: 'id',
        login: '50194988',
        name: 'mt5a',
        server: 'ICMarketsSC-Demo',
        provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
        magic: 123456,
        application: 'MetaApi',
        connectionStatus: 'CONNECTED',
        state: 'DEPLOYED',
        type: 'cloud',
        accountReplicas: [{
          _id: 'idReplica',
          state: 'UNDEPLOYING',
          magic: 0,
          connectionStatus: 'CONNECTED',
          symbol: 'EURUSD',
          reliability: 'regular',
          region: 'london'
        }]
      });

      sandbox.stub(client, 'redeployAccountReplica').resolves();
      const replica = account.replicas[0];
      await replica.redeploy();
      replica.state.should.equal('UNDEPLOYING');
      _sinon2.default.assert.calledWith(client.redeployAccountReplica, 'id', 'idReplica');
      _sinon2.default.assert.calledWith(client.getAccount, 'id');
      _sinon2.default.assert.calledTwice(client.getAccount);
    });

    /**
     * @test {MetatraderAccountReplica#update}
     */
    it('should update MT account replica', async () => {
      let account = await api.getAccount('id');
      getAccountStub.resolves({
        _id: 'id',
        login: '50194988',
        name: 'mt5a',
        server: 'ICMarketsSC-Demo',
        provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
        magic: 123456,
        application: 'MetaApi',
        connectionStatus: 'CONNECTED',
        state: 'DEPLOYED',
        type: 'cloud',
        accountReplicas: [{
          _id: 'idReplica',
          state: 'DEPLOYED',
          magic: 12345,
          connectionStatus: 'CONNECTED',
          symbol: 'EURUSD',
          reliability: 'regular',
          region: 'london'
        }]
      });
      sandbox.stub(client, 'updateAccountReplica').resolves();
      const replica = account.replicas[0];
      await replica.update({
        magic: 12345
      });
      replica.magic.should.equal(12345);
      _sinon2.default.assert.calledWith(client.updateAccountReplica, 'id', 'idReplica', {
        magic: 12345
      });
      _sinon2.default.assert.calledWith(client.getAccount, 'id');
      _sinon2.default.assert.calledTwice(client.getAccount);
    });

    /**
     * @test {MetatraderAccountReplica#increaseReliability}
     */
    it('should increase MT account replica reliability', async () => {
      let account = await api.getAccount('id');
      getAccountStub.resolves({
        _id: 'id',
        login: '50194988',
        name: 'mt5a',
        server: 'ICMarketsSC-Demo',
        provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
        magic: 123456,
        application: 'MetaApi',
        connectionStatus: 'CONNECTED',
        state: 'DEPLOYED',
        type: 'cloud',
        accountReplicas: [{
          _id: 'idReplica',
          state: 'DEPLOYING',
          magic: 0,
          connectionStatus: 'DISCONNECTED',
          symbol: 'EURUSD',
          reliability: 'high',
          region: 'london'
        }]
      });

      sandbox.stub(client, 'increaseReliability').resolves();
      const replica = account.replicas[0];
      await replica.increaseReliability();
      replica.reliability.should.equal('high');
      _sinon2.default.assert.calledWith(client.increaseReliability, 'idReplica');
      _sinon2.default.assert.calledWith(client.getAccount, 'id');
      _sinon2.default.assert.calledTwice(client.getAccount);
    });

    describe('MetatraderAccountReplica.waitDeployed', () => {

      let startAccount;

      beforeEach(async () => {
        startAccount = {
          _id: 'id',
          login: '50194988',
          name: 'mt5a',
          server: 'ICMarketsSC-Demo',
          provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
          magic: 123456,
          application: 'MetaApi',
          connectionStatus: 'CONNECTED',
          state: 'DEPLOYED',
          type: 'cloud',
          accountReplicas: [{
            _id: 'idReplica',
            state: 'DEPLOYING',
            magic: 0,
            connectionStatus: 'CONNECTED',
            symbol: 'EURUSD',
            reliability: 'regular',
            region: 'london'
          }]
        };

        getAccountStub.resolves(startAccount);
      });

      /**
       * @test {MetatraderAccountReplica#waitDeployed}
       */
      it('should wait for deployment', async () => {
        const updatedAccount = {
          _id: 'id',
          login: '50194988',
          name: 'mt5a',
          server: 'ICMarketsSC-Demo',
          provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
          magic: 123456,
          application: 'MetaApi',
          connectionStatus: 'CONNECTED',
          state: 'DEPLOYED',
          type: 'cloud',
          accountReplicas: [{
            _id: 'idReplica',
            state: 'DEPLOYED',
            magic: 0,
            connectionStatus: 'CONNECTED',
            symbol: 'EURUSD',
            reliability: 'regular',
            region: 'london'
          }]
        };
        getAccountStub.onFirstCall().resolves(startAccount).onSecondCall().resolves(startAccount).onThirdCall().resolves(updatedAccount);
        const account = await api.getAccount('id');
        const replica = account.replicas[0];
        await replica.waitDeployed(1, 50);
        replica.state.should.equal('DEPLOYED');
        _sinon2.default.assert.calledWith(client.getAccount, 'id');
        _sinon2.default.assert.calledThrice(client.getAccount);
      });

      /**
       * @test {MetatraderAccountReplica#waitDeployed}
       */
      it('should time out waiting for deployment', async () => {
        let account = await api.getAccount('id');
        const replica = account.replicas[0];
        try {
          await replica.waitDeployed(1, 50);
          throw new Error('TimeoutError is expected');
        } catch (err) {
          err.name.should.equal('TimeoutError');
          replica.state.should.equal('DEPLOYING');
        }
        _sinon2.default.assert.calledWith(client.getAccount, 'id');
      });
    });

    describe('MetatraderAccountReplica.waitUndeployed', () => {

      let startAccount;

      beforeEach(async () => {
        startAccount = {
          _id: 'id',
          login: '50194988',
          name: 'mt5a',
          server: 'ICMarketsSC-Demo',
          provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
          magic: 123456,
          application: 'MetaApi',
          connectionStatus: 'CONNECTED',
          state: 'DEPLOYED',
          type: 'cloud',
          accountReplicas: [{
            _id: 'idReplica',
            state: 'UNDEPLOYING',
            magic: 0,
            connectionStatus: 'CONNECTED',
            symbol: 'EURUSD',
            reliability: 'regular',
            region: 'london'
          }]
        };

        getAccountStub.resolves(startAccount);
      });

      /**
       * @test {MetatraderAccountReplica#waitUndeployed}
       */
      it('should wait for undeployment', async () => {
        const updatedAccount = {
          _id: 'id',
          login: '50194988',
          name: 'mt5a',
          server: 'ICMarketsSC-Demo',
          provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
          magic: 123456,
          application: 'MetaApi',
          connectionStatus: 'CONNECTED',
          state: 'DEPLOYED',
          type: 'cloud',
          accountReplicas: [{
            _id: 'idReplica',
            state: 'UNDEPLOYED',
            magic: 0,
            connectionStatus: 'CONNECTED',
            symbol: 'EURUSD',
            reliability: 'regular',
            region: 'london'
          }]
        };
        getAccountStub.onFirstCall().resolves(startAccount).onSecondCall().resolves(startAccount).onThirdCall().resolves(updatedAccount);
        const account = await api.getAccount('id');
        const replica = account.replicas[0];
        await replica.waitUndeployed(1, 50);
        replica.state.should.equal('UNDEPLOYED');
        _sinon2.default.assert.calledWith(client.getAccount, 'id');
        _sinon2.default.assert.calledThrice(client.getAccount);
      });

      /**
       * @test {MetatraderAccountReplica#waitUndeployed}
       */
      it('should time out waiting for undeployment', async () => {
        let account = await api.getAccount('id');
        const replica = account.replicas[0];
        try {
          await replica.waitUndeployed(1, 50);
          throw new Error('TimeoutError is expected');
        } catch (err) {
          err.name.should.equal('TimeoutError');
          replica.state.should.equal('UNDEPLOYING');
        }
        _sinon2.default.assert.calledWith(client.getAccount, 'id');
      });
    });

    describe('MetatraderAccountReplica.waitRemoved', () => {

      let startAccount;

      beforeEach(async () => {
        startAccount = {
          _id: 'id',
          login: '50194988',
          name: 'mt5a',
          server: 'ICMarketsSC-Demo',
          provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
          magic: 123456,
          application: 'MetaApi',
          connectionStatus: 'CONNECTED',
          state: 'DEPLOYED',
          type: 'cloud',
          accountReplicas: [{
            _id: 'idReplica',
            state: 'DELETING',
            magic: 0,
            connectionStatus: 'CONNECTED',
            symbol: 'EURUSD',
            reliability: 'regular',
            region: 'london'
          }]
        };

        getAccountStub.resolves(startAccount);
      });

      /**
       * @test {MetatraderAccountReplica#waitRemoved}
       */
      it('should wait until removed', async () => {
        const updatedAccount = {
          _id: 'id',
          login: '50194988',
          name: 'mt5a',
          server: 'ICMarketsSC-Demo',
          provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
          magic: 123456,
          application: 'MetaApi',
          connectionStatus: 'CONNECTED',
          state: 'DEPLOYED',
          type: 'cloud',
          accountReplicas: []
        };
        getAccountStub.onFirstCall().resolves(startAccount).onSecondCall().resolves(startAccount).onThirdCall().resolves(updatedAccount);
        const account = await api.getAccount('id');
        const replica = account.replicas[0];
        await replica.waitRemoved(1, 50);
        _sinon2.default.assert.calledWith(client.getAccount, 'id');
        _sinon2.default.assert.calledThrice(client.getAccount);
      });

      /**
       * @test {MetatraderAccountReplica#waitRemoved}
       */
      it('should time out waiting until removed', async () => {
        let account = await api.getAccount('id');
        const replica = account.replicas[0];
        try {
          await replica.waitRemoved(1, 50);
          throw new Error('TimeoutError is expected');
        } catch (err) {
          err.name.should.equal('TimeoutError');
          replica.state.should.equal('DELETING');
        }
        _sinon2.default.assert.calledWith(client.getAccount, 'id');
      });
    });

    describe('MetatraderAccountReplica.waitConnected', () => {

      let startAccount;

      beforeEach(async () => {
        startAccount = {
          _id: 'id',
          login: '50194988',
          name: 'mt5a',
          server: 'ICMarketsSC-Demo',
          provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
          magic: 123456,
          application: 'MetaApi',
          connectionStatus: 'CONNECTED',
          state: 'DEPLOYED',
          type: 'cloud',
          accountReplicas: [{
            _id: 'idReplica',
            state: 'DEPLOYED',
            magic: 0,
            connectionStatus: 'DISCONNECTED',
            symbol: 'EURUSD',
            reliability: 'regular',
            region: 'london'
          }]
        };

        getAccountStub.resolves(startAccount);
      });

      /**
       * @test {MetatraderAccountReplica#waitConnected}
       */
      it('should wait until broker connection', async () => {
        const updatedAccount = {
          _id: 'id',
          login: '50194988',
          name: 'mt5a',
          server: 'ICMarketsSC-Demo',
          provisioningProfileId: 'f9ce1f12-e720-4b9a-9477-c2d4cb25f076',
          magic: 123456,
          application: 'MetaApi',
          connectionStatus: 'CONNECTED',
          state: 'DEPLOYED',
          type: 'cloud',
          accountReplicas: [{
            _id: 'idReplica',
            state: 'DEPLOYED',
            magic: 0,
            connectionStatus: 'CONNECTED',
            symbol: 'EURUSD',
            reliability: 'regular',
            region: 'london'
          }]
        };
        getAccountStub.onFirstCall().resolves(startAccount).onSecondCall().resolves(startAccount).onThirdCall().resolves(updatedAccount);

        let account = await api.getAccount('id');
        const replica = account.replicas[0];
        await replica.waitConnected(1, 50);
        replica.connectionStatus.should.equal('CONNECTED');
        _sinon2.default.assert.calledWith(client.getAccount, 'id');
        _sinon2.default.assert.calledThrice(client.getAccount);
      });

      /**
       * @test {MetatraderAccountReplica#waitConnected}
       */
      it('should time out waiting for broker connection', async () => {
        let account = await api.getAccount('id');
        const replica = account.replicas[0];
        try {
          await replica.waitConnected(1, 50);
          throw new Error('TimeoutError is expected');
        } catch (err) {
          err.name.should.equal('TimeoutError');
          replica.connectionStatus.should.equal('DISCONNECTED');
        }
        _sinon2.default.assert.calledWith(client.getAccount, 'id');
      });
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9tZXRhQXBpL21ldGF0cmFkZXJBY2NvdW50QXBpLnNwZWMuZXM2Il0sIm5hbWVzIjpbImRlc2NyaWJlIiwic2FuZGJveCIsImFwaSIsImdldEFjY291bnRTdHViIiwiY2xpZW50IiwiZ2V0QWNjb3VudHMiLCJnZXRBY2NvdW50IiwiZ2V0QWNjb3VudEJ5VG9rZW4iLCJjcmVhdGVBY2NvdW50IiwiZGVsZXRlQWNjb3VudCIsImRlcGxveUFjY291bnQiLCJ1bmRlcGxveUFjY291bnQiLCJyZWRlcGxveUFjY291bnQiLCJ1cGRhdGVBY2NvdW50IiwiaW5jcmVhc2VSZWxpYWJpbGl0eSIsImNyZWF0ZUFjY291bnRSZXBsaWNhIiwiZ2V0QWNjb3VudFJlcGxpY2EiLCJkZXBsb3lBY2NvdW50UmVwbGljYSIsInVuZGVwbG95QWNjb3VudFJlcGxpY2EiLCJyZWRlcGxveUFjY291bnRSZXBsaWNhIiwiZGVsZXRlQWNjb3VudFJlcGxpY2EiLCJ1cGRhdGVBY2NvdW50UmVwbGljYSIsImVhQ2xpZW50IiwiZ2V0RXhwZXJ0QWR2aXNvcnMiLCJnZXRFeHBlcnRBZHZpc29yIiwidXBkYXRlRXhwZXJ0QWR2aXNvciIsInVwbG9hZEV4cGVydEFkdmlzb3JGaWxlIiwiZGVsZXRlRXhwZXJ0QWR2aXNvciIsIm1ldGFBcGlXZWJzb2NrZXRDbGllbnQiLCJhZGRTeW5jaHJvbml6YXRpb25MaXN0ZW5lciIsImFkZFJlY29ubmVjdExpc3RlbmVyIiwic3Vic2NyaWJlIiwiY29ubmVjdGlvblJlZ2lzdHJ5IiwiY29ubmVjdCIsInJlbW92ZSIsImJlZm9yZSIsIk1ldGF0cmFkZXJBY2NvdW50QXBpIiwidW5kZWZpbmVkIiwic2lub24iLCJjcmVhdGVTYW5kYm94IiwiYmVmb3JlRWFjaCIsInN0dWIiLCJhZnRlckVhY2giLCJyZXN0b3JlIiwiaXQiLCJyZXNvbHZlcyIsIl9pZCIsImFjY291bnRzIiwicHJvdmlzaW9uaW5nUHJvZmlsZUlkIiwibWFwIiwiYSIsImlkIiwic2hvdWxkIiwibWF0Y2giLCJmb3JFYWNoIiwiTWV0YXRyYWRlckFjY291bnQiLCJiZSIsInRydWUiLCJhc3NlcnQiLCJjYWxsZWRXaXRoTWF0Y2giLCJsb2dpbiIsIm5hbWUiLCJzZXJ2ZXIiLCJtYWdpYyIsImFwcGxpY2F0aW9uIiwiY29ubmVjdGlvblN0YXR1cyIsInN0YXRlIiwidHlwZSIsImFjY2Vzc1Rva2VuIiwiYWNjb3VudCIsImVxdWFsIiwiY2FsbGVkV2l0aCIsIm5ld0FjY291bnREYXRhIiwicGFzc3dvcmQiLCJvbkZpcnN0Q2FsbCIsIm9uU2Vjb25kQ2FsbCIsInJlbG9hZCIsImNhbGxlZFR3aWNlIiwiSGlzdG9yeURhdGFiYXNlIiwicHJvdG90eXBlIiwicmV0dXJucyIsImNsZWFyIiwiZGVwbG95IiwidW5kZXBsb3kiLCJyZWRlcGxveSIsInJlbGlhYmlsaXR5IiwiZGVwbG95aW5nQWNjb3VudCIsIm9uVGhpcmRDYWxsIiwid2FpdERlcGxveWVkIiwiY2FsbGVkVGhyaWNlIiwiRXJyb3IiLCJlcnIiLCJ1bmRlcGxveWluZ0FjY291bnQiLCJ3YWl0VW5kZXBsb3llZCIsImRlbGV0aW5nQWNjb3VudCIsInRocm93cyIsIk5vdEZvdW5kRXJyb3IiLCJ3YWl0UmVtb3ZlZCIsImRpc2Nvbm5lY3RlZEFjY291bnQiLCJ3YWl0Q29ubmVjdGVkIiwiYWNjb3VudFJlcGxpY2FzIiwic3ltYm9sIiwicmVnaW9uIiwicmVwbGljYSIsInJlcGxpY2FzIiwic3RvcmFnZSIsImxhc3RIaXN0b3J5T3JkZXJUaW1lIiwiRGF0ZSIsImxhc3REZWFsVGltZSIsImxvYWREYXRhRnJvbURpc2siLCJkZWFscyIsImhpc3RvcnlPcmRlcnMiLCJzcHkiLCJjb25uZWN0aW9uIiwiZ2V0U3RyZWFtaW5nQ29ubmVjdGlvbiIsImVycm9yIiwibWVzc2FnZSIsImdldFJQQ0Nvbm5lY3Rpb24iLCJ1cGRhdGUiLCJ2ZXJzaW9uIiwiZXhwZXJ0SWQiLCJleHBlcnRzIiwiZSIsIkV4cGVydEFkdmlzb3IiLCJwZXJpb2QiLCJmaWxlVXBsb2FkZWQiLCJleHBlcnQiLCJmYWxzZSIsIm5ld0V4cGVydEFkdmlzb3IiLCJwcmVzZXQiLCJyZWplY3RlZCIsImNyZWF0ZUV4cGVydEFkdmlzb3IiLCJlcWwiLCJ1cGxvYWRGaWxlIiwiY3JlYXRlUmVwbGljYSIsInN0YXJ0QWNjb3VudCIsInVwZGF0ZWRBY2NvdW50Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOztBQUNBOzs7O0FBQ0E7Ozs7OztBQUVBOzs7O0FBSUE7QUFDQUEsU0FBUyxzQkFBVCxFQUFpQyxNQUFNOztBQUVyQyxNQUFJQyxPQUFKO0FBQ0EsTUFBSUMsR0FBSjtBQUNBLE1BQUlDLGNBQUo7QUFDQSxNQUFJQyxTQUFTO0FBQ1hDLGlCQUFhLE1BQU0sQ0FBRSxDQURWO0FBRVhDLGdCQUFZLE1BQU0sQ0FBRSxDQUZUO0FBR1hDLHVCQUFtQixNQUFNLENBQUUsQ0FIaEI7QUFJWEMsbUJBQWUsTUFBTSxDQUFFLENBSlo7QUFLWEMsbUJBQWUsTUFBTSxDQUFFLENBTFo7QUFNWEMsbUJBQWUsTUFBTSxDQUFFLENBTlo7QUFPWEMscUJBQWlCLE1BQU0sQ0FBRSxDQVBkO0FBUVhDLHFCQUFpQixNQUFNLENBQUUsQ0FSZDtBQVNYQyxtQkFBZSxNQUFNLENBQUUsQ0FUWjtBQVVYQyx5QkFBcUIsTUFBTSxDQUFFLENBVmxCO0FBV1hDLDBCQUFzQixNQUFNLENBQUUsQ0FYbkI7QUFZWEMsdUJBQW1CLE1BQU0sQ0FBRSxDQVpoQjtBQWFYQywwQkFBc0IsTUFBTSxDQUFFLENBYm5CO0FBY1hDLDRCQUF3QixNQUFNLENBQUUsQ0FkckI7QUFlWEMsNEJBQXdCLE1BQU0sQ0FBRSxDQWZyQjtBQWdCWEMsMEJBQXNCLE1BQU0sQ0FBRSxDQWhCbkI7QUFpQlhDLDBCQUFzQixNQUFNLENBQUU7QUFqQm5CLEdBQWI7QUFtQkEsTUFBSUMsV0FBVztBQUNiQyx1QkFBbUIsTUFBTSxDQUFFLENBRGQ7QUFFYkMsc0JBQWtCLE1BQU0sQ0FBRSxDQUZi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QUFJeUIsVUFBVSxNQUFNbkUsSUFBSUksVUFBSixDQUFlLElBQWYsQ0FBcEI7QUFDQSxjQUFNaUcsVUFBVWxDLFFBQVFtQyxRQUFSLENBQWlCLENBQWpCLENBQWhCO0FBQ0EsWUFBSTtBQUNGLGdCQUFNRCxRQUFRSixhQUFSLENBQXNCLENBQXRCLEVBQXlCLEVBQXpCLENBQU47QUFDQSxnQkFBTSxJQUFJVCxLQUFKLENBQVUsMEJBQVYsQ0FBTjtBQUNELFNBSEQsQ0FHRSxPQUFPQyxHQUFQLEVBQVk7QUFDWkEsY0FBSTlCLElBQUosQ0FBU1QsTUFBVCxDQUFnQmtCLEtBQWhCLENBQXNCLGNBQXRCO0FBQ0FpQyxrQkFBUXRDLGdCQUFSLENBQXlCYixNQUF6QixDQUFnQ2tCLEtBQWhDLENBQXNDLGNBQXRDO0FBQ0Q7QUFDRGhDLHdCQUFNb0IsTUFBTixDQUFhYSxVQUFiLENBQXdCbkUsT0FBT0UsVUFBL0IsRUFBMkMsSUFBM0M7QUFDRCxPQVhEO0FBYUQsS0FwRkQ7QUFzRkQsR0E5bkJEO0FBZ29CRCxDQTV0REQiLCJmaWxlIjoibWV0YXRyYWRlckFjY291bnRBcGkuc3BlYy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHNob3VsZCBmcm9tICdzaG91bGQnO1xuaW1wb3J0IHNpbm9uIGZyb20gJ3Npbm9uJztcbmltcG9ydCBNZXRhdHJhZGVyQWNjb3VudEFwaSBmcm9tICcuL21ldGF0cmFkZXJBY2NvdW50QXBpJztcbmltcG9ydCBNZXRhdHJhZGVyQWNjb3VudCBmcm9tICcuL21ldGF0cmFkZXJBY2NvdW50JztcbmltcG9ydCB7Tm90Rm91bmRFcnJvcn0gZnJvbSAnLi4vY2xpZW50cy9lcnJvckhhbmRsZXInO1xuaW1wb3J0IEhpc3RvcnlEYXRhYmFzZSBmcm9tICcuL2hpc3RvcnlEYXRhYmFzZS9pbmRleCc7XG5pbXBvcnQgRXhwZXJ0QWR2aXNvciBmcm9tICcuL2V4cGVydEFkdmlzb3InO1xuXG4vKipcbiAqIEB0ZXN0IHtNZXRhdHJhZGVyQWNjb3VudEFwaX1cbiAqIEB0ZXN0IHtNZXRhdHJhZGVyQWNjb3VudH1cbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1zdGF0ZW1lbnRzXG5kZXNjcmliZSgnTWV0YXRyYWRlckFjY291bnRBcGknLCAoKSA9PiB7XG5cbiAgbGV0IHNhbmRib3g7XG4gIGxldCBhcGk7XG4gIGxldCBnZXRBY2NvdW50U3R1YjtcbiAgbGV0IGNsaWVudCA9IHtcbiAgICBnZXRBY2NvdW50czogKCkgPT4ge30sXG4gICAgZ2V0QWNjb3VudDogKCkgPT4ge30sXG4gICAgZ2V0QWNjb3VudEJ5VG9rZW46ICgpID0+IHt9LFxuICAgIGNyZWF0ZUFjY291bnQ6ICgpID0+IHt9LFxuICAgIGRlbGV0ZUFjY291bnQ6ICgpID0+IHt9LFxuICAgIGRlcGxveUFjY291bnQ6ICgpID0+IHt9LFxuICAgIHVuZGVwbG95QWNjb3VudDogKCkgPT4ge30sXG4gICAgcmVkZXBsb3lBY2NvdW50OiAoKSA9PiB7fSxcbiAgICB1cGRhdGVBY2NvdW50OiAoKSA9PiB7fSxcbiAgICBpbmNyZWFzZVJlbGlhYmlsaXR5OiAoKSA9PiB7fSxcbiAgICBjcmVhdGVBY2NvdW50UmVwbGljYTogKCkgPT4ge30sXG4gICAgZ2V0QWNjb3VudFJlcGxpY2E6ICgpID0+IHt9LFxuICAgIGRlcGxveUFjY291bnRSZXBsaWNhOiAoKSA9PiB7fSxcbiAgICB1bmRlcGxveUFjY291bnRSZXBsaWNhOiAoKSA9PiB7fSxcbiAgICByZWRlcGxveUFjY291bnRSZXBsaWNhOiAoKSA9PiB7fSxcbiAgICBkZWxldGVBY2NvdW50UmVwbGljYTogKCkgPT4ge30sXG4gICAgdXBkYXRlQWNjb3VudFJlcGxpY2E6ICgpID0+IHt9LFxuICB9O1xuICBsZXQgZWFDbGllbnQgPSB7XG4gICAgZ2V0RXhwZXJ0QWR2aXNvcnM6ICgpID0+IHt9LFxuICAgIGdldEV4cGVydEFkdmlzb3I6ICgpID0+IHt9LFxuICAgIHVwZGF0ZUV4cGVydEFkdmlzb3I6ICgpID0+IHt9LFxuICAgIHVwbG9hZEV4cGVydEFkdmlzb3JGaWxlOiAoKSA9PiB7fSxcbiAgICBkZWxldGVFeHBlcnRBZHZpc29yOiAoKSA9PiB7fVxuICB9O1xuICBsZXQgbWV0YUFwaVdlYnNvY2tldENsaWVudCA9IHtcbiAgICBhZGRTeW5jaHJvbml6YXRpb25MaXN0ZW5lcjogKCkgPT4ge30sXG4gICAgYWRkUmVjb25uZWN0TGlzdGVuZXI6ICgpID0+IHt9LFxuICAgIHN1YnNjcmliZTogKCkgPT4ge31cbiAgfTtcbiAgbGV0IGNvbm5lY3Rpb25SZWdpc3RyeSA9IHtcbiAgICBjb25uZWN0OiAoKSA9PiB7fSxcbiAgICByZW1vdmU6ICgpID0+IHt9XG4gIH07XG5cbiAgYmVmb3JlKCgpID0+IHtcbiAgICBhcGkgPSBuZXcgTWV0YXRyYWRlckFjY291bnRBcGkoY2xpZW50LCBtZXRhQXBpV2Vic29ja2V0Q2xpZW50LCBjb25uZWN0aW9uUmVnaXN0cnksIGVhQ2xpZW50LCB1bmRlZmluZWQsICdNZXRhQXBpJyk7XG4gICAgc2FuZGJveCA9IHNpbm9uLmNyZWF0ZVNhbmRib3goKTtcbiAgfSk7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgZ2V0QWNjb3VudFN0dWIgPSBzYW5kYm94LnN0dWIoY2xpZW50LCAnZ2V0QWNjb3VudCcpO1xuICB9KTtcblxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIHNhbmRib3gucmVzdG9yZSgpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGF0cmFkZXJBY2NvdW50QXBpI2dldEFjY291bnRzfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCByZXRyaWV2ZSBNVCBhY2NvdW50cycsIGFzeW5jICgpID0+IHtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAnZ2V0QWNjb3VudHMnKS5yZXNvbHZlcyhbe19pZDogJ2lkJ31dKTtcbiAgICBsZXQgYWNjb3VudHMgPSBhd2FpdCBhcGkuZ2V0QWNjb3VudHMoe3Byb3Zpc2lvbmluZ1Byb2ZpbGVJZDogJ3Byb2ZpbGVJZCd9KTtcbiAgICBhY2NvdW50cy5tYXAoYSA9PiBhLmlkKS5zaG91bGQubWF0Y2goWydpZCddKTtcbiAgICBhY2NvdW50cy5mb3JFYWNoKGEgPT4gKGEgaW5zdGFuY2VvZiBNZXRhdHJhZGVyQWNjb3VudCkuc2hvdWxkLmJlLnRydWUoKSk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGhNYXRjaChjbGllbnQuZ2V0QWNjb3VudHMsIHtwcm92aXNpb25pbmdQcm9maWxlSWQ6ICdwcm9maWxlSWQnfSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YXRyYWRlckFjY291bnRBcGkjZ2V0QWNjb3VudH1cbiAgICovXG4gIGl0KCdzaG91bGQgcmV0cmlldmUgTVQgYWNjb3VudCBieSBpZCcsIGFzeW5jICgpID0+IHtcbiAgICBnZXRBY2NvdW50U3R1Yi5yZXNvbHZlcyh7XG4gICAgICBfaWQ6ICdpZCcsXG4gICAgICBsb2dpbjogJzUwMTk0OTg4JyxcbiAgICAgIG5hbWU6ICdtdDVhJyxcbiAgICAgIHNlcnZlcjogJ0lDTWFya2V0c1NDLURlbW8nLFxuICAgICAgcHJvdmlzaW9uaW5nUHJvZmlsZUlkOiAnZjljZTFmMTItZTcyMC00YjlhLTk0NzctYzJkNGNiMjVmMDc2JyxcbiAgICAgIG1hZ2ljOiAxMjM0NTYsXG4gICAgICBhcHBsaWNhdGlvbjogJ01ldGFBcGknLFxuICAgICAgY29ubmVjdGlvblN0YXR1czogJ0RJU0NPTk5FQ1RFRCcsXG4gICAgICBzdGF0ZTogJ0RFUExPWUVEJyxcbiAgICAgIHR5cGU6ICdjbG91ZCcsXG4gICAgICBhY2Nlc3NUb2tlbjogJzJSVW5vSDFsZEdibkVuZUNvcVJUZ0k0UU8xWE9tVnpiSDVFVm9Rc0EnXG4gICAgfSk7XG4gICAgbGV0IGFjY291bnQgPSBhd2FpdCBhcGkuZ2V0QWNjb3VudCgnaWQnKTtcbiAgICBhY2NvdW50LmlkLnNob3VsZC5lcXVhbCgnaWQnKTtcbiAgICBhY2NvdW50LmxvZ2luLnNob3VsZC5lcXVhbCgnNTAxOTQ5ODgnKTtcbiAgICBhY2NvdW50Lm5hbWUuc2hvdWxkLmVxdWFsKCdtdDVhJyk7XG4gICAgYWNjb3VudC5zZXJ2ZXIuc2hvdWxkLmVxdWFsKCdJQ01hcmtldHNTQy1EZW1vJyk7XG4gICAgYWNjb3VudC5wcm92aXNpb25pbmdQcm9maWxlSWQuc2hvdWxkLmVxdWFsKCdmOWNlMWYxMi1lNzIwLTRiOWEtOTQ3Ny1jMmQ0Y2IyNWYwNzYnKTtcbiAgICBhY2NvdW50Lm1hZ2ljLnNob3VsZC5lcXVhbCgxMjM0NTYpO1xuICAgIGFjY291bnQuYXBwbGljYXRpb24uc2hvdWxkLmVxdWFsKCdNZXRhQXBpJyk7XG4gICAgYWNjb3VudC5jb25uZWN0aW9uU3RhdHVzLnNob3VsZC5lcXVhbCgnRElTQ09OTkVDVEVEJyk7XG4gICAgYWNjb3VudC5zdGF0ZS5zaG91bGQuZXF1YWwoJ0RFUExPWUVEJyk7XG4gICAgYWNjb3VudC50eXBlLnNob3VsZC5lcXVhbCgnY2xvdWQnKTtcbiAgICBhY2NvdW50LmFjY2Vzc1Rva2VuLnNob3VsZC5lcXVhbCgnMlJVbm9IMWxkR2JuRW5lQ29xUlRnSTRRTzFYT21WemJINUVWb1FzQScpO1xuICAgIChhY2NvdW50IGluc3RhbmNlb2YgTWV0YXRyYWRlckFjY291bnQpLnNob3VsZC5iZS50cnVlKCk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LmdldEFjY291bnQsICdpZCcpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGF0cmFkZXJBY2NvdW50QXBpI2dldEFjY291bnRCeVRva2VufVxuICAgKi9cbiAgaXQoJ3Nob3VsZCByZXRyaWV2ZSBNVCBhY2NvdW50IGJ5IHRva2VuJywgYXN5bmMgKCkgPT4ge1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdnZXRBY2NvdW50QnlUb2tlbicpLnJlc29sdmVzKHtcbiAgICAgIF9pZDogJ2lkJyxcbiAgICAgIGxvZ2luOiAnNTAxOTQ5ODgnLFxuICAgICAgbmFtZTogJ210NWEnLFxuICAgICAgc2VydmVyOiAnSUNNYXJrZXRzU0MtRGVtbycsXG4gICAgICBwcm92aXNpb25pbmdQcm9maWxlSWQ6ICdmOWNlMWYxMi1lNzIwLTRiOWEtOTQ3Ny1jMmQ0Y2IyNWYwNzYnLFxuICAgICAgbWFnaWM6IDEyMzQ1NixcbiAgICAgIGFwcGxpY2F0aW9uOiAnTWV0YUFwaScsXG4gICAgICBjb25uZWN0aW9uU3RhdHVzOiAnRElTQ09OTkVDVEVEJyxcbiAgICAgIHN0YXRlOiAnREVQTE9ZRUQnLFxuICAgICAgdHlwZTogJ2Nsb3VkJyxcbiAgICAgIGFjY2Vzc1Rva2VuOiAnMlJVbm9IMWxkR2JuRW5lQ29xUlRnSTRRTzFYT21WemJINUVWb1FzQSdcbiAgICB9KTtcbiAgICBsZXQgYWNjb3VudCA9IGF3YWl0IGFwaS5nZXRBY2NvdW50QnlUb2tlbigpO1xuICAgIGFjY291bnQuaWQuc2hvdWxkLmVxdWFsKCdpZCcpO1xuICAgIGFjY291bnQubG9naW4uc2hvdWxkLmVxdWFsKCc1MDE5NDk4OCcpO1xuICAgIGFjY291bnQubmFtZS5zaG91bGQuZXF1YWwoJ210NWEnKTtcbiAgICBhY2NvdW50LnNlcnZlci5zaG91bGQuZXF1YWwoJ0lDTWFya2V0c1NDLURlbW8nKTtcbiAgICBhY2NvdW50LnByb3Zpc2lvbmluZ1Byb2ZpbGVJZC5zaG91bGQuZXF1YWwoJ2Y5Y2UxZjEyLWU3MjAtNGI5YS05NDc3LWMyZDRjYjI1ZjA3NicpO1xuICAgIGFjY291bnQubWFnaWMuc2hvdWxkLmVxdWFsKDEyMzQ1Nik7XG4gICAgYWNjb3VudC5hcHBsaWNhdGlvbi5zaG91bGQuZXF1YWwoJ01ldGFBcGknKTtcbiAgICBhY2NvdW50LmNvbm5lY3Rpb25TdGF0dXMuc2hvdWxkLmVxdWFsKCdESVNDT05ORUNURUQnKTtcbiAgICBhY2NvdW50LnN0YXRlLnNob3VsZC5lcXVhbCgnREVQTE9ZRUQnKTtcbiAgICBhY2NvdW50LnR5cGUuc2hvdWxkLmVxdWFsKCdjbG91ZCcpO1xuICAgIGFjY291bnQuYWNjZXNzVG9rZW4uc2hvdWxkLmVxdWFsKCcyUlVub0gxbGRHYm5FbmVDb3FSVGdJNFFPMVhPbVZ6Ykg1RVZvUXNBJyk7XG4gICAgKGFjY291bnQgaW5zdGFuY2VvZiBNZXRhdHJhZGVyQWNjb3VudCkuc2hvdWxkLmJlLnRydWUoKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuZ2V0QWNjb3VudEJ5VG9rZW4pO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGF0cmFkZXJBY2NvdW50QXBpI2NyZWF0ZUFjY291bnR9XG4gICAqL1xuICBpdCgnc2hvdWxkIGNyZWF0ZSBNVCBhY2NvdW50JywgYXN5bmMgKCkgPT4ge1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdjcmVhdGVBY2NvdW50JykucmVzb2x2ZXMoe2lkOiAnaWQnfSk7XG4gICAgZ2V0QWNjb3VudFN0dWIucmVzb2x2ZXMoe1xuICAgICAgX2lkOiAnaWQnLFxuICAgICAgbG9naW46ICc1MDE5NDk4OCcsXG4gICAgICBuYW1lOiAnbXQ1YScsXG4gICAgICBzZXJ2ZXI6ICdJQ01hcmtldHNTQy1EZW1vJyxcbiAgICAgIHByb3Zpc2lvbmluZ1Byb2ZpbGVJZDogJ2Y5Y2UxZjEyLWU3MjAtNGI5YS05NDc3LWMyZDRjYjI1ZjA3NicsXG4gICAgICBtYWdpYzogMTIzNDU2LFxuICAgICAgYXBwbGljYXRpb246ICdNZXRhQXBpJyxcbiAgICAgIGNvbm5lY3Rpb25TdGF0dXM6ICdESVNDT05ORUNURUQnLFxuICAgICAgc3RhdGU6ICdERVBMT1lFRCcsXG4gICAgICB0eXBlOiAnY2xvdWQnLFxuICAgICAgYWNjZXNzVG9rZW46ICcyUlVub0gxbGRHYm5FbmVDb3FSVGdJNFFPMVhPbVZ6Ykg1RVZvUXNBJ1xuICAgIH0pO1xuICAgIGxldCBuZXdBY2NvdW50RGF0YSA9IHtcbiAgICAgIGxvZ2luOiAnNTAxOTQ5ODgnLFxuICAgICAgcGFzc3dvcmQ6ICdUZXN0MTIzNCcsXG4gICAgICBuYW1lOiAnbXQ1YScsXG4gICAgICBzZXJ2ZXI6ICdJQ01hcmtldHNTQy1EZW1vJyxcbiAgICAgIHByb3Zpc2lvbmluZ1Byb2ZpbGVJZDogJ2Y5Y2UxZjEyLWU3MjAtNGI5YS05NDc3LWMyZDRjYjI1ZjA3NicsXG4gICAgICBtYWdpYzogMTIzNDU2LFxuICAgICAgYXBwbGljYXRpb246ICdNZXRhQXBpJyxcbiAgICAgIHR5cGU6ICdjbG91ZCcsXG4gICAgICBhY2Nlc3NUb2tlbjogJ055VjVubzlUTWZmSnlVdHMyRmpJODB3bHkwc28zclZDejR4T3FpRHgnXG4gICAgfTtcbiAgICBsZXQgYWNjb3VudCA9IGF3YWl0IGFwaS5jcmVhdGVBY2NvdW50KG5ld0FjY291bnREYXRhKTtcbiAgICBhY2NvdW50LmlkLnNob3VsZC5lcXVhbCgnaWQnKTtcbiAgICBhY2NvdW50LmxvZ2luLnNob3VsZC5lcXVhbCgnNTAxOTQ5ODgnKTtcbiAgICBhY2NvdW50Lm5hbWUuc2hvdWxkLmVxdWFsKCdtdDVhJyk7XG4gICAgYWNjb3VudC5zZXJ2ZXIuc2hvdWxkLmVxdWFsKCdJQ01hcmtldHNTQy1EZW1vJyk7XG4gICAgYWNjb3VudC5wcm92aXNpb25pbmdQcm9maWxlSWQuc2hvdWxkLmVxdWFsKCdmOWNlMWYxMi1lNzIwLTRiOWEtOTQ3Ny1jMmQ0Y2IyNWYwNzYnKTtcbiAgICBhY2NvdW50Lm1hZ2ljLnNob3VsZC5lcXVhbCgxMjM0NTYpO1xuICAgIGFjY291bnQuYXBwbGljYXRpb24uc2hvdWxkLmVxdWFsKCdNZXRhQXBpJyk7XG4gICAgYWNjb3VudC5jb25uZWN0aW9uU3RhdHVzLnNob3VsZC5lcXVhbCgnRElTQ09OTkVDVEVEJyk7XG4gICAgYWNjb3VudC5zdGF0ZS5zaG91bGQuZXF1YWwoJ0RFUExPWUVEJyk7XG4gICAgYWNjb3VudC50eXBlLnNob3VsZC5lcXVhbCgnY2xvdWQnKTtcbiAgICBhY2NvdW50LmFjY2Vzc1Rva2VuLnNob3VsZC5lcXVhbCgnMlJVbm9IMWxkR2JuRW5lQ29xUlRnSTRRTzFYT21WemJINUVWb1FzQScpO1xuICAgIChhY2NvdW50IGluc3RhbmNlb2YgTWV0YXRyYWRlckFjY291bnQpLnNob3VsZC5iZS50cnVlKCk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LmNyZWF0ZUFjY291bnQsIG5ld0FjY291bnREYXRhKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuZ2V0QWNjb3VudCwgJ2lkJyk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YXRyYWRlckFjY291bnQjcmVsb2FkfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCByZWxvYWQgTVQgYWNjb3VudCcsIGFzeW5jICgpID0+IHtcbiAgICBnZXRBY2NvdW50U3R1YlxuICAgICAgLm9uRmlyc3RDYWxsKCkucmVzb2x2ZXMoe1xuICAgICAgICBfaWQ6ICdpZCcsXG4gICAgICAgIGxvZ2luOiAnNTAxOTQ5ODgnLFxuICAgICAgICBuYW1lOiAnbXQ1YScsXG4gICAgICAgIHNlcnZlcjogJ0lDTWFya2V0c1NDLURlbW8nLFxuICAgICAgICBwcm92aXNpb25pbmdQcm9maWxlSWQ6ICdmOWNlMWYxMi1lNzIwLTRiOWEtOTQ3Ny1jMmQ0Y2IyNWYwNzYnLFxuICAgICAgICBtYWdpYzogMTIzNDU2LFxuICAgICAgICBhcHBsaWNhdGlvbjogJ01ldGFBcGknLFxuICAgICAgICBjb25uZWN0aW9uU3RhdHVzOiAnRElTQ09OTkVDVEVEJyxcbiAgICAgICAgc3RhdGU6ICdERVBMT1lJTkcnLFxuICAgICAgICB0eXBlOiAnY2xvdWQnXG4gICAgICB9KVxuICAgICAgLm9uU2Vjb25kQ2FsbCgpLnJlc29sdmVzKHtcbiAgICAgICAgX2lkOiAnaWQnLFxuICAgICAgICBsb2dpbjogJzUwMTk0OTg4JyxcbiAgICAgICAgbmFtZTogJ210NWEnLFxuICAgICAgICBzZXJ2ZXI6ICdJQ01hcmtldHNTQy1EZW1vJyxcbiAgICAgICAgcHJvdmlzaW9uaW5nUHJvZmlsZUlkOiAnZjljZTFmMTItZTcyMC00YjlhLTk0NzctYzJkNGNiMjVmMDc2JyxcbiAgICAgICAgbWFnaWM6IDEyMzQ1NixcbiAgICAgICAgYXBwbGljYXRpb246ICdNZXRhQXBpJyxcbiAgICAgICAgY29ubmVjdGlvblN0YXR1czogJ0NPTk5FQ1RFRCcsXG4gICAgICAgIHN0YXRlOiAnREVQTE9ZRUQnLFxuICAgICAgICB0eXBlOiAnY2xvdWQnXG4gICAgICB9KTtcbiAgICBsZXQgYWNjb3VudCA9IGF3YWl0IGFwaS5nZXRBY2NvdW50KCdpZCcpO1xuICAgIGF3YWl0IGFjY291bnQucmVsb2FkKCk7XG4gICAgYWNjb3VudC5jb25uZWN0aW9uU3RhdHVzLnNob3VsZC5lcXVhbCgnQ09OTkVDVEVEJyk7XG4gICAgYWNjb3VudC5zdGF0ZS5zaG91bGQuZXF1YWwoJ0RFUExPWUVEJyk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LmdldEFjY291bnQsICdpZCcpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRUd2ljZShjbGllbnQuZ2V0QWNjb3VudCk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YXRyYWRlckFjY291bnQjcmVtb3ZlfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCByZW1vdmUgTVQgYWNjb3VudCcsIGFzeW5jICgpID0+IHtcbiAgICBzYW5kYm94LnN0dWIoY29ubmVjdGlvblJlZ2lzdHJ5LCAncmVtb3ZlJykucmVzb2x2ZXMoKTtcbiAgICBnZXRBY2NvdW50U3R1YlxuICAgICAgLm9uRmlyc3RDYWxsKCkucmVzb2x2ZXMoe1xuICAgICAgICBfaWQ6ICdpZCcsXG4gICAgICAgIGxvZ2luOiAnNTAxOTQ5ODgnLFxuICAgICAgICBuYW1lOiAnbXQ1YScsXG4gICAgICAgIHNlcnZlcjogJ0lDTWFya2V0c1NDLURlbW8nLFxuICAgICAgICBwcm92aXNpb25pbmdQcm9maWxlSWQ6ICdmOWNlMWYxMi1lNzIwLTRiOWEtOTQ3Ny1jMmQ0Y2IyNWYwNzYnLFxuICAgICAgICBtYWdpYzogMTIzNDU2LFxuICAgICAgICBhcHBsaWNhdGlvbjogJ01ldGFBcGknLFxuICAgICAgICBjb25uZWN0aW9uU3RhdHVzOiAnQ09OTkVDVEVEJyxcbiAgICAgICAgc3RhdGU6ICdERVBMT1lFRCcsXG4gICAgICAgIHR5cGU6ICdjbG91ZCdcbiAgICAgIH0pXG4gICAgICAub25TZWNvbmRDYWxsKCkucmVzb2x2ZXMoe1xuICAgICAgICBfaWQ6ICdpZCcsXG4gICAgICAgIGxvZ2luOiAnNTAxOTQ5ODgnLFxuICAgICAgICBuYW1lOiAnbXQ1YScsXG4gICAgICAgIHNlcnZlcjogJ0lDTWFya2V0c1NDLURlbW8nLFxuICAgICAgICBwcm92aXNpb25pbmdQcm9maWxlSWQ6ICdmOWNlMWYxMi1lNzIwLTRiOWEtOTQ3Ny1jMmQ0Y2IyNWYwNzYnLFxuICAgICAgICBtYWdpYzogMTIzNDU2LFxuICAgICAgICBhcHBsaWNhdGlvbjogJ01ldGFBcGknLFxuICAgICAgICBjb25uZWN0aW9uU3RhdHVzOiAnQ09OTkVDVEVEJyxcbiAgICAgICAgc3RhdGU6ICdERUxFVElORycsXG4gICAgICAgIHR5cGU6ICdjbG91ZCdcbiAgICAgIH0pO1xuICAgIHNhbmRib3guc3R1YihjbGllbnQsICdkZWxldGVBY2NvdW50JykucmVzb2x2ZXMoKTtcbiAgICBzYW5kYm94LnN0dWIoSGlzdG9yeURhdGFiYXNlLnByb3RvdHlwZSwgJ2NsZWFyJykucmV0dXJucygpO1xuICAgIGxldCBhY2NvdW50ID0gYXdhaXQgYXBpLmdldEFjY291bnQoJ2lkJyk7XG4gICAgYXdhaXQgYWNjb3VudC5yZW1vdmUoKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjb25uZWN0aW9uUmVnaXN0cnkucmVtb3ZlLCAnaWQnKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChIaXN0b3J5RGF0YWJhc2UucHJvdG90eXBlLmNsZWFyLCAnaWQnLCAnTWV0YUFwaScpO1xuICAgIGFjY291bnQuc3RhdGUuc2hvdWxkLmVxdWFsKCdERUxFVElORycpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5kZWxldGVBY2NvdW50LCAnaWQnKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuZ2V0QWNjb3VudCwgJ2lkJyk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFR3aWNlKGNsaWVudC5nZXRBY2NvdW50KTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhdHJhZGVyQWNjb3VudCNkZXBsb3l9XG4gICAqL1xuICBpdCgnc2hvdWxkIGRlcGxveSBNVCBhY2NvdW50JywgYXN5bmMgKCkgPT4ge1xuICAgIGdldEFjY291bnRTdHViXG4gICAgICAub25GaXJzdENhbGwoKS5yZXNvbHZlcyh7XG4gICAgICAgIF9pZDogJ2lkJyxcbiAgICAgICAgbG9naW46ICc1MDE5NDk4OCcsXG4gICAgICAgIG5hbWU6ICdtdDVhJyxcbiAgICAgICAgc2VydmVyOiAnSUNNYXJrZXRzU0MtRGVtbycsXG4gICAgICAgIHByb3Zpc2lvbmluZ1Byb2ZpbGVJZDogJ2Y5Y2UxZjEyLWU3MjAtNGI5YS05NDc3LWMyZDRjYjI1ZjA3NicsXG4gICAgICAgIG1hZ2ljOiAxMjM0NTYsXG4gICAgICAgIGFwcGxpY2F0aW9uOiAnTWV0YUFwaScsXG4gICAgICAgIGNvbm5lY3Rpb25TdGF0dXM6ICdESVNDT05ORUNURUQnLFxuICAgICAgICBzdGF0ZTogJ1VOREVQTE9ZRUQnLFxuICAgICAgICB0eXBlOiAnY2xvdWQnXG4gICAgICB9KVxuICAgICAgLm9uU2Vjb25kQ2FsbCgpLnJlc29sdmVzKHtcbiAgICAgICAgX2lkOiAnaWQnLFxuICAgICAgICBsb2dpbjogJzUwMTk0OTg4JyxcbiAgICAgICAgbmFtZTogJ210NWEnLFxuICAgICAgICBzZXJ2ZXI6ICdJQ01hcmtldHNTQy1EZW1vJyxcbiAgICAgICAgcHJvdmlzaW9uaW5nUHJvZmlsZUlkOiAnZjljZTFmMTItZTcyMC00YjlhLTk0NzctYzJkNGNiMjVmMDc2JyxcbiAgICAgICAgbWFnaWM6IDEyMzQ1NixcbiAgICAgICAgYXBwbGljYXRpb246ICdNZXRhQXBpJyxcbiAgICAgICAgY29ubmVjdGlvblN0YXR1czogJ0NPTk5FQ1RFRCcsXG4gICAgICAgIHN0YXRlOiAnREVQTE9ZSU5HJyxcbiAgICAgICAgdHlwZTogJ2Nsb3VkJ1xuICAgICAgfSk7XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ2RlcGxveUFjY291bnQnKS5yZXNvbHZlcygpO1xuICAgIGxldCBhY2NvdW50ID0gYXdhaXQgYXBpLmdldEFjY291bnQoJ2lkJyk7XG4gICAgYXdhaXQgYWNjb3VudC5kZXBsb3koKTtcbiAgICBhY2NvdW50LnN0YXRlLnNob3VsZC5lcXVhbCgnREVQTE9ZSU5HJyk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LmRlcGxveUFjY291bnQsICdpZCcpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXRBY2NvdW50LCAnaWQnKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkVHdpY2UoY2xpZW50LmdldEFjY291bnQpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGF0cmFkZXJBY2NvdW50I3VuZGVwbG95fVxuICAgKi9cbiAgaXQoJ3Nob3VsZCB1bmRlcGxveSBNVCBhY2NvdW50JywgYXN5bmMgKCkgPT4ge1xuICAgIHNhbmRib3guc3R1Yihjb25uZWN0aW9uUmVnaXN0cnksICdyZW1vdmUnKS5yZXNvbHZlcygpO1xuICAgIGdldEFjY291bnRTdHViXG4gICAgICAub25GaXJzdENhbGwoKS5yZXNvbHZlcyh7XG4gICAgICAgIF9pZDogJ2lkJyxcbiAgICAgICAgbG9naW46ICc1MDE5NDk4OCcsXG4gICAgICAgIG5hbWU6ICdtdDVhJyxcbiAgICAgICAgc2VydmVyOiAnSUNNYXJrZXRzU0MtRGVtbycsXG4gICAgICAgIHByb3Zpc2lvbmluZ1Byb2ZpbGVJZDogJ2Y5Y2UxZjEyLWU3MjAtNGI5YS05NDc3LWMyZDRjYjI1ZjA3NicsXG4gICAgICAgIG1hZ2ljOiAxMjM0NTYsXG4gICAgICAgIGFwcGxpY2F0aW9uOiAnTWV0YUFwaScsXG4gICAgICAgIGNvbm5lY3Rpb25TdGF0dXM6ICdESVNDT05ORUNURUQnLFxuICAgICAgICBzdGF0ZTogJ0RFUExPWUVEJyxcbiAgICAgICAgdHlwZTogJ2Nsb3VkJ1xuICAgICAgfSlcbiAgICAgIC5vblNlY29uZENhbGwoKS5yZXNvbHZlcyh7XG4gICAgICAgIF9pZDogJ2lkJyxcbiAgICAgICAgbG9naW46ICc1MDE5NDk4OCcsXG4gICAgICAgIG5hbWU6ICdtdDVhJyxcbiAgICAgICAgc2VydmVyOiAnSUNNYXJrZXRzU0MtRGVtbycsXG4gICAgICAgIHByb3Zpc2lvbmluZ1Byb2ZpbGVJZDogJ2Y5Y2UxZjEyLWU3MjAtNGI5YS05NDc3LWMyZDRjYjI1ZjA3NicsXG4gICAgICAgIG1hZ2ljOiAxMjM0NTYsXG4gICAgICAgIGFwcGxpY2F0aW9uOiAnTWV0YUFwaScsXG4gICAgICAgIGNvbm5lY3Rpb25TdGF0dXM6ICdDT05ORUNURUQnLFxuICAgICAgICBzdGF0ZTogJ1VOREVQTE9ZSU5HJyxcbiAgICAgICAgdHlwZTogJ2Nsb3VkJ1xuICAgICAgfSk7XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3VuZGVwbG95QWNjb3VudCcpLnJlc29sdmVzKCk7XG4gICAgbGV0IGFjY291bnQgPSBhd2FpdCBhcGkuZ2V0QWNjb3VudCgnaWQnKTtcbiAgICBhd2FpdCBhY2NvdW50LnVuZGVwbG95KCk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY29ubmVjdGlvblJlZ2lzdHJ5LnJlbW92ZSwgJ2lkJyk7XG4gICAgYWNjb3VudC5zdGF0ZS5zaG91bGQuZXF1YWwoJ1VOREVQTE9ZSU5HJyk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnVuZGVwbG95QWNjb3VudCwgJ2lkJyk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LmdldEFjY291bnQsICdpZCcpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRUd2ljZShjbGllbnQuZ2V0QWNjb3VudCk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YXRyYWRlckFjY291bnQjcmVkZXBsb3l9XG4gICAqL1xuICBpdCgnc2hvdWxkIHJlZGVwbG95IE1UIGFjY291bnQnLCBhc3luYyAoKSA9PiB7XG4gICAgZ2V0QWNjb3VudFN0dWJcbiAgICAgIC5vbkZpcnN0Q2FsbCgpLnJlc29sdmVzKHtcbiAgICAgICAgX2lkOiAnaWQnLFxuICAgICAgICBsb2dpbjogJzUwMTk0OTg4JyxcbiAgICAgICAgbmFtZTogJ210NWEnLFxuICAgICAgICBzZXJ2ZXI6ICdJQ01hcmtldHNTQy1EZW1vJyxcbiAgICAgICAgcHJvdmlzaW9uaW5nUHJvZmlsZUlkOiAnZjljZTFmMTItZTcyMC00YjlhLTk0NzctYzJkNGNiMjVmMDc2JyxcbiAgICAgICAgbWFnaWM6IDEyMzQ1NixcbiAgICAgICAgYXBwbGljYXRpb246ICdNZXRhQXBpJyxcbiAgICAgICAgY29ubmVjdGlvblN0YXR1czogJ0RJU0NPTk5FQ1RFRCcsXG4gICAgICAgIHN0YXRlOiAnREVQTE9ZRUQnLFxuICAgICAgICB0eXBlOiAnY2xvdWQnXG4gICAgICB9KVxuICAgICAgLm9uU2Vjb25kQ2FsbCgpLnJlc29sdmVzKHtcbiAgICAgICAgX2lkOiAnaWQnLFxuICAgICAgICBsb2dpbjogJzUwMTk0OTg4JyxcbiAgICAgICAgbmFtZTogJ210NWEnLFxuICAgICAgICBzZXJ2ZXI6ICdJQ01hcmtldHNTQy1EZW1vJyxcbiAgICAgICAgcHJvdmlzaW9uaW5nUHJvZmlsZUlkOiAnZjljZTFmMTItZTcyMC00YjlhLTk0NzctYzJkNGNiMjVmMDc2JyxcbiAgICAgICAgbWFnaWM6IDEyMzQ1NixcbiAgICAgICAgYXBwbGljYXRpb246ICdNZXRhQXBpJyxcbiAgICAgICAgY29ubmVjdGlvblN0YXR1czogJ0NPTk5FQ1RFRCcsXG4gICAgICAgIHN0YXRlOiAnVU5ERVBMT1lJTkcnLFxuICAgICAgICB0eXBlOiAnY2xvdWQnXG4gICAgICB9KTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAncmVkZXBsb3lBY2NvdW50JykucmVzb2x2ZXMoKTtcbiAgICBsZXQgYWNjb3VudCA9IGF3YWl0IGFwaS5nZXRBY2NvdW50KCdpZCcpO1xuICAgIGF3YWl0IGFjY291bnQucmVkZXBsb3koKTtcbiAgICBhY2NvdW50LnN0YXRlLnNob3VsZC5lcXVhbCgnVU5ERVBMT1lJTkcnKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQucmVkZXBsb3lBY2NvdW50LCAnaWQnKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuZ2V0QWNjb3VudCwgJ2lkJyk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFR3aWNlKGNsaWVudC5nZXRBY2NvdW50KTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhdHJhZGVyQWNjb3VudCNpbmNyZWFzZVJlbGlhYmlsaXR5fVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBpbmNyZWFzZSBNVCBhY2NvdW50IHJlbGlhYmlsaXR5JywgYXN5bmMgKCkgPT4ge1xuICAgIGdldEFjY291bnRTdHViXG4gICAgICAub25GaXJzdENhbGwoKS5yZXNvbHZlcyh7XG4gICAgICAgIF9pZDogJ2lkJyxcbiAgICAgICAgbG9naW46ICc1MDE5NDk4OCcsXG4gICAgICAgIG5hbWU6ICdtdDVhJyxcbiAgICAgICAgc2VydmVyOiAnSUNNYXJrZXRzU0MtRGVtbycsXG4gICAgICAgIHByb3Zpc2lvbmluZ1Byb2ZpbGVJZDogJ2Y5Y2UxZjEyLWU3MjAtNGI5YS05NDc3LWMyZDRjYjI1ZjA3NicsXG4gICAgICAgIG1hZ2ljOiAxMjM0NTYsXG4gICAgICAgIGFwcGxpY2F0aW9uOiAnTWV0YUFwaScsXG4gICAgICAgIGNvbm5lY3Rpb25TdGF0dXM6ICdESVNDT05ORUNURUQnLFxuICAgICAgICBzdGF0ZTogJ0RFUExPWUVEJyxcbiAgICAgICAgdHlwZTogJ2Nsb3VkJ1xuICAgICAgfSlcbiAgICAgIC5vblNlY29uZENhbGwoKS5yZXNvbHZlcyh7XG4gICAgICAgIF9pZDogJ2lkJyxcbiAgICAgICAgbG9naW46ICc1MDE5NDk4OCcsXG4gICAgICAgIG5hbWU6ICdtdDVhJyxcbiAgICAgICAgc2VydmVyOiAnSUNNYXJrZXRzU0MtRGVtbycsXG4gICAgICAgIHByb3Zpc2lvbmluZ1Byb2ZpbGVJZDogJ2Y5Y2UxZjEyLWU3MjAtNGI5YS05NDc3LWMyZDRjYjI1ZjA3NicsXG4gICAgICAgIG1hZ2ljOiAxMjM0NTYsXG4gICAgICAgIGFwcGxpY2F0aW9uOiAnTWV0YUFwaScsXG4gICAgICAgIGNvbm5lY3Rpb25TdGF0dXM6ICdDT05ORUNURUQnLFxuICAgICAgICBzdGF0ZTogJ1VOREVQTE9ZSU5HJyxcbiAgICAgICAgdHlwZTogJ2Nsb3VkJyxcbiAgICAgICAgcmVsaWFiaWxpdHk6ICdoaWdoJ1xuICAgICAgfSk7XG4gICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ2luY3JlYXNlUmVsaWFiaWxpdHknKS5yZXNvbHZlcygpO1xuICAgIGxldCBhY2NvdW50ID0gYXdhaXQgYXBpLmdldEFjY291bnQoJ2lkJyk7XG4gICAgYXdhaXQgYWNjb3VudC5pbmNyZWFzZVJlbGlhYmlsaXR5KCk7XG4gICAgYWNjb3VudC5yZWxpYWJpbGl0eS5zaG91bGQuZXF1YWwoJ2hpZ2gnKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuaW5jcmVhc2VSZWxpYWJpbGl0eSwgJ2lkJyk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LmdldEFjY291bnQsICdpZCcpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRUd2ljZShjbGllbnQuZ2V0QWNjb3VudCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdNZXRhdHJhZGVyQWNjb3VudC53YWl0RGVwbG95ZWQnLCAoKSA9PiB7XG5cbiAgICAvKipcbiAgICAgKiBAdGVzdCB7TWV0YXRyYWRlckFjY291bnQjd2FpdERlcGxveWVkfVxuICAgICAqL1xuICAgIGl0KCdzaG91bGQgd2FpdCBmb3IgZGVwbG95bWVudCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGxldCBkZXBsb3lpbmdBY2NvdW50ID0ge1xuICAgICAgICBfaWQ6ICdpZCcsXG4gICAgICAgIGxvZ2luOiAnNTAxOTQ5ODgnLFxuICAgICAgICBuYW1lOiAnbXQ1YScsXG4gICAgICAgIHNlcnZlcjogJ0lDTWFya2V0c1NDLURlbW8nLFxuICAgICAgICBwcm92aXNpb25pbmdQcm9maWxlSWQ6ICdmOWNlMWYxMi1lNzIwLTRiOWEtOTQ3Ny1jMmQ0Y2IyNWYwNzYnLFxuICAgICAgICBtYWdpYzogMTIzNDU2LFxuICAgICAgICBhcHBsaWNhdGlvbjogJ01ldGFBcGknLFxuICAgICAgICBjb25uZWN0aW9uU3RhdHVzOiAnRElTQ09OTkVDVEVEJyxcbiAgICAgICAgc3RhdGU6ICdERVBMT1lJTkcnLFxuICAgICAgICB0eXBlOiAnY2xvdWQnXG4gICAgICB9O1xuICAgICAgZ2V0QWNjb3VudFN0dWJcbiAgICAgICAgLm9uRmlyc3RDYWxsKCkucmVzb2x2ZXMoZGVwbG95aW5nQWNjb3VudClcbiAgICAgICAgLm9uU2Vjb25kQ2FsbCgpLnJlc29sdmVzKGRlcGxveWluZ0FjY291bnQpXG4gICAgICAgIC5vblRoaXJkQ2FsbCgpLnJlc29sdmVzKHtcbiAgICAgICAgICBfaWQ6ICdpZCcsXG4gICAgICAgICAgbG9naW46ICc1MDE5NDk4OCcsXG4gICAgICAgICAgbmFtZTogJ210NWEnLFxuICAgICAgICAgIHNlcnZlcjogJ0lDTWFya2V0c1NDLURlbW8nLFxuICAgICAgICAgIHByb3Zpc2lvbmluZ1Byb2ZpbGVJZDogJ2Y5Y2UxZjEyLWU3MjAtNGI5YS05NDc3LWMyZDRjYjI1ZjA3NicsXG4gICAgICAgICAgbWFnaWM6IDEyMzQ1NixcbiAgICAgICAgICBhcHBsaWNhdGlvbjogJ01ldGFBcGknLFxuICAgICAgICAgIGNvbm5lY3Rpb25TdGF0dXM6ICdDT05ORUNURUQnLFxuICAgICAgICAgIHN0YXRlOiAnREVQTE9ZRUQnLFxuICAgICAgICAgIHR5cGU6ICdjbG91ZCdcbiAgICAgICAgfSk7XG4gICAgICBsZXQgYWNjb3VudCA9IGF3YWl0IGFwaS5nZXRBY2NvdW50KCdpZCcpO1xuICAgICAgYXdhaXQgYWNjb3VudC53YWl0RGVwbG95ZWQoMSwgNTApO1xuICAgICAgYWNjb3VudC5zdGF0ZS5zaG91bGQuZXF1YWwoJ0RFUExPWUVEJyk7XG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuZ2V0QWNjb3VudCwgJ2lkJyk7XG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkVGhyaWNlKGNsaWVudC5nZXRBY2NvdW50KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEB0ZXN0IHtNZXRhdHJhZGVyQWNjb3VudCN3YWl0RGVwbG95ZWR9XG4gICAgICovXG4gICAgaXQoJ3Nob3VsZCB0aW1lIG91dCB3YWl0aW5nIGZvciBkZXBsb3ltZW50JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbGV0IGRlcGxveWluZ0FjY291bnQgPSB7XG4gICAgICAgIF9pZDogJ2lkJyxcbiAgICAgICAgbG9naW46ICc1MDE5NDk4OCcsXG4gICAgICAgIG5hbWU6ICdtdDVhJyxcbiAgICAgICAgc2VydmVyOiAnSUNNYXJrZXRzU0MtRGVtbycsXG4gICAgICAgIHByb3Zpc2lvbmluZ1Byb2ZpbGVJZDogJ2Y5Y2UxZjEyLWU3MjAtNGI5YS05NDc3LWMyZDRjYjI1ZjA3NicsXG4gICAgICAgIG1hZ2ljOiAxMjM0NTYsXG4gICAgICAgIGFwcGxpY2F0aW9uOiAnTWV0YUFwaScsXG4gICAgICAgIGNvbm5lY3Rpb25TdGF0dXM6ICdESVNDT05ORUNURUQnLFxuICAgICAgICBzdGF0ZTogJ0RFUExPWUlORycsXG4gICAgICAgIHR5cGU6ICdjbG91ZCdcbiAgICAgIH07XG4gICAgICBnZXRBY2NvdW50U3R1YlxuICAgICAgICAucmVzb2x2ZXMoZGVwbG95aW5nQWNjb3VudCk7XG4gICAgICBsZXQgYWNjb3VudCA9IGF3YWl0IGFwaS5nZXRBY2NvdW50KCdpZCcpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgYWNjb3VudC53YWl0RGVwbG95ZWQoMSwgNTApO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RpbWVvdXRFcnJvciBpcyBleHBlY3RlZCcpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGVyci5uYW1lLnNob3VsZC5lcXVhbCgnVGltZW91dEVycm9yJyk7XG4gICAgICAgIGFjY291bnQuc3RhdGUuc2hvdWxkLmVxdWFsKCdERVBMT1lJTkcnKTtcbiAgICAgIH1cbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXRBY2NvdW50LCAnaWQnKTtcbiAgICB9KTtcblxuICB9KTtcblxuICBkZXNjcmliZSgnTWV0YXRyYWRlckFjY291bnQud2FpdFVuZGVwbG95ZWQnLCAoKSA9PiB7XG5cbiAgICAvKipcbiAgICAgKiBAdGVzdCB7TWV0YXRyYWRlckFjY291bnQjd2FpdFVuZGVwbG95ZWR9XG4gICAgICovXG4gICAgaXQoJ3Nob3VsZCB3YWl0IGZvciB1bmRlcGxveW1lbnQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgdW5kZXBsb3lpbmdBY2NvdW50ID0ge1xuICAgICAgICBfaWQ6ICdpZCcsXG4gICAgICAgIGxvZ2luOiAnNTAxOTQ5ODgnLFxuICAgICAgICBuYW1lOiAnbXQ1YScsXG4gICAgICAgIHNlcnZlcjogJ0lDTWFya2V0c1NDLURlbW8nLFxuICAgICAgICBwcm92aXNpb25pbmdQcm9maWxlSWQ6ICdmOWNlMWYxMi1lNzIwLTRiOWEtOTQ3Ny1jMmQ0Y2IyNWYwNzYnLFxuICAgICAgICBtYWdpYzogMTIzNDU2LFxuICAgICAgICBhcHBsaWNhdGlvbjogJ01ldGFBcGknLFxuICAgICAgICBjb25uZWN0aW9uU3RhdHVzOiAnRElTQ09OTkVDVEVEJyxcbiAgICAgICAgc3RhdGU6ICdVTkRFUExPWUlORycsXG4gICAgICAgIHR5cGU6ICdjbG91ZCdcbiAgICAgIH07XG4gICAgICBnZXRBY2NvdW50U3R1YlxuICAgICAgICAub25GaXJzdENhbGwoKS5yZXNvbHZlcyh1bmRlcGxveWluZ0FjY291bnQpXG4gICAgICAgIC5vblNlY29uZENhbGwoKS5yZXNvbHZlcyh1bmRlcGxveWluZ0FjY291bnQpXG4gICAgICAgIC5vblRoaXJkQ2FsbCgpLnJlc29sdmVzKHtcbiAgICAgICAgICBfaWQ6ICdpZCcsXG4gICAgICAgICAgbG9naW46ICc1MDE5NDk4OCcsXG4gICAgICAgICAgbmFtZTogJ210NWEnLFxuICAgICAgICAgIHNlcnZlcjogJ0lDTWFya2V0c1NDLURlbW8nLFxuICAgICAgICAgIHByb3Zpc2lvbmluZ1Byb2ZpbGVJZDogJ2Y5Y2UxZjEyLWU3MjAtNGI5YS05NDc3LWMyZDRjYjI1ZjA3NicsXG4gICAgICAgICAgbWFnaWM6IDEyMzQ1NixcbiAgICAgICAgICBhcHBsaWNhdGlvbjogJ01ldGFBcGknLFxuICAgICAgICAgIGNvbm5lY3Rpb25TdGF0dXM6ICdDT05ORUNURUQnLFxuICAgICAgICAgIHN0YXRlOiAnVU5ERVBMT1lFRCcsXG4gICAgICAgICAgdHlwZTogJ2Nsb3VkJ1xuICAgICAgICB9KTtcbiAgICAgIGxldCBhY2NvdW50ID0gYXdhaXQgYXBpLmdldEFjY291bnQoJ2lkJyk7XG4gICAgICBhd2FpdCBhY2NvdW50LndhaXRVbmRlcGxveWVkKDEsIDUwKTtcbiAgICAgIGFjY291bnQuc3RhdGUuc2hvdWxkLmVxdWFsKCdVTkRFUExPWUVEJyk7XG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuZ2V0QWNjb3VudCwgJ2lkJyk7XG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkVGhyaWNlKGNsaWVudC5nZXRBY2NvdW50KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEB0ZXN0IHtNZXRhdHJhZGVyQWNjb3VudCN3YWl0VW5kZXBsb3llZH1cbiAgICAgKi9cbiAgICBpdCgnc2hvdWxkIHRpbWUgb3V0IHdhaXRpbmcgZm9yIHVuZGVwbG95bWVudCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGxldCB1bmRlcGxveWluZ0FjY291bnQgPSB7XG4gICAgICAgIF9pZDogJ2lkJyxcbiAgICAgICAgbG9naW46ICc1MDE5NDk4OCcsXG4gICAgICAgIG5hbWU6ICdtdDVhJyxcbiAgICAgICAgc2VydmVyOiAnSUNNYXJrZXRzU0MtRGVtbycsXG4gICAgICAgIHByb3Zpc2lvbmluZ1Byb2ZpbGVJZDogJ2Y5Y2UxZjEyLWU3MjAtNGI5YS05NDc3LWMyZDRjYjI1ZjA3NicsXG4gICAgICAgIG1hZ2ljOiAxMjM0NTYsXG4gICAgICAgIGFwcGxpY2F0aW9uOiAnTWV0YUFwaScsXG4gICAgICAgIGNvbm5lY3Rpb25TdGF0dXM6ICdESVNDT05ORUNURUQnLFxuICAgICAgICBzdGF0ZTogJ1VOREVQTE9ZSU5HJyxcbiAgICAgICAgdHlwZTogJ2Nsb3VkJ1xuICAgICAgfTtcbiAgICAgIGdldEFjY291bnRTdHViXG4gICAgICAgIC5yZXNvbHZlcyh1bmRlcGxveWluZ0FjY291bnQpO1xuICAgICAgbGV0IGFjY291bnQgPSBhd2FpdCBhcGkuZ2V0QWNjb3VudCgnaWQnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGFjY291bnQud2FpdFVuZGVwbG95ZWQoMSwgNTApO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RpbWVvdXRFcnJvciBpcyBleHBlY3RlZCcpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGVyci5uYW1lLnNob3VsZC5lcXVhbCgnVGltZW91dEVycm9yJyk7XG4gICAgICAgIGFjY291bnQuc3RhdGUuc2hvdWxkLmVxdWFsKCdVTkRFUExPWUlORycpO1xuICAgICAgfVxuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LmdldEFjY291bnQsICdpZCcpO1xuICAgIH0pO1xuXG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdNZXRhdHJhZGVyQWNjb3VudC53YWl0UmVtb3ZlZCcsICgpID0+IHtcblxuICAgIC8qKlxuICAgICAqIEB0ZXN0IHtNZXRhdHJhZGVyQWNjb3VudCN3YWl0UmVtb3ZlZH1cbiAgICAgKi9cbiAgICBpdCgnc2hvdWxkIHdhaXQgdW50aWwgcmVtb3ZlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGxldCBkZWxldGluZ0FjY291bnQgPSB7XG4gICAgICAgIF9pZDogJ2lkJyxcbiAgICAgICAgbG9naW46ICc1MDE5NDk4OCcsXG4gICAgICAgIG5hbWU6ICdtdDVhJyxcbiAgICAgICAgc2VydmVyOiAnSUNNYXJrZXRzU0MtRGVtbycsXG4gICAgICAgIHByb3Zpc2lvbmluZ1Byb2ZpbGVJZDogJ2Y5Y2UxZjEyLWU3MjAtNGI5YS05NDc3LWMyZDRjYjI1ZjA3NicsXG4gICAgICAgIG1hZ2ljOiAxMjM0NTYsXG4gICAgICAgIGFwcGxpY2F0aW9uOiAnTWV0YUFwaScsXG4gICAgICAgIGNvbm5lY3Rpb25TdGF0dXM6ICdESVNDT05ORUNURUQnLFxuICAgICAgICBzdGF0ZTogJ0RFTEVUSU5HJyxcbiAgICAgICAgdHlwZTogJ2Nsb3VkJ1xuICAgICAgfTtcbiAgICAgIGdldEFjY291bnRTdHViXG4gICAgICAgIC5vbkZpcnN0Q2FsbCgpLnJlc29sdmVzKGRlbGV0aW5nQWNjb3VudClcbiAgICAgICAgLm9uU2Vjb25kQ2FsbCgpLnJlc29sdmVzKGRlbGV0aW5nQWNjb3VudClcbiAgICAgICAgLm9uVGhpcmRDYWxsKCkudGhyb3dzKG5ldyBOb3RGb3VuZEVycm9yKCkpO1xuICAgICAgbGV0IGFjY291bnQgPSBhd2FpdCBhcGkuZ2V0QWNjb3VudCgnaWQnKTtcbiAgICAgIGF3YWl0IGFjY291bnQud2FpdFJlbW92ZWQoMSwgNTApO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LmdldEFjY291bnQsICdpZCcpO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFRocmljZShjbGllbnQuZ2V0QWNjb3VudCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAdGVzdCB7TWV0YXRyYWRlckFjY291bnQjd2FpdFJlbW92ZWR9XG4gICAgICovXG4gICAgaXQoJ3Nob3VsZCB0aW1lIG91dCB3YWl0aW5nIHVudGlsIHJlbW92ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgZGVsZXRpbmdBY2NvdW50ID0ge1xuICAgICAgICBfaWQ6ICdpZCcsXG4gICAgICAgIGxvZ2luOiAnNTAxOTQ5ODgnLFxuICAgICAgICBuYW1lOiAnbXQ1YScsXG4gICAgICAgIHNlcnZlcjogJ0lDTWFya2V0c1NDLURlbW8nLFxuICAgICAgICBwcm92aXNpb25pbmdQcm9maWxlSWQ6ICdmOWNlMWYxMi1lNzIwLTRiOWEtOTQ3Ny1jMmQ0Y2IyNWYwNzYnLFxuICAgICAgICBtYWdpYzogMTIzNDU2LFxuICAgICAgICBhcHBsaWNhdGlvbjogJ01ldGFBcGknLFxuICAgICAgICBjb25uZWN0aW9uU3RhdHVzOiAnRElTQ09OTkVDVEVEJyxcbiAgICAgICAgc3RhdGU6ICdERUxFVElORycsXG4gICAgICAgIHR5cGU6ICdjbG91ZCdcbiAgICAgIH07XG4gICAgICBnZXRBY2NvdW50U3R1YlxuICAgICAgICAucmVzb2x2ZXMoZGVsZXRpbmdBY2NvdW50KTtcbiAgICAgIGxldCBhY2NvdW50ID0gYXdhaXQgYXBpLmdldEFjY291bnQoJ2lkJyk7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBhY2NvdW50LndhaXRSZW1vdmVkKDEsIDUwKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaW1lb3V0RXJyb3IgaXMgZXhwZWN0ZWQnKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBlcnIubmFtZS5zaG91bGQuZXF1YWwoJ1RpbWVvdXRFcnJvcicpO1xuICAgICAgfVxuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LmdldEFjY291bnQsICdpZCcpO1xuICAgIH0pO1xuXG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdNZXRhdHJhZGVyQWNjb3VudC53YWl0Q29ubmVjdGVkJywgKCkgPT4ge1xuXG4gICAgLyoqXG4gICAgICogQHRlc3Qge01ldGF0cmFkZXJBY2NvdW50I3dhaXRDb25uZWN0ZWR9XG4gICAgICovXG4gICAgaXQoJ3Nob3VsZCB3YWl0IHVudGlsIGJyb2tlciBjb25uZWN0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbGV0IGRpc2Nvbm5lY3RlZEFjY291bnQgPSB7XG4gICAgICAgIF9pZDogJ2lkJyxcbiAgICAgICAgbG9naW46ICc1MDE5NDk4OCcsXG4gICAgICAgIG5hbWU6ICdtdDVhJyxcbiAgICAgICAgc2VydmVyOiAnSUNNYXJrZXRzU0MtRGVtbycsXG4gICAgICAgIHByb3Zpc2lvbmluZ1Byb2ZpbGVJZDogJ2Y5Y2UxZjEyLWU3MjAtNGI5YS05NDc3LWMyZDRjYjI1ZjA3NicsXG4gICAgICAgIG1hZ2ljOiAxMjM0NTYsXG4gICAgICAgIGFwcGxpY2F0aW9uOiAnTWV0YUFwaScsXG4gICAgICAgIGNvbm5lY3Rpb25TdGF0dXM6ICdESVNDT05ORUNURUQnLFxuICAgICAgICBzdGF0ZTogJ0RFUExPWUVEJyxcbiAgICAgICAgdHlwZTogJ2Nsb3VkJ1xuICAgICAgfTtcbiAgICAgIGdldEFjY291bnRTdHViXG4gICAgICAgIC5vbkZpcnN0Q2FsbCgpLnJlc29sdmVzKGRpc2Nvbm5lY3RlZEFjY291bnQpXG4gICAgICAgIC5vblNlY29uZENhbGwoKS5yZXNvbHZlcyhkaXNjb25uZWN0ZWRBY2NvdW50KVxuICAgICAgICAub25UaGlyZENhbGwoKS5yZXNvbHZlcyh7XG4gICAgICAgICAgX2lkOiAnaWQnLFxuICAgICAgICAgIGxvZ2luOiAnNTAxOTQ5ODgnLFxuICAgICAgICAgIG5hbWU6ICdtdDVhJyxcbiAgICAgICAgICBzZXJ2ZXI6ICdJQ01hcmtldHNTQy1EZW1vJyxcbiAgICAgICAgICBwcm92aXNpb25pbmdQcm9maWxlSWQ6ICdmOWNlMWYxMi1lNzIwLTRiOWEtOTQ3Ny1jMmQ0Y2IyNWYwNzYnLFxuICAgICAgICAgIG1hZ2ljOiAxMjM0NTYsXG4gICAgICAgICAgYXBwbGljYXRpb246ICdNZXRhQXBpJyxcbiAgICAgICAgICBjb25uZWN0aW9uU3RhdHVzOiAnQ09OTkVDVEVEJyxcbiAgICAgICAgICBzdGF0ZTogJ0RFUExPWUVEJyxcbiAgICAgICAgICB0eXBlOiAnY2xvdWQnXG4gICAgICAgIH0pO1xuICAgICAgbGV0IGFjY291bnQgPSBhd2FpdCBhcGkuZ2V0QWNjb3VudCgnaWQnKTtcbiAgICAgIGF3YWl0IGFjY291bnQud2FpdENvbm5lY3RlZCgxLCA1MCk7XG4gICAgICBhY2NvdW50LmNvbm5lY3Rpb25TdGF0dXMuc2hvdWxkLmVxdWFsKCdDT05ORUNURUQnKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXRBY2NvdW50LCAnaWQnKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRUaHJpY2UoY2xpZW50LmdldEFjY291bnQpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHRlc3Qge01ldGF0cmFkZXJBY2NvdW50I3dhaXRDb25uZWN0ZWR9XG4gICAgICovXG4gICAgaXQoJ3Nob3VsZCB0aW1lIG91dCB3YWl0aW5nIGZvciBicm9rZXIgY29ubmVjdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIGxldCBkaXNjb25uZWN0ZWRBY2NvdW50ID0ge1xuICAgICAgICBfaWQ6ICdpZCcsXG4gICAgICAgIGxvZ2luOiAnNTAxOTQ5ODgnLFxuICAgICAgICBuYW1lOiAnbXQ1YScsXG4gICAgICAgIHNlcnZlcjogJ0lDTWFya2V0c1NDLURlbW8nLFxuICAgICAgICBwcm92aXNpb25pbmdQcm9maWxlSWQ6ICdmOWNlMWYxMi1lNzIwLTRiOWEtOTQ3Ny1jMmQ0Y2IyNWYwNzYnLFxuICAgICAgICBtYWdpYzogMTIzNDU2LFxuICAgICAgICBhcHBsaWNhdGlvbjogJ01ldGFBcGknLFxuICAgICAgICBjb25uZWN0aW9uU3RhdHVzOiAnRElTQ09OTkVDVEVEJyxcbiAgICAgICAgc3RhdGU6ICdERVBMT1lFRCcsXG4gICAgICAgIHR5cGU6ICdjbG91ZCdcbiAgICAgIH07XG4gICAgICBnZXRBY2NvdW50U3R1YlxuICAgICAgICAucmVzb2x2ZXMoZGlzY29ubmVjdGVkQWNjb3VudCk7XG4gICAgICBsZXQgYWNjb3VudCA9IGF3YWl0IGFwaS5nZXRBY2NvdW50KCdpZCcpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgYWNjb3VudC53YWl0Q29ubmVjdGVkKDEsIDUwKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaW1lb3V0RXJyb3IgaXMgZXhwZWN0ZWQnKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBlcnIubmFtZS5zaG91bGQuZXF1YWwoJ1RpbWVvdXRFcnJvcicpO1xuICAgICAgICBhY2NvdW50LmNvbm5lY3Rpb25TdGF0dXMuc2hvdWxkLmVxdWFsKCdESVNDT05ORUNURUQnKTtcbiAgICAgIH1cbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXRBY2NvdW50LCAnaWQnKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEB0ZXN0IHtNZXRhdHJhZGVyQWNjb3VudCN3YWl0Q29ubmVjdGVkfVxuICAgICAqL1xuICAgIGl0KCdzaG91bGQgcGFzcyBmb3IgcHJpbWFyeSBhY2NvdW50IGlmIHJlcGxpY2EgaXMgY29ubmVjdGVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbGV0IGRpc2Nvbm5lY3RlZEFjY291bnQgPSB7XG4gICAgICAgIF9pZDogJ2lkJyxcbiAgICAgICAgbG9naW46ICc1MDE5NDk4OCcsXG4gICAgICAgIG5hbWU6ICdtdDVhJyxcbiAgICAgICAgc2VydmVyOiAnSUNNYXJrZXRzU0MtRGVtbycsXG4gICAgICAgIHByb3Zpc2lvbmluZ1Byb2ZpbGVJZDogJ2Y5Y2UxZjEyLWU3MjAtNGI5YS05NDc3LWMyZDRjYjI1ZjA3NicsXG4gICAgICAgIG1hZ2ljOiAxMjM0NTYsXG4gICAgICAgIGFwcGxpY2F0aW9uOiAnTWV0YUFwaScsXG4gICAgICAgIGNvbm5lY3Rpb25TdGF0dXM6ICdESVNDT05ORUNURUQnLFxuICAgICAgICBzdGF0ZTogJ1VOREVQTE9ZRUQnLFxuICAgICAgICB0eXBlOiAnY2xvdWQnLFxuICAgICAgICBhY2NvdW50UmVwbGljYXM6IFt7XG4gICAgICAgICAgX2lkOiAnaWRSZXBsaWNhJyxcbiAgICAgICAgICBzdGF0ZTogJ0RFUExPWUVEJyxcbiAgICAgICAgICBtYWdpYzogMCxcbiAgICAgICAgICBjb25uZWN0aW9uU3RhdHVzOiAnRElTQ09OTkVDVEVEJyxcbiAgICAgICAgICBzeW1ib2w6ICdFVVJVU0QnLFxuICAgICAgICAgIHJlbGlhYmlsaXR5OiAncmVndWxhcicsXG4gICAgICAgICAgcmVnaW9uOiAnbG9uZG9uJ1xuICAgICAgICB9XVxuICAgICAgfTtcbiAgICAgIGdldEFjY291bnRTdHViLnJlc29sdmVzKGRpc2Nvbm5lY3RlZEFjY291bnQpLm9uRmlyc3RDYWxsKCkucmVzb2x2ZXMoZGlzY29ubmVjdGVkQWNjb3VudClcbiAgICAgICAgLm9uU2Vjb25kQ2FsbCgpLnJlc29sdmVzKGRpc2Nvbm5lY3RlZEFjY291bnQpXG4gICAgICAgIC5vblRoaXJkQ2FsbCgpLnJlc29sdmVzKHtcbiAgICAgICAgICBfaWQ6ICdpZCcsXG4gICAgICAgICAgbG9naW46ICc1MDE5NDk4OCcsXG4gICAgICAgICAgbmFtZTogJ210NWEnLFxuICAgICAgICAgIHNlcnZlcjogJ0lDTWFya2V0c1NDLURlbW8nLFxuICAgICAgICAgIHByb3Zpc2lvbmluZ1Byb2ZpbGVJZDogJ2Y5Y2UxZjEyLWU3MjAtNGI5YS05NDc3LWMyZDRjYjI1ZjA3NicsXG4gICAgICAgICAgbWFnaWM6IDEyMzQ1NixcbiAgICAgICAgICBhcHBsaWNhdGlvbjogJ01ldGFBcGknLFxuICAgICAgICAgIGNvbm5lY3Rpb25TdGF0dXM6ICdESVNDT05ORUNURUQnLFxuICAgICAgICAgIHN0YXRlOiAnVU5ERVBMT1lFRCcsXG4gICAgICAgICAgdHlwZTogJ2Nsb3VkJyxcbiAgICAgICAgICBhY2NvdW50UmVwbGljYXM6IFt7XG4gICAgICAgICAgICBfaWQ6ICdpZFJlcGxpY2EnLFxuICAgICAgICAgICAgc3RhdGU6ICdERVBMT1lFRCcsXG4gICAgICAgICAgICBtYWdpYzogMCxcbiAgICAgICAgICAgIGNvbm5lY3Rpb25TdGF0dXM6ICdDT05ORUNURUQnLFxuICAgICAgICAgICAgc3ltYm9sOiAnRVVSVVNEJyxcbiAgICAgICAgICAgIHJlbGlhYmlsaXR5OiAncmVndWxhcicsXG4gICAgICAgICAgICByZWdpb246ICdsb25kb24nXG4gICAgICAgICAgfV1cbiAgICAgICAgfSk7XG4gICAgICBsZXQgYWNjb3VudCA9IGF3YWl0IGFwaS5nZXRBY2NvdW50KCdpZCcpO1xuICAgICAgYXdhaXQgYWNjb3VudC53YWl0Q29ubmVjdGVkKDEsIDUwKTtcbiAgICAgIGNvbnN0IHJlcGxpY2EgPSBhY2NvdW50LnJlcGxpY2FzWzBdO1xuICAgICAgcmVwbGljYS5jb25uZWN0aW9uU3RhdHVzLnNob3VsZC5lcXVhbCgnQ09OTkVDVEVEJyk7XG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuZ2V0QWNjb3VudCwgJ2lkJyk7XG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkVGhyaWNlKGNsaWVudC5nZXRBY2NvdW50KTtcbiAgICB9KTtcblxuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGF0cmFkZXJBY2NvdW50I2Nvbm5lY3R9XG4gICAqL1xuICBpdCgnc2hvdWxkIGNvbm5lY3QgdG8gYW4gTVQgdGVybWluYWwnLCBhc3luYyAoKSA9PiB7XG4gICAgc2FuZGJveC5zdHViKG1ldGFBcGlXZWJzb2NrZXRDbGllbnQsICdhZGRTeW5jaHJvbml6YXRpb25MaXN0ZW5lcicpLnJldHVybnMoKTtcbiAgICBzYW5kYm94LnN0dWIobWV0YUFwaVdlYnNvY2tldENsaWVudCwgJ3N1YnNjcmliZScpLnJlc29sdmVzKCk7XG4gICAgZ2V0QWNjb3VudFN0dWIucmVzb2x2ZXMoe19pZDogJ2lkJ30pO1xuICAgIGxldCBhY2NvdW50ID0gYXdhaXQgYXBpLmdldEFjY291bnQoKTtcbiAgICBsZXQgc3RvcmFnZSA9IHtcbiAgICAgIGxhc3RIaXN0b3J5T3JkZXJUaW1lOiAoKSA9PiBuZXcgRGF0ZSgnMjAyMC0wMS0wMVQwMDowMDowMC4wMDBaJyksXG4gICAgICBsYXN0RGVhbFRpbWU6ICgpID0+IG5ldyBEYXRlKCcyMDIwLTAxLTAyVDAwOjAwOjAwLjAwMFonKSxcbiAgICAgIGxvYWREYXRhRnJvbURpc2s6ICgpID0+ICh7ZGVhbHM6IFtdLCBoaXN0b3J5T3JkZXJzOiBbXX0pXG4gICAgfTtcbiAgICBzYW5kYm94LnNweShjb25uZWN0aW9uUmVnaXN0cnksICdjb25uZWN0Jyk7XG4gICAgbGV0IGNvbm5lY3Rpb24gPSBhY2NvdW50LmdldFN0cmVhbWluZ0Nvbm5lY3Rpb24oc3RvcmFnZSk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY29ubmVjdGlvblJlZ2lzdHJ5LmNvbm5lY3QsIGFjY291bnQsIHN0b3JhZ2UpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGF0cmFkZXJBY2NvdW50I2dldFN0cmVhbWluZ0Nvbm5lY3Rpb259XG4gICAqL1xuICBpdCgnc2hvdWxkIGNvbm5lY3QgdG8gYW4gTVQgdGVybWluYWwgaWYgaW4gc3BlY2lmaWVkIHJlZ2lvbicsIGFzeW5jICgpID0+IHtcbiAgICBzYW5kYm94LnN0dWIobWV0YUFwaVdlYnNvY2tldENsaWVudCwgJ2FkZFN5bmNocm9uaXphdGlvbkxpc3RlbmVyJykucmV0dXJucygpO1xuICAgIHNhbmRib3guc3R1YihtZXRhQXBpV2Vic29ja2V0Q2xpZW50LCAnc3Vic2NyaWJlJykucmVzb2x2ZXMoKTtcbiAgICBtZXRhQXBpV2Vic29ja2V0Q2xpZW50LnJlZ2lvbiA9ICd2aW50LWhpbGwnO1xuICAgIGdldEFjY291bnRTdHViLnJlc29sdmVzKHtfaWQ6ICdpZCcsIHJlZ2lvbjogJ3ZpbnQtaGlsbCd9KTtcbiAgICBsZXQgYWNjb3VudCA9IGF3YWl0IGFwaS5nZXRBY2NvdW50KCk7XG4gICAgbGV0IHN0b3JhZ2UgPSB7XG4gICAgICBsYXN0SGlzdG9yeU9yZGVyVGltZTogKCkgPT4gbmV3IERhdGUoJzIwMjAtMDEtMDFUMDA6MDA6MDAuMDAwWicpLFxuICAgICAgbGFzdERlYWxUaW1lOiAoKSA9PiBuZXcgRGF0ZSgnMjAyMC0wMS0wMlQwMDowMDowMC4wMDBaJyksXG4gICAgICBsb2FkRGF0YUZyb21EaXNrOiAoKSA9PiAoe2RlYWxzOiBbXSwgaGlzdG9yeU9yZGVyczogW119KVxuICAgIH07XG4gICAgc2FuZGJveC5zcHkoY29ubmVjdGlvblJlZ2lzdHJ5LCAnY29ubmVjdCcpO1xuICAgIGxldCBjb25uZWN0aW9uID0gYWNjb3VudC5nZXRTdHJlYW1pbmdDb25uZWN0aW9uKHN0b3JhZ2UpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNvbm5lY3Rpb25SZWdpc3RyeS5jb25uZWN0LCBhY2NvdW50LCBzdG9yYWdlKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhdHJhZGVyQWNjb3VudCNnZXRTdHJlYW1pbmdDb25uZWN0aW9ufVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBub3QgY29ubmVjdCB0byBhbiBNVCB0ZXJtaW5hbCBpZiBpbiBkaWZmZXJlbnQgcmVnaW9uJywgYXN5bmMgKCkgPT4ge1xuICAgIHNhbmRib3guc3R1YihtZXRhQXBpV2Vic29ja2V0Q2xpZW50LCAnYWRkU3luY2hyb25pemF0aW9uTGlzdGVuZXInKS5yZXR1cm5zKCk7XG4gICAgc2FuZGJveC5zdHViKG1ldGFBcGlXZWJzb2NrZXRDbGllbnQsICdzdWJzY3JpYmUnKS5yZXNvbHZlcygpO1xuICAgIG1ldGFBcGlXZWJzb2NrZXRDbGllbnQucmVnaW9uID0gJ3ZpbnQtaGlsbCc7XG4gICAgZ2V0QWNjb3VudFN0dWIucmVzb2x2ZXMoe19pZDogJ2lkJywgcmVnaW9uOiAnbmV3LXlvcmsnfSk7XG4gICAgbGV0IGFjY291bnQgPSBhd2FpdCBhcGkuZ2V0QWNjb3VudCgpO1xuICAgIGxldCBzdG9yYWdlID0ge1xuICAgICAgbGFzdEhpc3RvcnlPcmRlclRpbWU6ICgpID0+IG5ldyBEYXRlKCcyMDIwLTAxLTAxVDAwOjAwOjAwLjAwMFonKSxcbiAgICAgIGxhc3REZWFsVGltZTogKCkgPT4gbmV3IERhdGUoJzIwMjAtMDEtMDJUMDA6MDA6MDAuMDAwWicpLFxuICAgICAgbG9hZERhdGFGcm9tRGlzazogKCkgPT4gKHtkZWFsczogW10sIGhpc3RvcnlPcmRlcnM6IFtdfSlcbiAgICB9O1xuICAgIHRyeSB7XG4gICAgICBsZXQgY29ubmVjdGlvbiA9IGFjY291bnQuZ2V0U3RyZWFtaW5nQ29ubmVjdGlvbihzdG9yYWdlKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVmFsaWRhdGlvbiBlcnJvciBleHBlY3RlZCcpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBlcnJvci5tZXNzYWdlLnNob3VsZC5lcXVhbCgnQWNjb3VudCBpZCBpcyBub3Qgb24gc3BlY2lmaWVkIHJlZ2lvbiB2aW50LWhpbGwnKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YXRyYWRlckFjY291bnQjZ2V0UlBDQ29ubmVjdGlvbn1cbiAgICovXG4gIGl0KCdzaG91bGQgY3JlYXRlIFJQQyBjb25uZWN0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgIHNhbmRib3guc3R1YihtZXRhQXBpV2Vic29ja2V0Q2xpZW50LCAnYWRkU3luY2hyb25pemF0aW9uTGlzdGVuZXInKS5yZXR1cm5zKCk7XG4gICAgc2FuZGJveC5zdHViKG1ldGFBcGlXZWJzb2NrZXRDbGllbnQsICdzdWJzY3JpYmUnKS5yZXNvbHZlcygpO1xuICAgIG1ldGFBcGlXZWJzb2NrZXRDbGllbnQucmVnaW9uID0gJ3ZpbnQtaGlsbCc7XG4gICAgZ2V0QWNjb3VudFN0dWIucmVzb2x2ZXMoe19pZDogJ2lkJywgcmVnaW9uOiAndmludC1oaWxsJ30pO1xuICAgIGxldCBhY2NvdW50ID0gYXdhaXQgYXBpLmdldEFjY291bnQoKTtcbiAgICBzYW5kYm94LnNweShjb25uZWN0aW9uUmVnaXN0cnksICdjb25uZWN0Jyk7XG4gICAgYWNjb3VudC5nZXRSUENDb25uZWN0aW9uKCk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YXRyYWRlckFjY291bnQjZ2V0UlBDQ29ubmVjdGlvbn1cbiAgICovXG4gIGl0KCdzaG91bGQgY3JlYXRlIFJQQyBjb25uZWN0aW9uIGlmIGluIHNwZWNpZmllZCByZWdpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgc2FuZGJveC5zdHViKG1ldGFBcGlXZWJzb2NrZXRDbGllbnQsICdhZGRTeW5jaHJvbml6YXRpb25MaXN0ZW5lcicpLnJldHVybnMoKTtcbiAgICBzYW5kYm94LnN0dWIobWV0YUFwaVdlYnNvY2tldENsaWVudCwgJ3N1YnNjcmliZScpLnJlc29sdmVzKCk7XG4gICAgbWV0YUFwaVdlYnNvY2tldENsaWVudC5yZWdpb24gPSAndmludC1oaWxsJztcbiAgICBnZXRBY2NvdW50U3R1Yi5yZXNvbHZlcyh7X2lkOiAnaWQnLCByZWdpb246ICd2aW50LWhpbGwnfSk7XG4gICAgbGV0IGFjY291bnQgPSBhd2FpdCBhcGkuZ2V0QWNjb3VudCgpO1xuICAgIHNhbmRib3guc3B5KGNvbm5lY3Rpb25SZWdpc3RyeSwgJ2Nvbm5lY3QnKTtcbiAgICBhY2NvdW50LmdldFJQQ0Nvbm5lY3Rpb24oKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhdHJhZGVyQWNjb3VudCNnZXRSUENDb25uZWN0aW9ufVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBub3QgY3JlYXRlIFJQQyBjb25uZWN0aW9uIGlmIGluIGRpZmZlcmVudCByZWdpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgc2FuZGJveC5zdHViKG1ldGFBcGlXZWJzb2NrZXRDbGllbnQsICdhZGRTeW5jaHJvbml6YXRpb25MaXN0ZW5lcicpLnJldHVybnMoKTtcbiAgICBzYW5kYm94LnN0dWIobWV0YUFwaVdlYnNvY2tldENsaWVudCwgJ3N1YnNjcmliZScpLnJlc29sdmVzKCk7XG4gICAgbWV0YUFwaVdlYnNvY2tldENsaWVudC5yZWdpb24gPSAndmludC1oaWxsJztcbiAgICBnZXRBY2NvdW50U3R1Yi5yZXNvbHZlcyh7X2lkOiAnaWQnLCByZWdpb246ICduZXcteW9yayd9KTtcbiAgICBsZXQgYWNjb3VudCA9IGF3YWl0IGFwaS5nZXRBY2NvdW50KCk7XG4gICAgc2FuZGJveC5zcHkoY29ubmVjdGlvblJlZ2lzdHJ5LCAnY29ubmVjdCcpO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBhY2NvdW50LmdldFJQQ0Nvbm5lY3Rpb24oKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVmFsaWRhdGlvbiBlcnJvciBleHBlY3RlZCcpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBlcnJvci5tZXNzYWdlLnNob3VsZC5lcXVhbCgnQWNjb3VudCBpZCBpcyBub3Qgb24gc3BlY2lmaWVkIHJlZ2lvbiB2aW50LWhpbGwnKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YXRyYWRlckFjY291bnQjdXBkYXRlfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCB1cGRhdGUgTVQgYWNjb3VudCcsIGFzeW5jICgpID0+IHtcbiAgICBnZXRBY2NvdW50U3R1YlxuICAgICAgLm9uRmlyc3RDYWxsKClcbiAgICAgIC5yZXNvbHZlcyh7XG4gICAgICAgIF9pZDogJ2lkJyxcbiAgICAgICAgbG9naW46ICc1MDE5NDk4OCcsXG4gICAgICAgIG5hbWU6ICdtdDVhJyxcbiAgICAgICAgc2VydmVyOiAnSUNNYXJrZXRzU0MtRGVtbycsXG4gICAgICAgIHByb3Zpc2lvbmluZ1Byb2ZpbGVJZDogJ2Y5Y2UxZjEyLWU3MjAtNGI5YS05NDc3LWMyZDRjYjI1ZjA3NicsXG4gICAgICAgIG1hZ2ljOiAxMjM0NTYsXG4gICAgICAgIGFwcGxpY2F0aW9uOiAnTWV0YUFwaScsXG4gICAgICAgIGNvbm5lY3Rpb25TdGF0dXM6ICdDT05ORUNURUQnLFxuICAgICAgICBzdGF0ZTogJ0RFUExPWUVEJyxcbiAgICAgICAgdHlwZTogJ2Nsb3VkJ1xuICAgICAgfSlcbiAgICAgIC5vblNlY29uZENhbGwoKVxuICAgICAgLnJlc29sdmVzKHtcbiAgICAgICAgX2lkOiAnaWQnLFxuICAgICAgICBsb2dpbjogJzUwMTk0OTg4JyxcbiAgICAgICAgbmFtZTogJ210NWFfXycsXG4gICAgICAgIHNlcnZlcjogJ090aGVyTWFya2V0cy1EZW1vJyxcbiAgICAgICAgcHJvdmlzaW9uaW5nUHJvZmlsZUlkOiAnZjljZTFmMTItZTcyMC00YjlhLTk0NzctYzJkNGNiMjVmMDc2JyxcbiAgICAgICAgbWFnaWM6IDEyMzQ1NixcbiAgICAgICAgYXBwbGljYXRpb246ICdNZXRhQXBpJyxcbiAgICAgICAgY29ubmVjdGlvblN0YXR1czogJ0NPTk5FQ1RFRCcsXG4gICAgICAgIHN0YXRlOiAnREVQTE9ZRUQnLFxuICAgICAgICB0eXBlOiAnY2xvdWQnXG4gICAgICB9KTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAndXBkYXRlQWNjb3VudCcpLnJlc29sdmVzKCk7XG4gICAgbGV0IGFjY291bnQgPSBhd2FpdCBhcGkuZ2V0QWNjb3VudCgnaWQnKTtcbiAgICBhd2FpdCBhY2NvdW50LnVwZGF0ZSh7XG4gICAgICBuYW1lOiAnbXQ1YV9fJyxcbiAgICAgIHBhc3N3b3JkOiAnbW9yZVNlY3VyZVBhc3MnLFxuICAgICAgc2VydmVyOiAnT3RoZXJNYXJrZXRzLURlbW8nXG4gICAgfSk7XG4gICAgYWNjb3VudC5uYW1lLnNob3VsZC5lcXVhbCgnbXQ1YV9fJyk7XG4gICAgYWNjb3VudC5zZXJ2ZXIuc2hvdWxkLmVxdWFsKCdPdGhlck1hcmtldHMtRGVtbycpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC51cGRhdGVBY2NvdW50LCAnaWQnLCB7XG4gICAgICBuYW1lOiAnbXQ1YV9fJyxcbiAgICAgIHBhc3N3b3JkOiAnbW9yZVNlY3VyZVBhc3MnLFxuICAgICAgc2VydmVyOiAnT3RoZXJNYXJrZXRzLURlbW8nXG4gICAgfSk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LmdldEFjY291bnQsICdpZCcpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRUd2ljZShjbGllbnQuZ2V0QWNjb3VudCk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YXRyYWRlckFjY291bnQjZ2V0RXhwZXJ0QWR2aXNvcnN9XG4gICAqL1xuICBpdCgnc2hvdWxkIHJldHJpZXZlIGV4cGVydCBhZHZpc29ycycsIGFzeW5jICgpID0+IHtcbiAgICBnZXRBY2NvdW50U3R1Yi5yZXNvbHZlcyh7X2lkOiAnaWQnLCB2ZXJzaW9uOiA0LCB0eXBlOiAnY2xvdWQtZzEnfSk7XG4gICAgc2FuZGJveC5zdHViKGVhQ2xpZW50LCAnZ2V0RXhwZXJ0QWR2aXNvcnMnKS5yZXNvbHZlcyhbe2V4cGVydElkOiAnZWEnfV0pO1xuICAgIGNvbnN0IGFjY291bnQgPSBhd2FpdCBhcGkuZ2V0QWNjb3VudCgpO1xuICAgIGNvbnN0IGV4cGVydHMgPSBhd2FpdCBhY2NvdW50LmdldEV4cGVydEFkdmlzb3JzKCk7XG4gICAgZXhwZXJ0cy5tYXAoZSA9PiBlLmV4cGVydElkKS5zaG91bGQubWF0Y2goWydlYSddKTtcbiAgICBleHBlcnRzLmZvckVhY2goZSA9PiAoZSBpbnN0YW5jZW9mIEV4cGVydEFkdmlzb3IpLnNob3VsZC5iZS50cnVlKCkpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoTWF0Y2goZWFDbGllbnQuZ2V0RXhwZXJ0QWR2aXNvcnMsICdpZCcpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGF0cmFkZXJBY2NvdW50I2dldEV4cGVydEFkdmlzb3J9XG4gICAqL1xuICBpdCgnc2hvdWxkIHJldHJpZXZlIGV4cGVydCBhZHZpc29yIGJ5IGV4cGVydCBpZCcsIGFzeW5jICgpID0+IHtcbiAgICBnZXRBY2NvdW50U3R1Yi5yZXNvbHZlcyh7X2lkOiAnaWQnLCB2ZXJzaW9uOiA0LCB0eXBlOiAnY2xvdWQtZzEnfSk7XG4gICAgc2FuZGJveC5zdHViKGVhQ2xpZW50LCAnZ2V0RXhwZXJ0QWR2aXNvcicpLnJlc29sdmVzKHtcbiAgICAgIGV4cGVydElkOiAnZWEnLFxuICAgICAgcGVyaW9kOiAnMUgnLFxuICAgICAgc3ltYm9sOiAnRVVSVVNEJyxcbiAgICAgIGZpbGVVcGxvYWRlZDogZmFsc2VcbiAgICB9KTtcbiAgICBjb25zdCBhY2NvdW50ID0gYXdhaXQgYXBpLmdldEFjY291bnQoJ2lkJyk7XG4gICAgY29uc3QgZXhwZXJ0ID0gYXdhaXQgYWNjb3VudC5nZXRFeHBlcnRBZHZpc29yKCdlYScpO1xuICAgIGV4cGVydC5leHBlcnRJZC5zaG91bGQubWF0Y2goJ2VhJyk7XG4gICAgZXhwZXJ0LnBlcmlvZC5zaG91bGQubWF0Y2goJzFIJyk7XG4gICAgZXhwZXJ0LnN5bWJvbC5zaG91bGQubWF0Y2goJ0VVUlVTRCcpO1xuICAgIGV4cGVydC5maWxlVXBsb2FkZWQuc2hvdWxkLmJlLmZhbHNlKCk7XG4gICAgKGV4cGVydCBpbnN0YW5jZW9mIEV4cGVydEFkdmlzb3IpLnNob3VsZC5iZS50cnVlKCk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGhNYXRjaChlYUNsaWVudC5nZXRFeHBlcnRBZHZpc29yLCAnaWQnLCAnZWEnKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhdHJhZGVyQWNjb3VudCNnZXRFeHBlcnRBZHZpc29yfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBhY2NvdW50IHZlcnNpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgZ2V0QWNjb3VudFN0dWIucmVzb2x2ZXMoe19pZDogJ2lkJywgdmVyc2lvbjogNSwgdHlwZTogJ2Nsb3VkLWcxJ30pO1xuICAgIHNhbmRib3guc3R1YihlYUNsaWVudCwgJ2dldEV4cGVydEFkdmlzb3JzJykucmVzb2x2ZXMoW3tcbiAgICAgIGV4cGVydElkOiAnZWEnLFxuICAgICAgcGVyaW9kOiAnMUgnLFxuICAgICAgc3ltYm9sOiAnRVVSVVNEJyxcbiAgICAgIGZpbGVVcGxvYWRlZDogZmFsc2VcbiAgICB9XSk7XG4gICAgc2FuZGJveC5zdHViKGVhQ2xpZW50LCAnZ2V0RXhwZXJ0QWR2aXNvcicpLnJlc29sdmVzKHtcbiAgICAgIGV4cGVydElkOiAnZWEnLFxuICAgICAgcGVyaW9kOiAnMUgnLFxuICAgICAgc3ltYm9sOiAnRVVSVVNEJyxcbiAgICAgIGZpbGVVcGxvYWRlZDogZmFsc2VcbiAgICB9KTtcbiAgICBzYW5kYm94LnN0dWIoZWFDbGllbnQsICd1cGRhdGVFeHBlcnRBZHZpc29yJykucmVzb2x2ZXMoKTtcbiAgICBsZXQgbmV3RXhwZXJ0QWR2aXNvciA9IHtcbiAgICAgIHBlcmlvZDogJzFIJyxcbiAgICAgIHN5bWJvbDogJ0VVUlVTRCcsXG4gICAgICBwcmVzZXQ6ICdwcmVzZXQnXG4gICAgfTtcbiAgICBjb25zdCBhY2NvdW50ID0gYXdhaXQgYXBpLmdldEFjY291bnQoJ2lkJyk7XG4gICAgYXdhaXQgc2hvdWxkKGFjY291bnQuZ2V0RXhwZXJ0QWR2aXNvcnMoKSkucmVqZWN0ZWQoKTtcbiAgICBhd2FpdCBzaG91bGQoYWNjb3VudC5nZXRFeHBlcnRBZHZpc29yKCdlYScpKS5yZWplY3RlZCgpO1xuICAgIGF3YWl0IHNob3VsZChhY2NvdW50LmNyZWF0ZUV4cGVydEFkdmlzb3IoJ2VhJywgbmV3RXhwZXJ0QWR2aXNvcikpLnJlamVjdGVkKCk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YXRyYWRlckFjY291bnQjZ2V0RXhwZXJ0QWR2aXNvcn1cbiAgICovXG4gIGl0KCdzaG91bGQgdmFsaWRhdGUgYWNjb3VudCB0eXBlJywgYXN5bmMgKCkgPT4ge1xuICAgIGdldEFjY291bnRTdHViLnJlc29sdmVzKHtfaWQ6ICdpZCcsIHZlcnNpb246IDQsIHR5cGU6ICdjbG91ZC1nMid9KTtcbiAgICBzYW5kYm94LnN0dWIoZWFDbGllbnQsICdnZXRFeHBlcnRBZHZpc29ycycpLnJlc29sdmVzKFt7XG4gICAgICBleHBlcnRJZDogJ2VhJyxcbiAgICAgIHBlcmlvZDogJzFIJyxcbiAgICAgIHN5bWJvbDogJ0VVUlVTRCcsXG4gICAgICBmaWxlVXBsb2FkZWQ6IGZhbHNlXG4gICAgfV0pO1xuICAgIHNhbmRib3guc3R1YihlYUNsaWVudCwgJ2dldEV4cGVydEFkdmlzb3InKS5yZXNvbHZlcyh7XG4gICAgICBleHBlcnRJZDogJ2VhJyxcbiAgICAgIHBlcmlvZDogJzFIJyxcbiAgICAgIHN5bWJvbDogJ0VVUlVTRCcsXG4gICAgICBmaWxlVXBsb2FkZWQ6IGZhbHNlXG4gICAgfSk7XG4gICAgc2FuZGJveC5zdHViKGVhQ2xpZW50LCAndXBkYXRlRXhwZXJ0QWR2aXNvcicpLnJlc29sdmVzKCk7XG4gICAgbGV0IG5ld0V4cGVydEFkdmlzb3IgPSB7XG4gICAgICBwZXJpb2Q6ICcxSCcsXG4gICAgICBzeW1ib2w6ICdFVVJVU0QnLFxuICAgICAgcHJlc2V0OiAncHJlc2V0J1xuICAgIH07XG4gICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IGFwaS5nZXRBY2NvdW50KCdpZCcpO1xuICAgIGF3YWl0IHNob3VsZChhY2NvdW50LmdldEV4cGVydEFkdmlzb3JzKCkpLnJlamVjdGVkKCk7XG4gICAgYXdhaXQgc2hvdWxkKGFjY291bnQuZ2V0RXhwZXJ0QWR2aXNvcignZWEnKSkucmVqZWN0ZWQoKTtcbiAgICBhd2FpdCBzaG91bGQoYWNjb3VudC5jcmVhdGVFeHBlcnRBZHZpc29yKCdlYScsIG5ld0V4cGVydEFkdmlzb3IpKS5yZWplY3RlZCgpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGF0cmFkZXJBY2NvdW50I2NyZWF0ZUV4cGVydEFkdmlzb3J9XG4gICAqL1xuICBpdCgnc2hvdWxkIGNyZWF0ZSBleHBlcnQgYWR2aXNvcicsIGFzeW5jICgpID0+IHtcbiAgICBnZXRBY2NvdW50U3R1Yi5yZXNvbHZlcyh7X2lkOiAnaWQnLCB2ZXJzaW9uOiA0LCB0eXBlOiAnY2xvdWQtZzEnfSk7XG4gICAgc2FuZGJveC5zdHViKGVhQ2xpZW50LCAndXBkYXRlRXhwZXJ0QWR2aXNvcicpLnJlc29sdmVzKCk7XG4gICAgc2FuZGJveC5zdHViKGVhQ2xpZW50LCAnZ2V0RXhwZXJ0QWR2aXNvcicpLnJlc29sdmVzKHtcbiAgICAgIGV4cGVydElkOiAnZWEnLFxuICAgICAgcGVyaW9kOiAnMUgnLFxuICAgICAgc3ltYm9sOiAnRVVSVVNEJyxcbiAgICAgIGZpbGVVcGxvYWRlZDogZmFsc2VcbiAgICB9KTtcbiAgICBsZXQgbmV3RXhwZXJ0QWR2aXNvciA9IHtcbiAgICAgIHBlcmlvZDogJzFIJyxcbiAgICAgIHN5bWJvbDogJ0VVUlVTRCcsXG4gICAgICBwcmVzZXQ6ICdwcmVzZXQnXG4gICAgfTtcbiAgICBjb25zdCBhY2NvdW50ID0gYXdhaXQgYXBpLmdldEFjY291bnQoJ2lkJyk7XG4gICAgY29uc3QgZXhwZXJ0ID0gYXdhaXQgYWNjb3VudC5jcmVhdGVFeHBlcnRBZHZpc29yKCdlYScsIG5ld0V4cGVydEFkdmlzb3IpO1xuICAgIGV4cGVydC5leHBlcnRJZC5zaG91bGQubWF0Y2goJ2VhJyk7XG4gICAgZXhwZXJ0LnBlcmlvZC5zaG91bGQubWF0Y2goJzFIJyk7XG4gICAgZXhwZXJ0LnN5bWJvbC5zaG91bGQubWF0Y2goJ0VVUlVTRCcpO1xuICAgIGV4cGVydC5maWxlVXBsb2FkZWQuc2hvdWxkLmJlLmZhbHNlKCk7XG4gICAgKGV4cGVydCBpbnN0YW5jZW9mIEV4cGVydEFkdmlzb3IpLnNob3VsZC5iZS50cnVlKCk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoZWFDbGllbnQudXBkYXRlRXhwZXJ0QWR2aXNvciwgJ2lkJywgJ2VhJywgbmV3RXhwZXJ0QWR2aXNvcik7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoZWFDbGllbnQuZ2V0RXhwZXJ0QWR2aXNvciwgJ2lkJywgJ2VhJyk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7RXhwZXJ0QWR2aXNvciNyZWxvYWR9XG4gICAqL1xuICBpdCgnc2hvdWxkIHJlbG9hZCBleHBlcnQgYWR2aXNvcicsIGFzeW5jICgpID0+IHtcbiAgICBnZXRBY2NvdW50U3R1Yi5yZXNvbHZlcyh7X2lkOiAnaWQnLCB2ZXJzaW9uOiA0LCB0eXBlOiAnY2xvdWQtZzEnfSk7XG4gICAgc2FuZGJveC5zdHViKGVhQ2xpZW50LCAnZ2V0RXhwZXJ0QWR2aXNvcicpXG4gICAgICAub25GaXJzdENhbGwoKS5yZXNvbHZlcyh7XG4gICAgICAgIGV4cGVydElkOiAnZWEnLFxuICAgICAgICBwZXJpb2Q6ICcxSCcsXG4gICAgICAgIHN5bWJvbDogJ0VVUlVTRCcsXG4gICAgICAgIGZpbGVVcGxvYWRlZDogZmFsc2VcbiAgICAgIH0pXG4gICAgICAub25TZWNvbmRDYWxsKCkucmVzb2x2ZXMoe1xuICAgICAgICBleHBlcnRJZDogJ2VhJyxcbiAgICAgICAgcGVyaW9kOiAnNEgnLFxuICAgICAgICBzeW1ib2w6ICdFVVJVU0QnLFxuICAgICAgICBmaWxlVXBsb2FkZWQ6IGZhbHNlXG4gICAgICB9KTtcbiAgICBjb25zdCBhY2NvdW50ID0gYXdhaXQgYXBpLmdldEFjY291bnQoJ2lkJyk7XG4gICAgY29uc3QgZXhwZXJ0ID0gYXdhaXQgYWNjb3VudC5nZXRFeHBlcnRBZHZpc29yKCdlYScpO1xuICAgIGF3YWl0IGV4cGVydC5yZWxvYWQoKTtcbiAgICBleHBlcnQucGVyaW9kLnNob3VsZC5lcWwoJzRIJyk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoZWFDbGllbnQuZ2V0RXhwZXJ0QWR2aXNvciwgJ2lkJywgJ2VhJyk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFR3aWNlKGVhQ2xpZW50LmdldEV4cGVydEFkdmlzb3IpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge0V4cGVydEFkdmlzb3IjdXBkYXRlfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCB1cGRhdGUgZXhwZXJ0IGFkdmlzb3InLCBhc3luYyAoKSA9PiB7XG4gICAgZ2V0QWNjb3VudFN0dWIucmVzb2x2ZXMoe19pZDogJ2lkJywgdmVyc2lvbjogNCwgdHlwZTogJ2Nsb3VkLWcxJ30pO1xuICAgIHNhbmRib3guc3R1YihlYUNsaWVudCwgJ2dldEV4cGVydEFkdmlzb3InKVxuICAgICAgLm9uRmlyc3RDYWxsKCkucmVzb2x2ZXMoe1xuICAgICAgICBleHBlcnRJZDogJ2VhJyxcbiAgICAgICAgcGVyaW9kOiAnMUgnLFxuICAgICAgICBzeW1ib2w6ICdFVVJVU0QnLFxuICAgICAgICBmaWxlVXBsb2FkZWQ6IGZhbHNlXG4gICAgICB9KVxuICAgICAgLm9uU2Vjb25kQ2FsbCgpLnJlc29sdmVzKHtcbiAgICAgICAgZXhwZXJ0SWQ6ICdlYScsXG4gICAgICAgIHBlcmlvZDogJzRIJyxcbiAgICAgICAgc3ltYm9sOiAnRVVSVVNEJyxcbiAgICAgICAgZmlsZVVwbG9hZGVkOiBmYWxzZVxuICAgICAgfSk7XG4gICAgbGV0IG5ld0V4cGVydEFkdmlzb3IgPSB7XG4gICAgICBwZXJpb2Q6ICc0SCcsXG4gICAgICBzeW1ib2w6ICdFVVJVU0QnLFxuICAgICAgcHJlc2V0OiAncHJlc2V0J1xuICAgIH07XG4gICAgc2FuZGJveC5zdHViKGVhQ2xpZW50LCAndXBkYXRlRXhwZXJ0QWR2aXNvcicpLnJlc29sdmVzKCk7XG4gICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IGFwaS5nZXRBY2NvdW50KCdpZCcpO1xuICAgIGNvbnN0IGV4cGVydCA9IGF3YWl0IGFjY291bnQuZ2V0RXhwZXJ0QWR2aXNvcignZWEnKTtcbiAgICBhd2FpdCBleHBlcnQudXBkYXRlKG5ld0V4cGVydEFkdmlzb3IpO1xuICAgIGV4cGVydC5wZXJpb2Quc2hvdWxkLmVxbCgnNEgnKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChlYUNsaWVudC51cGRhdGVFeHBlcnRBZHZpc29yLCAnaWQnLCAnZWEnLCBuZXdFeHBlcnRBZHZpc29yKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkVHdpY2UoZWFDbGllbnQuZ2V0RXhwZXJ0QWR2aXNvcik7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoZWFDbGllbnQuZ2V0RXhwZXJ0QWR2aXNvciwgJ2lkJywgJ2VhJyk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7RXhwZXJ0QWR2aXNvciN1cGxvYWRGaWxlfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCB1cGxvYWQgZXhwZXJ0IGFkdmlzb3IgZmlsZScsIGFzeW5jICgpID0+IHtcbiAgICBnZXRBY2NvdW50U3R1Yi5yZXNvbHZlcyh7X2lkOiAnaWQnLCB2ZXJzaW9uOiA0LCB0eXBlOiAnY2xvdWQtZzEnfSk7XG4gICAgc2FuZGJveC5zdHViKGVhQ2xpZW50LCAnZ2V0RXhwZXJ0QWR2aXNvcicpXG4gICAgICAub25GaXJzdENhbGwoKS5yZXNvbHZlcyh7XG4gICAgICAgIGV4cGVydElkOiAnZWEnLFxuICAgICAgICBwZXJpb2Q6ICcxSCcsXG4gICAgICAgIHN5bWJvbDogJ0VVUlVTRCcsXG4gICAgICAgIGZpbGVVcGxvYWRlZDogZmFsc2VcbiAgICAgIH0pXG4gICAgICAub25TZWNvbmRDYWxsKCkucmVzb2x2ZXMoe1xuICAgICAgICBleHBlcnRJZDogJ2VhJyxcbiAgICAgICAgcGVyaW9kOiAnNEgnLFxuICAgICAgICBzeW1ib2w6ICdFVVJVU0QnLFxuICAgICAgICBmaWxlVXBsb2FkZWQ6IHRydWVcbiAgICAgIH0pO1xuICAgIHNhbmRib3guc3R1YihlYUNsaWVudCwgJ3VwbG9hZEV4cGVydEFkdmlzb3JGaWxlJykucmVzb2x2ZXMoKTtcbiAgICBjb25zdCBhY2NvdW50ID0gYXdhaXQgYXBpLmdldEFjY291bnQoJ2lkJyk7XG4gICAgY29uc3QgZXhwZXJ0ID0gYXdhaXQgYWNjb3VudC5nZXRFeHBlcnRBZHZpc29yKCdlYScpO1xuICAgIGF3YWl0IGV4cGVydC51cGxvYWRGaWxlKCcvcGF0aC90by9maWxlJyk7XG4gICAgZXhwZXJ0LmZpbGVVcGxvYWRlZC5zaG91bGQuYmUudHJ1ZSgpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGVhQ2xpZW50LnVwbG9hZEV4cGVydEFkdmlzb3JGaWxlLCAnaWQnLCAnZWEnLCAnL3BhdGgvdG8vZmlsZScpO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRUd2ljZShlYUNsaWVudC5nZXRFeHBlcnRBZHZpc29yKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChlYUNsaWVudC5nZXRFeHBlcnRBZHZpc29yLCAnaWQnLCAnZWEnKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtFeHBlcnRBZHZpc29yI3JlbW92ZX1cbiAgICovXG4gIGl0KCdzaG91bGQgcmVtb3ZlIGV4cGVydCBhZHZpc29yJywgYXN5bmMgKCkgPT4ge1xuICAgIGdldEFjY291bnRTdHViLnJlc29sdmVzKHtfaWQ6ICdpZCcsIHZlcnNpb246IDQsIHR5cGU6ICdjbG91ZC1nMSd9KTtcbiAgICBzYW5kYm94LnN0dWIoZWFDbGllbnQsICdnZXRFeHBlcnRBZHZpc29yJykucmVzb2x2ZXMoe1xuICAgICAgZXhwZXJ0SWQ6ICdlYScsXG4gICAgICBwZXJpb2Q6ICcxSCcsXG4gICAgICBzeW1ib2w6ICdFVVJVU0QnLFxuICAgICAgZmlsZVVwbG9hZGVkOiBmYWxzZVxuICAgIH0pO1xuICAgIHNhbmRib3guc3R1YihlYUNsaWVudCwgJ2RlbGV0ZUV4cGVydEFkdmlzb3InKS5yZXNvbHZlcyh7X2lkOiAnaWQnfSk7XG4gICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IGFwaS5nZXRBY2NvdW50KCdpZCcpO1xuICAgIGNvbnN0IGV4cGVydCA9IGF3YWl0IGFjY291bnQuZ2V0RXhwZXJ0QWR2aXNvcignZWEnKTtcbiAgICBhd2FpdCBleHBlcnQucmVtb3ZlKCk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoZWFDbGllbnQuZGVsZXRlRXhwZXJ0QWR2aXNvciwgJ2lkJywgJ2VhJyk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdNVCBhY2NvdW50IHJlcGxpY2EnLCAoKSA9PiB7XG5cbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+e1xuICAgICAgZ2V0QWNjb3VudFN0dWIucmVzb2x2ZXMoe1xuICAgICAgICBfaWQ6ICdpZCcsXG4gICAgICAgIGxvZ2luOiAnNTAxOTQ5ODgnLFxuICAgICAgICBuYW1lOiAnbXQ1YScsXG4gICAgICAgIHNlcnZlcjogJ0lDTWFya2V0c1NDLURlbW8nLFxuICAgICAgICBwcm92aXNpb25pbmdQcm9maWxlSWQ6ICdmOWNlMWYxMi1lNzIwLTRiOWEtOTQ3Ny1jMmQ0Y2IyNWYwNzYnLFxuICAgICAgICBtYWdpYzogMTIzNDU2LFxuICAgICAgICBhcHBsaWNhdGlvbjogJ01ldGFBcGknLFxuICAgICAgICBjb25uZWN0aW9uU3RhdHVzOiAnQ09OTkVDVEVEJyxcbiAgICAgICAgc3RhdGU6ICdERVBMT1lFRCcsXG4gICAgICAgIHR5cGU6ICdjbG91ZCcsXG4gICAgICAgIGFjY291bnRSZXBsaWNhczogW3tcbiAgICAgICAgICBfaWQ6ICdpZFJlcGxpY2EnLFxuICAgICAgICAgIHN0YXRlOiAnQ1JFQVRFRCcsXG4gICAgICAgICAgbWFnaWM6IDAsXG4gICAgICAgICAgY29ubmVjdGlvblN0YXR1czogJ0NPTk5FQ1RFRCcsXG4gICAgICAgICAgc3ltYm9sOiAnRVVSVVNEJyxcbiAgICAgICAgICByZWxpYWJpbGl0eTogJ3JlZ3VsYXInLFxuICAgICAgICAgIHJlZ2lvbjogJ2xvbmRvbidcbiAgICAgICAgfV1cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHRlc3Qge01ldGF0cmFkZXJBY2NvdW50I2NyZWF0ZVJlcGxpY2F9XG4gICAgICovXG4gICAgaXQoJ3Nob3VsZCBjcmVhdGUgTVQgYWNjb3VudCByZXBsaWNhJywgYXN5bmMgKCkgPT4ge1xuICAgICAgZ2V0QWNjb3VudFN0dWJcbiAgICAgICAgLm9uRmlyc3RDYWxsKClcbiAgICAgICAgLnJlc29sdmVzKHtcbiAgICAgICAgICBfaWQ6ICdpZCcsXG4gICAgICAgICAgbG9naW46ICc1MDE5NDk4OCcsXG4gICAgICAgICAgbmFtZTogJ210NWEnLFxuICAgICAgICAgIHNlcnZlcjogJ0lDTWFya2V0c1NDLURlbW8nLFxuICAgICAgICAgIHByb3Zpc2lvbmluZ1Byb2ZpbGVJZDogJ2Y5Y2UxZjEyLWU3MjAtNGI5YS05NDc3LWMyZDRjYjI1ZjA3NicsXG4gICAgICAgICAgbWFnaWM6IDEyMzQ1NixcbiAgICAgICAgICBhcHBsaWNhdGlvbjogJ01ldGFBcGknLFxuICAgICAgICAgIGNvbm5lY3Rpb25TdGF0dXM6ICdDT05ORUNURUQnLFxuICAgICAgICAgIHN0YXRlOiAnREVQTE9ZRUQnLFxuICAgICAgICAgIHR5cGU6ICdjbG91ZCdcbiAgICAgICAgfSlcbiAgICAgICAgLm9uU2Vjb25kQ2FsbCgpXG4gICAgICAgIC5yZXNvbHZlcyh7XG4gICAgICAgICAgX2lkOiAnaWQnLFxuICAgICAgICAgIGxvZ2luOiAnNTAxOTQ5ODgnLFxuICAgICAgICAgIG5hbWU6ICdtdDVhJyxcbiAgICAgICAgICBzZXJ2ZXI6ICdJQ01hcmtldHNTQy1EZW1vJyxcbiAgICAgICAgICBwcm92aXNpb25pbmdQcm9maWxlSWQ6ICdmOWNlMWYxMi1lNzIwLTRiOWEtOTQ3Ny1jMmQ0Y2IyNWYwNzYnLFxuICAgICAgICAgIG1hZ2ljOiAxMjM0NTYsXG4gICAgICAgICAgYXBwbGljYXRpb246ICdNZXRhQXBpJyxcbiAgICAgICAgICBjb25uZWN0aW9uU3RhdHVzOiAnQ09OTkVDVEVEJyxcbiAgICAgICAgICBzdGF0ZTogJ0RFUExPWUVEJyxcbiAgICAgICAgICB0eXBlOiAnY2xvdWQnLFxuICAgICAgICAgIGFjY291bnRSZXBsaWNhczogW3tcbiAgICAgICAgICAgIF9pZDogJ2lkUmVwbGljYScsXG4gICAgICAgICAgICBzdGF0ZTogJ0NSRUFURUQnLFxuICAgICAgICAgICAgbWFnaWM6IDAsXG4gICAgICAgICAgICBjb25uZWN0aW9uU3RhdHVzOiAnQ09OTkVDVEVEJyxcbiAgICAgICAgICAgIHN5bWJvbDogJ0VVUlVTRCcsXG4gICAgICAgICAgICByZWxpYWJpbGl0eTogJ3JlZ3VsYXInLFxuICAgICAgICAgICAgcmVnaW9uOiAnbG9uZG9uJ1xuICAgICAgICAgIH1dXG4gICAgICAgIH0pO1xuICAgICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ2NyZWF0ZUFjY291bnRSZXBsaWNhJykucmVzb2x2ZXMoKTtcbiAgICAgIGxldCBhY2NvdW50ID0gYXdhaXQgYXBpLmdldEFjY291bnQoJ2lkJyk7XG4gICAgICBjb25zdCByZXBsaWNhID0gYXdhaXQgYWNjb3VudC5jcmVhdGVSZXBsaWNhKHtcbiAgICAgICAgbWFnaWM6IDAsXG4gICAgICAgIHN5bWJvbDogJ0VVUlVTRCcsXG4gICAgICAgIHJlbGlhYmlsaXR5OiAncmVndWxhcicsXG4gICAgICAgIHJlZ2lvbjogJ2xvbmRvbidcbiAgICAgIH0pO1xuICAgICAgcmVwbGljYS5pZC5zaG91bGQuZXF1YWwoJ2lkUmVwbGljYScpO1xuICAgICAgcmVwbGljYS5zdGF0ZS5zaG91bGQuZXF1YWwoJ0NSRUFURUQnKTtcbiAgICAgIHJlcGxpY2EubWFnaWMuc2hvdWxkLmVxdWFsKDApO1xuICAgICAgcmVwbGljYS5jb25uZWN0aW9uU3RhdHVzLnNob3VsZC5lcXVhbCgnQ09OTkVDVEVEJyk7XG4gICAgICByZXBsaWNhLnJlbGlhYmlsaXR5LnNob3VsZC5lcXVhbCgncmVndWxhcicpO1xuICAgICAgcmVwbGljYS5yZWdpb24uc2hvdWxkLmVxdWFsKCdsb25kb24nKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5jcmVhdGVBY2NvdW50UmVwbGljYSwgJ2lkJywge1xuICAgICAgICBtYWdpYzogMCxcbiAgICAgICAgc3ltYm9sOiAnRVVSVVNEJyxcbiAgICAgICAgcmVsaWFiaWxpdHk6ICdyZWd1bGFyJyxcbiAgICAgICAgcmVnaW9uOiAnbG9uZG9uJ1xuICAgICAgfSk7XG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuZ2V0QWNjb3VudCwgJ2lkJyk7XG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkVHdpY2UoY2xpZW50LmdldEFjY291bnQpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHRlc3Qge01ldGF0cmFkZXJBY2NvdW50UmVwbGljYSNyZW1vdmV9XG4gICAgICovXG4gICAgaXQoJ3Nob3VsZCByZW1vdmUgTVQgYWNjb3VudCByZXBsaWNhJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IGFwaS5nZXRBY2NvdW50KCdpZCcpO1xuICAgICAgZ2V0QWNjb3VudFN0dWIucmVzb2x2ZXMoe1xuICAgICAgICBfaWQ6ICdpZCcsXG4gICAgICAgIGxvZ2luOiAnNTAxOTQ5ODgnLFxuICAgICAgICBuYW1lOiAnbXQ1YScsXG4gICAgICAgIHNlcnZlcjogJ0lDTWFya2V0c1NDLURlbW8nLFxuICAgICAgICBwcm92aXNpb25pbmdQcm9maWxlSWQ6ICdmOWNlMWYxMi1lNzIwLTRiOWEtOTQ3Ny1jMmQ0Y2IyNWYwNzYnLFxuICAgICAgICBtYWdpYzogMTIzNDU2LFxuICAgICAgICBhcHBsaWNhdGlvbjogJ01ldGFBcGknLFxuICAgICAgICBjb25uZWN0aW9uU3RhdHVzOiAnQ09OTkVDVEVEJyxcbiAgICAgICAgc3RhdGU6ICdERVBMT1lFRCcsXG4gICAgICAgIHR5cGU6ICdjbG91ZCcsXG4gICAgICAgIGFjY291bnRSZXBsaWNhczogW3tcbiAgICAgICAgICBfaWQ6ICdpZFJlcGxpY2EnLFxuICAgICAgICAgIHN0YXRlOiAnREVMRVRJTkcnLFxuICAgICAgICAgIG1hZ2ljOiAwLFxuICAgICAgICAgIGNvbm5lY3Rpb25TdGF0dXM6ICdDT05ORUNURUQnLFxuICAgICAgICAgIHN5bWJvbDogJ0VVUlVTRCcsXG4gICAgICAgICAgcmVsaWFiaWxpdHk6ICdyZWd1bGFyJyxcbiAgICAgICAgICByZWdpb246ICdsb25kb24nXG4gICAgICAgIH1dXG4gICAgICB9KTtcbiAgICAgIHNhbmRib3guc3R1YihjbGllbnQsICdkZWxldGVBY2NvdW50UmVwbGljYScpLnJlc29sdmVzKCk7XG4gICAgICBjb25zdCByZXBsaWNhID0gYWNjb3VudC5yZXBsaWNhc1swXTtcbiAgICAgIGF3YWl0IHJlcGxpY2EucmVtb3ZlKCk7XG4gICAgICByZXBsaWNhLnN0YXRlLnNob3VsZC5lcXVhbCgnREVMRVRJTkcnKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5kZWxldGVBY2NvdW50UmVwbGljYSwgJ2lkJywgJ2lkUmVwbGljYScpO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LmdldEFjY291bnQsICdpZCcpO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFR3aWNlKGNsaWVudC5nZXRBY2NvdW50KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEB0ZXN0IHtNZXRhdHJhZGVyQWNjb3VudFJlcGxpY2EjZGVwbG95fVxuICAgICAqL1xuICAgIGl0KCdzaG91bGQgZGVwbG95IE1UIGFjY291bnQgcmVwbGljYScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGFjY291bnQgPSBhd2FpdCBhcGkuZ2V0QWNjb3VudCgnaWQnKTtcbiAgICAgIGdldEFjY291bnRTdHViLnJlc29sdmVzKHtcbiAgICAgICAgX2lkOiAnaWQnLFxuICAgICAgICBsb2dpbjogJzUwMTk0OTg4JyxcbiAgICAgICAgbmFtZTogJ210NWEnLFxuICAgICAgICBzZXJ2ZXI6ICdJQ01hcmtldHNTQy1EZW1vJyxcbiAgICAgICAgcHJvdmlzaW9uaW5nUHJvZmlsZUlkOiAnZjljZTFmMTItZTcyMC00YjlhLTk0NzctYzJkNGNiMjVmMDc2JyxcbiAgICAgICAgbWFnaWM6IDEyMzQ1NixcbiAgICAgICAgYXBwbGljYXRpb246ICdNZXRhQXBpJyxcbiAgICAgICAgY29ubmVjdGlvblN0YXR1czogJ0NPTk5FQ1RFRCcsXG4gICAgICAgIHN0YXRlOiAnREVQTE9ZRUQnLFxuICAgICAgICB0eXBlOiAnY2xvdWQnLFxuICAgICAgICBhY2NvdW50UmVwbGljYXM6IFt7XG4gICAgICAgICAgX2lkOiAnaWRSZXBsaWNhJyxcbiAgICAgICAgICBzdGF0ZTogJ0RFUExPWUlORycsXG4gICAgICAgICAgbWFnaWM6IDAsXG4gICAgICAgICAgY29ubmVjdGlvblN0YXR1czogJ0NPTk5FQ1RFRCcsXG4gICAgICAgICAgc3ltYm9sOiAnRVVSVVNEJyxcbiAgICAgICAgICByZWxpYWJpbGl0eTogJ3JlZ3VsYXInLFxuICAgICAgICAgIHJlZ2lvbjogJ2xvbmRvbidcbiAgICAgICAgfV1cbiAgICAgIH0pO1xuICAgICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ2RlcGxveUFjY291bnRSZXBsaWNhJykucmVzb2x2ZXMoKTtcbiAgICAgIGNvbnN0IHJlcGxpY2EgPSBhY2NvdW50LnJlcGxpY2FzWzBdO1xuICAgICAgYXdhaXQgcmVwbGljYS5kZXBsb3koKTtcbiAgICAgIHJlcGxpY2Euc3RhdGUuc2hvdWxkLmVxdWFsKCdERVBMT1lJTkcnKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5kZXBsb3lBY2NvdW50UmVwbGljYSwgJ2lkJywgJ2lkUmVwbGljYScpO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LmdldEFjY291bnQsICdpZCcpO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFR3aWNlKGNsaWVudC5nZXRBY2NvdW50KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEB0ZXN0IHtNZXRhdHJhZGVyQWNjb3VudFJlcGxpY2EjdW5kZXBsb3l9XG4gICAgICovXG4gICAgaXQoJ3Nob3VsZCB1bmRlcGxveSBNVCBhY2NvdW50IHJlcGxpY2EnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBhY2NvdW50ID0gYXdhaXQgYXBpLmdldEFjY291bnQoJ2lkJyk7XG4gICAgICBnZXRBY2NvdW50U3R1Yi5yZXNvbHZlcyh7XG4gICAgICAgIF9pZDogJ2lkJyxcbiAgICAgICAgbG9naW46ICc1MDE5NDk4OCcsXG4gICAgICAgIG5hbWU6ICdtdDVhJyxcbiAgICAgICAgc2VydmVyOiAnSUNNYXJrZXRzU0MtRGVtbycsXG4gICAgICAgIHByb3Zpc2lvbmluZ1Byb2ZpbGVJZDogJ2Y5Y2UxZjEyLWU3MjAtNGI5YS05NDc3LWMyZDRjYjI1ZjA3NicsXG4gICAgICAgIG1hZ2ljOiAxMjM0NTYsXG4gICAgICAgIGFwcGxpY2F0aW9uOiAnTWV0YUFwaScsXG4gICAgICAgIGNvbm5lY3Rpb25TdGF0dXM6ICdDT05ORUNURUQnLFxuICAgICAgICBzdGF0ZTogJ0RFUExPWUVEJyxcbiAgICAgICAgdHlwZTogJ2Nsb3VkJyxcbiAgICAgICAgYWNjb3VudFJlcGxpY2FzOiBbe1xuICAgICAgICAgIF9pZDogJ2lkUmVwbGljYScsXG4gICAgICAgICAgc3RhdGU6ICdVTkRFUExPWUlORycsXG4gICAgICAgICAgbWFnaWM6IDAsXG4gICAgICAgICAgY29ubmVjdGlvblN0YXR1czogJ0NPTk5FQ1RFRCcsXG4gICAgICAgICAgc3ltYm9sOiAnRVVSVVNEJyxcbiAgICAgICAgICByZWxpYWJpbGl0eTogJ3JlZ3VsYXInLFxuICAgICAgICAgIHJlZ2lvbjogJ2xvbmRvbidcbiAgICAgICAgfV1cbiAgICAgIH0pO1xuICAgICAgc2FuZGJveC5zdHViKGNsaWVudCwgJ3VuZGVwbG95QWNjb3VudFJlcGxpY2EnKS5yZXNvbHZlcygpO1xuICAgICAgY29uc3QgcmVwbGljYSA9IGFjY291bnQucmVwbGljYXNbMF07XG4gICAgICBhd2FpdCByZXBsaWNhLnVuZGVwbG95KCk7XG4gICAgICByZXBsaWNhLnN0YXRlLnNob3VsZC5lcXVhbCgnVU5ERVBMT1lJTkcnKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC51bmRlcGxveUFjY291bnRSZXBsaWNhLCAnaWQnLCAnaWRSZXBsaWNhJyk7XG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuZ2V0QWNjb3VudCwgJ2lkJyk7XG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkVHdpY2UoY2xpZW50LmdldEFjY291bnQpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHRlc3Qge01ldGF0cmFkZXJBY2NvdW50UmVwbGljYSNyZWRlcGxveX1cbiAgICAgKi9cbiAgICBpdCgnc2hvdWxkIHJlZGVwbG95IE1UIGFjY291bnQgcmVwbGljYScsIGFzeW5jICgpID0+IHtcbiAgICAgIGxldCBhY2NvdW50ID0gYXdhaXQgYXBpLmdldEFjY291bnQoJ2lkJyk7XG4gICAgICBnZXRBY2NvdW50U3R1Yi5yZXNvbHZlcyh7XG4gICAgICAgIF9pZDogJ2lkJyxcbiAgICAgICAgbG9naW46ICc1MDE5NDk4OCcsXG4gICAgICAgIG5hbWU6ICdtdDVhJyxcbiAgICAgICAgc2VydmVyOiAnSUNNYXJrZXRzU0MtRGVtbycsXG4gICAgICAgIHByb3Zpc2lvbmluZ1Byb2ZpbGVJZDogJ2Y5Y2UxZjEyLWU3MjAtNGI5YS05NDc3LWMyZDRjYjI1ZjA3NicsXG4gICAgICAgIG1hZ2ljOiAxMjM0NTYsXG4gICAgICAgIGFwcGxpY2F0aW9uOiAnTWV0YUFwaScsXG4gICAgICAgIGNvbm5lY3Rpb25TdGF0dXM6ICdDT05ORUNURUQnLFxuICAgICAgICBzdGF0ZTogJ0RFUExPWUVEJyxcbiAgICAgICAgdHlwZTogJ2Nsb3VkJyxcbiAgICAgICAgYWNjb3VudFJlcGxpY2FzOiBbe1xuICAgICAgICAgIF9pZDogJ2lkUmVwbGljYScsXG4gICAgICAgICAgc3RhdGU6ICdVTkRFUExPWUlORycsXG4gICAgICAgICAgbWFnaWM6IDAsXG4gICAgICAgICAgY29ubmVjdGlvblN0YXR1czogJ0NPTk5FQ1RFRCcsXG4gICAgICAgICAgc3ltYm9sOiAnRVVSVVNEJyxcbiAgICAgICAgICByZWxpYWJpbGl0eTogJ3JlZ3VsYXInLFxuICAgICAgICAgIHJlZ2lvbjogJ2xvbmRvbidcbiAgICAgICAgfV1cbiAgICAgIH0pO1xuXG4gICAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAncmVkZXBsb3lBY2NvdW50UmVwbGljYScpLnJlc29sdmVzKCk7XG4gICAgICBjb25zdCByZXBsaWNhID0gYWNjb3VudC5yZXBsaWNhc1swXTtcbiAgICAgIGF3YWl0IHJlcGxpY2EucmVkZXBsb3koKTtcbiAgICAgIHJlcGxpY2Euc3RhdGUuc2hvdWxkLmVxdWFsKCdVTkRFUExPWUlORycpO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnJlZGVwbG95QWNjb3VudFJlcGxpY2EsICdpZCcsICdpZFJlcGxpY2EnKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXRBY2NvdW50LCAnaWQnKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRUd2ljZShjbGllbnQuZ2V0QWNjb3VudCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAdGVzdCB7TWV0YXRyYWRlckFjY291bnRSZXBsaWNhI3VwZGF0ZX1cbiAgICAgKi9cbiAgICBpdCgnc2hvdWxkIHVwZGF0ZSBNVCBhY2NvdW50IHJlcGxpY2EnLCBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgYWNjb3VudCA9IGF3YWl0IGFwaS5nZXRBY2NvdW50KCdpZCcpO1xuICAgICAgZ2V0QWNjb3VudFN0dWIucmVzb2x2ZXMoe1xuICAgICAgICBfaWQ6ICdpZCcsXG4gICAgICAgIGxvZ2luOiAnNTAxOTQ5ODgnLFxuICAgICAgICBuYW1lOiAnbXQ1YScsXG4gICAgICAgIHNlcnZlcjogJ0lDTWFya2V0c1NDLURlbW8nLFxuICAgICAgICBwcm92aXNpb25pbmdQcm9maWxlSWQ6ICdmOWNlMWYxMi1lNzIwLTRiOWEtOTQ3Ny1jMmQ0Y2IyNWYwNzYnLFxuICAgICAgICBtYWdpYzogMTIzNDU2LFxuICAgICAgICBhcHBsaWNhdGlvbjogJ01ldGFBcGknLFxuICAgICAgICBjb25uZWN0aW9uU3RhdHVzOiAnQ09OTkVDVEVEJyxcbiAgICAgICAgc3RhdGU6ICdERVBMT1lFRCcsXG4gICAgICAgIHR5cGU6ICdjbG91ZCcsXG4gICAgICAgIGFjY291bnRSZXBsaWNhczogW3tcbiAgICAgICAgICBfaWQ6ICdpZFJlcGxpY2EnLFxuICAgICAgICAgIHN0YXRlOiAnREVQTE9ZRUQnLFxuICAgICAgICAgIG1hZ2ljOiAxMjM0NSxcbiAgICAgICAgICBjb25uZWN0aW9uU3RhdHVzOiAnQ09OTkVDVEVEJyxcbiAgICAgICAgICBzeW1ib2w6ICdFVVJVU0QnLFxuICAgICAgICAgIHJlbGlhYmlsaXR5OiAncmVndWxhcicsXG4gICAgICAgICAgcmVnaW9uOiAnbG9uZG9uJ1xuICAgICAgICB9XVxuICAgICAgfSk7XG4gICAgICBzYW5kYm94LnN0dWIoY2xpZW50LCAndXBkYXRlQWNjb3VudFJlcGxpY2EnKS5yZXNvbHZlcygpO1xuICAgICAgY29uc3QgcmVwbGljYSA9IGFjY291bnQucmVwbGljYXNbMF07XG4gICAgICBhd2FpdCByZXBsaWNhLnVwZGF0ZSh7XG4gICAgICAgIG1hZ2ljOiAxMjM0NSxcbiAgICAgIH0pO1xuICAgICAgcmVwbGljYS5tYWdpYy5zaG91bGQuZXF1YWwoMTIzNDUpO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LnVwZGF0ZUFjY291bnRSZXBsaWNhLCAnaWQnLCAnaWRSZXBsaWNhJywge1xuICAgICAgICBtYWdpYzogMTIzNDUsXG4gICAgICB9KTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXRBY2NvdW50LCAnaWQnKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRUd2ljZShjbGllbnQuZ2V0QWNjb3VudCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAdGVzdCB7TWV0YXRyYWRlckFjY291bnRSZXBsaWNhI2luY3JlYXNlUmVsaWFiaWxpdHl9XG4gICAgICovXG4gICAgaXQoJ3Nob3VsZCBpbmNyZWFzZSBNVCBhY2NvdW50IHJlcGxpY2EgcmVsaWFiaWxpdHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgYWNjb3VudCA9IGF3YWl0IGFwaS5nZXRBY2NvdW50KCdpZCcpO1xuICAgICAgZ2V0QWNjb3VudFN0dWIucmVzb2x2ZXMoe1xuICAgICAgICBfaWQ6ICdpZCcsXG4gICAgICAgIGxvZ2luOiAnNTAxOTQ5ODgnLFxuICAgICAgICBuYW1lOiAnbXQ1YScsXG4gICAgICAgIHNlcnZlcjogJ0lDTWFya2V0c1NDLURlbW8nLFxuICAgICAgICBwcm92aXNpb25pbmdQcm9maWxlSWQ6ICdmOWNlMWYxMi1lNzIwLTRiOWEtOTQ3Ny1jMmQ0Y2IyNWYwNzYnLFxuICAgICAgICBtYWdpYzogMTIzNDU2LFxuICAgICAgICBhcHBsaWNhdGlvbjogJ01ldGFBcGknLFxuICAgICAgICBjb25uZWN0aW9uU3RhdHVzOiAnQ09OTkVDVEVEJyxcbiAgICAgICAgc3RhdGU6ICdERVBMT1lFRCcsXG4gICAgICAgIHR5cGU6ICdjbG91ZCcsXG4gICAgICAgIGFjY291bnRSZXBsaWNhczogW3tcbiAgICAgICAgICBfaWQ6ICdpZFJlcGxpY2EnLFxuICAgICAgICAgIHN0YXRlOiAnREVQTE9ZSU5HJyxcbiAgICAgICAgICBtYWdpYzogMCxcbiAgICAgICAgICBjb25uZWN0aW9uU3RhdHVzOiAnRElTQ09OTkVDVEVEJyxcbiAgICAgICAgICBzeW1ib2w6ICdFVVJVU0QnLFxuICAgICAgICAgIHJlbGlhYmlsaXR5OiAnaGlnaCcsXG4gICAgICAgICAgcmVnaW9uOiAnbG9uZG9uJ1xuICAgICAgICB9XVxuICAgICAgfSk7XG5cbiAgICAgIHNhbmRib3guc3R1YihjbGllbnQsICdpbmNyZWFzZVJlbGlhYmlsaXR5JykucmVzb2x2ZXMoKTtcbiAgICAgIGNvbnN0IHJlcGxpY2EgPSBhY2NvdW50LnJlcGxpY2FzWzBdO1xuICAgICAgYXdhaXQgcmVwbGljYS5pbmNyZWFzZVJlbGlhYmlsaXR5KCk7XG4gICAgICByZXBsaWNhLnJlbGlhYmlsaXR5LnNob3VsZC5lcXVhbCgnaGlnaCcpO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LmluY3JlYXNlUmVsaWFiaWxpdHksICdpZFJlcGxpY2EnKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXRBY2NvdW50LCAnaWQnKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRUd2ljZShjbGllbnQuZ2V0QWNjb3VudCk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnTWV0YXRyYWRlckFjY291bnRSZXBsaWNhLndhaXREZXBsb3llZCcsICgpID0+IHtcblxuICAgICAgbGV0IHN0YXJ0QWNjb3VudDtcblxuICAgICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgICAgIHN0YXJ0QWNjb3VudCA9IHtcbiAgICAgICAgICBfaWQ6ICdpZCcsXG4gICAgICAgICAgbG9naW46ICc1MDE5NDk4OCcsXG4gICAgICAgICAgbmFtZTogJ210NWEnLFxuICAgICAgICAgIHNlcnZlcjogJ0lDTWFya2V0c1NDLURlbW8nLFxuICAgICAgICAgIHByb3Zpc2lvbmluZ1Byb2ZpbGVJZDogJ2Y5Y2UxZjEyLWU3MjAtNGI5YS05NDc3LWMyZDRjYjI1ZjA3NicsXG4gICAgICAgICAgbWFnaWM6IDEyMzQ1NixcbiAgICAgICAgICBhcHBsaWNhdGlvbjogJ01ldGFBcGknLFxuICAgICAgICAgIGNvbm5lY3Rpb25TdGF0dXM6ICdDT05ORUNURUQnLFxuICAgICAgICAgIHN0YXRlOiAnREVQTE9ZRUQnLFxuICAgICAgICAgIHR5cGU6ICdjbG91ZCcsXG4gICAgICAgICAgYWNjb3VudFJlcGxpY2FzOiBbe1xuICAgICAgICAgICAgX2lkOiAnaWRSZXBsaWNhJyxcbiAgICAgICAgICAgIHN0YXRlOiAnREVQTE9ZSU5HJyxcbiAgICAgICAgICAgIG1hZ2ljOiAwLFxuICAgICAgICAgICAgY29ubmVjdGlvblN0YXR1czogJ0NPTk5FQ1RFRCcsXG4gICAgICAgICAgICBzeW1ib2w6ICdFVVJVU0QnLFxuICAgICAgICAgICAgcmVsaWFiaWxpdHk6ICdyZWd1bGFyJyxcbiAgICAgICAgICAgIHJlZ2lvbjogJ2xvbmRvbidcbiAgICAgICAgICB9XVxuICAgICAgICB9O1xuXG4gICAgICAgIGdldEFjY291bnRTdHViLnJlc29sdmVzKHN0YXJ0QWNjb3VudCk7XG4gICAgICB9KTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAdGVzdCB7TWV0YXRyYWRlckFjY291bnRSZXBsaWNhI3dhaXREZXBsb3llZH1cbiAgICAgICAqL1xuICAgICAgaXQoJ3Nob3VsZCB3YWl0IGZvciBkZXBsb3ltZW50JywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCB1cGRhdGVkQWNjb3VudCA9IHtcbiAgICAgICAgICBfaWQ6ICdpZCcsXG4gICAgICAgICAgbG9naW46ICc1MDE5NDk4OCcsXG4gICAgICAgICAgbmFtZTogJ210NWEnLFxuICAgICAgICAgIHNlcnZlcjogJ0lDTWFya2V0c1NDLURlbW8nLFxuICAgICAgICAgIHByb3Zpc2lvbmluZ1Byb2ZpbGVJZDogJ2Y5Y2UxZjEyLWU3MjAtNGI5YS05NDc3LWMyZDRjYjI1ZjA3NicsXG4gICAgICAgICAgbWFnaWM6IDEyMzQ1NixcbiAgICAgICAgICBhcHBsaWNhdGlvbjogJ01ldGFBcGknLFxuICAgICAgICAgIGNvbm5lY3Rpb25TdGF0dXM6ICdDT05ORUNURUQnLFxuICAgICAgICAgIHN0YXRlOiAnREVQTE9ZRUQnLFxuICAgICAgICAgIHR5cGU6ICdjbG91ZCcsXG4gICAgICAgICAgYWNjb3VudFJlcGxpY2FzOiBbe1xuICAgICAgICAgICAgX2lkOiAnaWRSZXBsaWNhJyxcbiAgICAgICAgICAgIHN0YXRlOiAnREVQTE9ZRUQnLFxuICAgICAgICAgICAgbWFnaWM6IDAsXG4gICAgICAgICAgICBjb25uZWN0aW9uU3RhdHVzOiAnQ09OTkVDVEVEJyxcbiAgICAgICAgICAgIHN5bWJvbDogJ0VVUlVTRCcsXG4gICAgICAgICAgICByZWxpYWJpbGl0eTogJ3JlZ3VsYXInLFxuICAgICAgICAgICAgcmVnaW9uOiAnbG9uZG9uJ1xuICAgICAgICAgIH1dXG4gICAgICAgIH07XG4gICAgICAgIGdldEFjY291bnRTdHViXG4gICAgICAgICAgLm9uRmlyc3RDYWxsKCkucmVzb2x2ZXMoc3RhcnRBY2NvdW50KVxuICAgICAgICAgIC5vblNlY29uZENhbGwoKS5yZXNvbHZlcyhzdGFydEFjY291bnQpXG4gICAgICAgICAgLm9uVGhpcmRDYWxsKCkucmVzb2x2ZXModXBkYXRlZEFjY291bnQpO1xuICAgICAgICBjb25zdCBhY2NvdW50ID0gYXdhaXQgYXBpLmdldEFjY291bnQoJ2lkJyk7XG4gICAgICAgIGNvbnN0IHJlcGxpY2EgPSBhY2NvdW50LnJlcGxpY2FzWzBdO1xuICAgICAgICBhd2FpdCByZXBsaWNhLndhaXREZXBsb3llZCgxLCA1MCk7XG4gICAgICAgIHJlcGxpY2Euc3RhdGUuc2hvdWxkLmVxdWFsKCdERVBMT1lFRCcpO1xuICAgICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuZ2V0QWNjb3VudCwgJ2lkJyk7XG4gICAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRUaHJpY2UoY2xpZW50LmdldEFjY291bnQpO1xuICAgICAgfSk7XG4gIFxuICAgICAgLyoqXG4gICAgICAgKiBAdGVzdCB7TWV0YXRyYWRlckFjY291bnRSZXBsaWNhI3dhaXREZXBsb3llZH1cbiAgICAgICAqL1xuICAgICAgaXQoJ3Nob3VsZCB0aW1lIG91dCB3YWl0aW5nIGZvciBkZXBsb3ltZW50JywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBsZXQgYWNjb3VudCA9IGF3YWl0IGFwaS5nZXRBY2NvdW50KCdpZCcpO1xuICAgICAgICBjb25zdCByZXBsaWNhID0gYWNjb3VudC5yZXBsaWNhc1swXTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCByZXBsaWNhLndhaXREZXBsb3llZCgxLCA1MCk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaW1lb3V0RXJyb3IgaXMgZXhwZWN0ZWQnKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgZXJyLm5hbWUuc2hvdWxkLmVxdWFsKCdUaW1lb3V0RXJyb3InKTtcbiAgICAgICAgICByZXBsaWNhLnN0YXRlLnNob3VsZC5lcXVhbCgnREVQTE9ZSU5HJyk7XG4gICAgICAgIH1cbiAgICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LmdldEFjY291bnQsICdpZCcpO1xuICAgICAgfSk7XG4gIFxuICAgIH0pO1xuICBcbiAgICBkZXNjcmliZSgnTWV0YXRyYWRlckFjY291bnRSZXBsaWNhLndhaXRVbmRlcGxveWVkJywgKCkgPT4ge1xuXG4gICAgICBsZXQgc3RhcnRBY2NvdW50O1xuXG4gICAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgICAgc3RhcnRBY2NvdW50ID0ge1xuICAgICAgICAgIF9pZDogJ2lkJyxcbiAgICAgICAgICBsb2dpbjogJzUwMTk0OTg4JyxcbiAgICAgICAgICBuYW1lOiAnbXQ1YScsXG4gICAgICAgICAgc2VydmVyOiAnSUNNYXJrZXRzU0MtRGVtbycsXG4gICAgICAgICAgcHJvdmlzaW9uaW5nUHJvZmlsZUlkOiAnZjljZTFmMTItZTcyMC00YjlhLTk0NzctYzJkNGNiMjVmMDc2JyxcbiAgICAgICAgICBtYWdpYzogMTIzNDU2LFxuICAgICAgICAgIGFwcGxpY2F0aW9uOiAnTWV0YUFwaScsXG4gICAgICAgICAgY29ubmVjdGlvblN0YXR1czogJ0NPTk5FQ1RFRCcsXG4gICAgICAgICAgc3RhdGU6ICdERVBMT1lFRCcsXG4gICAgICAgICAgdHlwZTogJ2Nsb3VkJyxcbiAgICAgICAgICBhY2NvdW50UmVwbGljYXM6IFt7XG4gICAgICAgICAgICBfaWQ6ICdpZFJlcGxpY2EnLFxuICAgICAgICAgICAgc3RhdGU6ICdVTkRFUExPWUlORycsXG4gICAgICAgICAgICBtYWdpYzogMCxcbiAgICAgICAgICAgIGNvbm5lY3Rpb25TdGF0dXM6ICdDT05ORUNURUQnLFxuICAgICAgICAgICAgc3ltYm9sOiAnRVVSVVNEJyxcbiAgICAgICAgICAgIHJlbGlhYmlsaXR5OiAncmVndWxhcicsXG4gICAgICAgICAgICByZWdpb246ICdsb25kb24nXG4gICAgICAgICAgfV1cbiAgICAgICAgfTtcblxuICAgICAgICBnZXRBY2NvdW50U3R1Yi5yZXNvbHZlcyhzdGFydEFjY291bnQpO1xuICAgICAgfSk7XG5cbiAgICAgIC8qKlxuICAgICAgICogQHRlc3Qge01ldGF0cmFkZXJBY2NvdW50UmVwbGljYSN3YWl0VW5kZXBsb3llZH1cbiAgICAgICAqL1xuICAgICAgaXQoJ3Nob3VsZCB3YWl0IGZvciB1bmRlcGxveW1lbnQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRBY2NvdW50ID0ge1xuICAgICAgICAgIF9pZDogJ2lkJyxcbiAgICAgICAgICBsb2dpbjogJzUwMTk0OTg4JyxcbiAgICAgICAgICBuYW1lOiAnbXQ1YScsXG4gICAgICAgICAgc2VydmVyOiAnSUNNYXJrZXRzU0MtRGVtbycsXG4gICAgICAgICAgcHJvdmlzaW9uaW5nUHJvZmlsZUlkOiAnZjljZTFmMTItZTcyMC00YjlhLTk0NzctYzJkNGNiMjVmMDc2JyxcbiAgICAgICAgICBtYWdpYzogMTIzNDU2LFxuICAgICAgICAgIGFwcGxpY2F0aW9uOiAnTWV0YUFwaScsXG4gICAgICAgICAgY29ubmVjdGlvblN0YXR1czogJ0NPTk5FQ1RFRCcsXG4gICAgICAgICAgc3RhdGU6ICdERVBMT1lFRCcsXG4gICAgICAgICAgdHlwZTogJ2Nsb3VkJyxcbiAgICAgICAgICBhY2NvdW50UmVwbGljYXM6IFt7XG4gICAgICAgICAgICBfaWQ6ICdpZFJlcGxpY2EnLFxuICAgICAgICAgICAgc3RhdGU6ICdVTkRFUExPWUVEJyxcbiAgICAgICAgICAgIG1hZ2ljOiAwLFxuICAgICAgICAgICAgY29ubmVjdGlvblN0YXR1czogJ0NPTk5FQ1RFRCcsXG4gICAgICAgICAgICBzeW1ib2w6ICdFVVJVU0QnLFxuICAgICAgICAgICAgcmVsaWFiaWxpdHk6ICdyZWd1bGFyJyxcbiAgICAgICAgICAgIHJlZ2lvbjogJ2xvbmRvbidcbiAgICAgICAgICB9XVxuICAgICAgICB9O1xuICAgICAgICBnZXRBY2NvdW50U3R1YlxuICAgICAgICAgIC5vbkZpcnN0Q2FsbCgpLnJlc29sdmVzKHN0YXJ0QWNjb3VudClcbiAgICAgICAgICAub25TZWNvbmRDYWxsKCkucmVzb2x2ZXMoc3RhcnRBY2NvdW50KVxuICAgICAgICAgIC5vblRoaXJkQ2FsbCgpLnJlc29sdmVzKHVwZGF0ZWRBY2NvdW50KTtcbiAgICAgICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IGFwaS5nZXRBY2NvdW50KCdpZCcpO1xuICAgICAgICBjb25zdCByZXBsaWNhID0gYWNjb3VudC5yZXBsaWNhc1swXTtcbiAgICAgICAgYXdhaXQgcmVwbGljYS53YWl0VW5kZXBsb3llZCgxLCA1MCk7XG4gICAgICAgIHJlcGxpY2Euc3RhdGUuc2hvdWxkLmVxdWFsKCdVTkRFUExPWUVEJyk7XG4gICAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXRBY2NvdW50LCAnaWQnKTtcbiAgICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFRocmljZShjbGllbnQuZ2V0QWNjb3VudCk7XG4gICAgICB9KTtcbiAgXG4gICAgICAvKipcbiAgICAgICAqIEB0ZXN0IHtNZXRhdHJhZGVyQWNjb3VudFJlcGxpY2Ejd2FpdFVuZGVwbG95ZWR9XG4gICAgICAgKi9cbiAgICAgIGl0KCdzaG91bGQgdGltZSBvdXQgd2FpdGluZyBmb3IgdW5kZXBsb3ltZW50JywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBsZXQgYWNjb3VudCA9IGF3YWl0IGFwaS5nZXRBY2NvdW50KCdpZCcpO1xuICAgICAgICBjb25zdCByZXBsaWNhID0gYWNjb3VudC5yZXBsaWNhc1swXTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCByZXBsaWNhLndhaXRVbmRlcGxveWVkKDEsIDUwKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RpbWVvdXRFcnJvciBpcyBleHBlY3RlZCcpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBlcnIubmFtZS5zaG91bGQuZXF1YWwoJ1RpbWVvdXRFcnJvcicpO1xuICAgICAgICAgIHJlcGxpY2Euc3RhdGUuc2hvdWxkLmVxdWFsKCdVTkRFUExPWUlORycpO1xuICAgICAgICB9XG4gICAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5nZXRBY2NvdW50LCAnaWQnKTtcbiAgICAgIH0pO1xuICBcbiAgICB9KTtcbiAgXG4gICAgZGVzY3JpYmUoJ01ldGF0cmFkZXJBY2NvdW50UmVwbGljYS53YWl0UmVtb3ZlZCcsICgpID0+IHtcblxuICAgICAgbGV0IHN0YXJ0QWNjb3VudDtcblxuICAgICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgICAgIHN0YXJ0QWNjb3VudCA9IHtcbiAgICAgICAgICBfaWQ6ICdpZCcsXG4gICAgICAgICAgbG9naW46ICc1MDE5NDk4OCcsXG4gICAgICAgICAgbmFtZTogJ210NWEnLFxuICAgICAgICAgIHNlcnZlcjogJ0lDTWFya2V0c1NDLURlbW8nLFxuICAgICAgICAgIHByb3Zpc2lvbmluZ1Byb2ZpbGVJZDogJ2Y5Y2UxZjEyLWU3MjAtNGI5YS05NDc3LWMyZDRjYjI1ZjA3NicsXG4gICAgICAgICAgbWFnaWM6IDEyMzQ1NixcbiAgICAgICAgICBhcHBsaWNhdGlvbjogJ01ldGFBcGknLFxuICAgICAgICAgIGNvbm5lY3Rpb25TdGF0dXM6ICdDT05ORUNURUQnLFxuICAgICAgICAgIHN0YXRlOiAnREVQTE9ZRUQnLFxuICAgICAgICAgIHR5cGU6ICdjbG91ZCcsXG4gICAgICAgICAgYWNjb3VudFJlcGxpY2FzOiBbe1xuICAgICAgICAgICAgX2lkOiAnaWRSZXBsaWNhJyxcbiAgICAgICAgICAgIHN0YXRlOiAnREVMRVRJTkcnLFxuICAgICAgICAgICAgbWFnaWM6IDAsXG4gICAgICAgICAgICBjb25uZWN0aW9uU3RhdHVzOiAnQ09OTkVDVEVEJyxcbiAgICAgICAgICAgIHN5bWJvbDogJ0VVUlVTRCcsXG4gICAgICAgICAgICByZWxpYWJpbGl0eTogJ3JlZ3VsYXInLFxuICAgICAgICAgICAgcmVnaW9uOiAnbG9uZG9uJ1xuICAgICAgICAgIH1dXG4gICAgICAgIH07XG5cbiAgICAgICAgZ2V0QWNjb3VudFN0dWIucmVzb2x2ZXMoc3RhcnRBY2NvdW50KTtcbiAgICAgIH0pO1xuICBcbiAgICAgIC8qKlxuICAgICAgICogQHRlc3Qge01ldGF0cmFkZXJBY2NvdW50UmVwbGljYSN3YWl0UmVtb3ZlZH1cbiAgICAgICAqL1xuICAgICAgaXQoJ3Nob3VsZCB3YWl0IHVudGlsIHJlbW92ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRBY2NvdW50ID0ge1xuICAgICAgICAgIF9pZDogJ2lkJyxcbiAgICAgICAgICBsb2dpbjogJzUwMTk0OTg4JyxcbiAgICAgICAgICBuYW1lOiAnbXQ1YScsXG4gICAgICAgICAgc2VydmVyOiAnSUNNYXJrZXRzU0MtRGVtbycsXG4gICAgICAgICAgcHJvdmlzaW9uaW5nUHJvZmlsZUlkOiAnZjljZTFmMTItZTcyMC00YjlhLTk0NzctYzJkNGNiMjVmMDc2JyxcbiAgICAgICAgICBtYWdpYzogMTIzNDU2LFxuICAgICAgICAgIGFwcGxpY2F0aW9uOiAnTWV0YUFwaScsXG4gICAgICAgICAgY29ubmVjdGlvblN0YXR1czogJ0NPTk5FQ1RFRCcsXG4gICAgICAgICAgc3RhdGU6ICdERVBMT1lFRCcsXG4gICAgICAgICAgdHlwZTogJ2Nsb3VkJyxcbiAgICAgICAgICBhY2NvdW50UmVwbGljYXM6IFtdXG4gICAgICAgIH07XG4gICAgICAgIGdldEFjY291bnRTdHViXG4gICAgICAgICAgLm9uRmlyc3RDYWxsKCkucmVzb2x2ZXMoc3RhcnRBY2NvdW50KVxuICAgICAgICAgIC5vblNlY29uZENhbGwoKS5yZXNvbHZlcyhzdGFydEFjY291bnQpXG4gICAgICAgICAgLm9uVGhpcmRDYWxsKCkucmVzb2x2ZXModXBkYXRlZEFjY291bnQpO1xuICAgICAgICBjb25zdCBhY2NvdW50ID0gYXdhaXQgYXBpLmdldEFjY291bnQoJ2lkJyk7XG4gICAgICAgIGNvbnN0IHJlcGxpY2EgPSBhY2NvdW50LnJlcGxpY2FzWzBdO1xuICAgICAgICBhd2FpdCByZXBsaWNhLndhaXRSZW1vdmVkKDEsIDUwKTtcbiAgICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LmdldEFjY291bnQsICdpZCcpO1xuICAgICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkVGhyaWNlKGNsaWVudC5nZXRBY2NvdW50KTtcbiAgICAgIH0pO1xuICBcbiAgICAgIC8qKlxuICAgICAgICogQHRlc3Qge01ldGF0cmFkZXJBY2NvdW50UmVwbGljYSN3YWl0UmVtb3ZlZH1cbiAgICAgICAqL1xuICAgICAgaXQoJ3Nob3VsZCB0aW1lIG91dCB3YWl0aW5nIHVudGlsIHJlbW92ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGxldCBhY2NvdW50ID0gYXdhaXQgYXBpLmdldEFjY291bnQoJ2lkJyk7XG4gICAgICAgIGNvbnN0IHJlcGxpY2EgPSBhY2NvdW50LnJlcGxpY2FzWzBdO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGF3YWl0IHJlcGxpY2Eud2FpdFJlbW92ZWQoMSwgNTApO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGltZW91dEVycm9yIGlzIGV4cGVjdGVkJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGVyci5uYW1lLnNob3VsZC5lcXVhbCgnVGltZW91dEVycm9yJyk7XG4gICAgICAgICAgcmVwbGljYS5zdGF0ZS5zaG91bGQuZXF1YWwoJ0RFTEVUSU5HJyk7XG4gICAgICAgIH1cbiAgICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LmdldEFjY291bnQsICdpZCcpO1xuICAgICAgfSk7XG4gIFxuICAgIH0pO1xuICBcbiAgICBkZXNjcmliZSgnTWV0YXRyYWRlckFjY291bnRSZXBsaWNhLndhaXRDb25uZWN0ZWQnLCAoKSA9PiB7XG5cbiAgICAgIGxldCBzdGFydEFjY291bnQ7XG5cbiAgICAgIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgICAgICBzdGFydEFjY291bnQgPSB7XG4gICAgICAgICAgX2lkOiAnaWQnLFxuICAgICAgICAgIGxvZ2luOiAnNTAxOTQ5ODgnLFxuICAgICAgICAgIG5hbWU6ICdtdDVhJyxcbiAgICAgICAgICBzZXJ2ZXI6ICdJQ01hcmtldHNTQy1EZW1vJyxcbiAgICAgICAgICBwcm92aXNpb25pbmdQcm9maWxlSWQ6ICdmOWNlMWYxMi1lNzIwLTRiOWEtOTQ3Ny1jMmQ0Y2IyNWYwNzYnLFxuICAgICAgICAgIG1hZ2ljOiAxMjM0NTYsXG4gICAgICAgICAgYXBwbGljYXRpb246ICdNZXRhQXBpJyxcbiAgICAgICAgICBjb25uZWN0aW9uU3RhdHVzOiAnQ09OTkVDVEVEJyxcbiAgICAgICAgICBzdGF0ZTogJ0RFUExPWUVEJyxcbiAgICAgICAgICB0eXBlOiAnY2xvdWQnLFxuICAgICAgICAgIGFjY291bnRSZXBsaWNhczogW3tcbiAgICAgICAgICAgIF9pZDogJ2lkUmVwbGljYScsXG4gICAgICAgICAgICBzdGF0ZTogJ0RFUExPWUVEJyxcbiAgICAgICAgICAgIG1hZ2ljOiAwLFxuICAgICAgICAgICAgY29ubmVjdGlvblN0YXR1czogJ0RJU0NPTk5FQ1RFRCcsXG4gICAgICAgICAgICBzeW1ib2w6ICdFVVJVU0QnLFxuICAgICAgICAgICAgcmVsaWFiaWxpdHk6ICdyZWd1bGFyJyxcbiAgICAgICAgICAgIHJlZ2lvbjogJ2xvbmRvbidcbiAgICAgICAgICB9XVxuICAgICAgICB9O1xuXG4gICAgICAgIGdldEFjY291bnRTdHViLnJlc29sdmVzKHN0YXJ0QWNjb3VudCk7XG4gICAgICB9KTtcbiAgXG4gICAgICAvKipcbiAgICAgICAqIEB0ZXN0IHtNZXRhdHJhZGVyQWNjb3VudFJlcGxpY2Ejd2FpdENvbm5lY3RlZH1cbiAgICAgICAqL1xuICAgICAgaXQoJ3Nob3VsZCB3YWl0IHVudGlsIGJyb2tlciBjb25uZWN0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCB1cGRhdGVkQWNjb3VudCA9IHtcbiAgICAgICAgICBfaWQ6ICdpZCcsXG4gICAgICAgICAgbG9naW46ICc1MDE5NDk4OCcsXG4gICAgICAgICAgbmFtZTogJ210NWEnLFxuICAgICAgICAgIHNlcnZlcjogJ0lDTWFya2V0c1NDLURlbW8nLFxuICAgICAgICAgIHByb3Zpc2lvbmluZ1Byb2ZpbGVJZDogJ2Y5Y2UxZjEyLWU3MjAtNGI5YS05NDc3LWMyZDRjYjI1ZjA3NicsXG4gICAgICAgICAgbWFnaWM6IDEyMzQ1NixcbiAgICAgICAgICBhcHBsaWNhdGlvbjogJ01ldGFBcGknLFxuICAgICAgICAgIGNvbm5lY3Rpb25TdGF0dXM6ICdDT05ORUNURUQnLFxuICAgICAgICAgIHN0YXRlOiAnREVQTE9ZRUQnLFxuICAgICAgICAgIHR5cGU6ICdjbG91ZCcsXG4gICAgICAgICAgYWNjb3VudFJlcGxpY2FzOiBbe1xuICAgICAgICAgICAgX2lkOiAnaWRSZXBsaWNhJyxcbiAgICAgICAgICAgIHN0YXRlOiAnREVQTE9ZRUQnLFxuICAgICAgICAgICAgbWFnaWM6IDAsXG4gICAgICAgICAgICBjb25uZWN0aW9uU3RhdHVzOiAnQ09OTkVDVEVEJyxcbiAgICAgICAgICAgIHN5bWJvbDogJ0VVUlVTRCcsXG4gICAgICAgICAgICByZWxpYWJpbGl0eTogJ3JlZ3VsYXInLFxuICAgICAgICAgICAgcmVnaW9uOiAnbG9uZG9uJ1xuICAgICAgICAgIH1dXG4gICAgICAgIH07XG4gICAgICAgIGdldEFjY291bnRTdHViXG4gICAgICAgICAgLm9uRmlyc3RDYWxsKCkucmVzb2x2ZXMoc3RhcnRBY2NvdW50KVxuICAgICAgICAgIC5vblNlY29uZENhbGwoKS5yZXNvbHZlcyhzdGFydEFjY291bnQpXG4gICAgICAgICAgLm9uVGhpcmRDYWxsKCkucmVzb2x2ZXModXBkYXRlZEFjY291bnQpO1xuXG4gICAgICAgIGxldCBhY2NvdW50ID0gYXdhaXQgYXBpLmdldEFjY291bnQoJ2lkJyk7XG4gICAgICAgIGNvbnN0IHJlcGxpY2EgPSBhY2NvdW50LnJlcGxpY2FzWzBdO1xuICAgICAgICBhd2FpdCByZXBsaWNhLndhaXRDb25uZWN0ZWQoMSwgNTApO1xuICAgICAgICByZXBsaWNhLmNvbm5lY3Rpb25TdGF0dXMuc2hvdWxkLmVxdWFsKCdDT05ORUNURUQnKTtcbiAgICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LmdldEFjY291bnQsICdpZCcpO1xuICAgICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkVGhyaWNlKGNsaWVudC5nZXRBY2NvdW50KTtcbiAgICAgIH0pO1xuICBcbiAgICAgIC8qKlxuICAgICAgICogQHRlc3Qge01ldGF0cmFkZXJBY2NvdW50UmVwbGljYSN3YWl0Q29ubmVjdGVkfVxuICAgICAgICovXG4gICAgICBpdCgnc2hvdWxkIHRpbWUgb3V0IHdhaXRpbmcgZm9yIGJyb2tlciBjb25uZWN0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBsZXQgYWNjb3VudCA9IGF3YWl0IGFwaS5nZXRBY2NvdW50KCdpZCcpO1xuICAgICAgICBjb25zdCByZXBsaWNhID0gYWNjb3VudC5yZXBsaWNhc1swXTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCByZXBsaWNhLndhaXRDb25uZWN0ZWQoMSwgNTApO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGltZW91dEVycm9yIGlzIGV4cGVjdGVkJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGVyci5uYW1lLnNob3VsZC5lcXVhbCgnVGltZW91dEVycm9yJyk7XG4gICAgICAgICAgcmVwbGljYS5jb25uZWN0aW9uU3RhdHVzLnNob3VsZC5lcXVhbCgnRElTQ09OTkVDVEVEJyk7XG4gICAgICAgIH1cbiAgICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50LmdldEFjY291bnQsICdpZCcpO1xuICAgICAgfSk7XG4gIFxuICAgIH0pO1xuXG4gIH0pO1xuXG59KTtcbiJdfQ==