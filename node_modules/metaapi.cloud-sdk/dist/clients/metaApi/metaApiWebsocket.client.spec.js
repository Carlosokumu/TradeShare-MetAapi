'use strict';

var _assign = require('babel-runtime/core-js/object/assign');

var _assign2 = _interopRequireDefault(_assign);

var _stringify = require('babel-runtime/core-js/json/stringify');

var _stringify2 = _interopRequireDefault(_stringify);

var _promise = require('babel-runtime/core-js/promise');

var _promise2 = _interopRequireDefault(_promise);

var _should = require('should');

var _should2 = _interopRequireDefault(_should);

var _sinon = require('sinon');

var _sinon2 = _interopRequireDefault(_sinon);

var _metaApiWebsocket = require('./metaApiWebsocket.client');

var _metaApiWebsocket2 = _interopRequireDefault(_metaApiWebsocket);

var _socket = require('socket.io');

var _socket2 = _interopRequireDefault(_socket);

var _notConnectedError = require('./notConnectedError');

var _notConnectedError2 = _interopRequireDefault(_notConnectedError);

var _errorHandler = require('../errorHandler');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @test {MetaApiWebsocketClient}
 */
// eslint-disable-next-line max-statements
describe('MetaApiWebsocketClient', () => {

  let io;
  let server;
  let server1;
  let serverNewYork;
  let clock;
  let client;
  let sandbox;
  let activeSynchronizationIdsStub;
  let getActiveInstancesStub;
  const synchronizationThrottler = {
    activeSynchronizationIds: ['synchronizationId'],
    onDisconnect: () => {},
    updateSynchronizationId: () => {},
    removeSynchronizationId: () => {}
  };
  const domainClient = {
    getSettings: () => {}
  };
  let accountInformation = {
    broker: 'True ECN Trading Ltd',
    currency: 'USD',
    server: 'ICMarketsSC-Demo',
    balance: 7319.9,
    equity: 7306.649913200001,
    margin: 184.1,
    freeMargin: 7120.22,
    leverage: 100,
    marginLevel: 3967.58283542
  };

  before(() => {
    sandbox = _sinon2.default.createSandbox();
  });

  beforeEach(async () => {
    clock = _sinon2.default.useFakeTimers({ shouldAdvanceTime: true });
    client = new _metaApiWebsocket2.default(domainClient, 'token', { application: 'application',
      domain: 'project-stock.agiliumlabs.cloud', requestTimeout: 1.5, useSharedClientApi: true,
      retryOpts: { retries: 3, minDelayInSeconds: 0.1, maxDelayInSeconds: 0.5 } });
    client.url = 'http://localhost:6784';
    client._socketInstances = { 'vint-hill': { 0: [], 1: [] }, 'new-york': { 0: [] } };
    io = new _socket2.default(6784, { path: '/ws', pingTimeout: 1000000 });
    io.on('connect', socket => {
      server = socket;
      if (socket.request._query['auth-token'] !== 'token') {
        socket.emit({ error: 'UnauthorizedError', message: 'Authorization token invalid' });
        socket.close();
      }
    });
    client._regionsByAccounts.accountId = { region: 'vint-hill', connections: 1 };
    client._regionsByAccounts.accountIdReplica = { region: 'new-york', connections: 1 };
    client._socketInstancesByAccounts = { 0: { accountId: 0, accountIdReplica: 0 }, 1: { accountId: 0 } };
    client._accountsByReplicaId.accountId = 'accountId';
    client._accountsByReplicaId.accountIdReplica = 'accountId';
    client._accountReplicas.accountId = {
      'vint-hill': 'accountId',
      'new-york': 'accountIdReplica'
    };
    client._connectedHosts = {
      'accountId:vint-hill:0:ps-mpa-1': 'ps-mpa-1',
      'accountId:new-york:0:ps-mpa-2': 'ps-mpa-2'
    };
    await client.connect(0, 'new-york');
    serverNewYork = server;
    await client.connect(1, 'vint-hill');
    server1 = server;
    server1.on('request', async data => {
      if (data.type === 'unsubscribe' && data.accountId === 'accountId') {
        server1.emit('response', { requestId: data.requestId, type: 'response', accountId: 'accountId' });
      }
    });
    await client.connect(0, 'vint-hill');
    activeSynchronizationIdsStub = sandbox.stub(client._socketInstances['vint-hill'][0][0].synchronizationThrottler, 'activeSynchronizationIds').get(() => []);
    sandbox.stub(client._socketInstances['vint-hill'][1][0].synchronizationThrottler, 'activeSynchronizationIds').get(() => []);

    sandbox.stub(client._latencyService, 'onConnected').returns();
    sandbox.stub(client._latencyService, 'onDisconnected').returns();
    sandbox.stub(client._latencyService, 'onUnsubscribe').returns();
    sandbox.stub(client._latencyService, 'onDealsSynchronized').returns();
    getActiveInstancesStub = sandbox.stub(client._latencyService, 'getActiveAccountInstances').returns([]);
  });

  afterEach(async () => {
    clock.restore();
    sandbox.restore();
    let resolve;
    let promise = new _promise2.default(res => resolve = res);
    client.close();
    io.close(() => resolve());
    await promise;
  });

  /**
   * @test {MetaApiWebsocketClient#_tryReconnect}
   */
  it('should change client id on reconnect', async () => {
    client.close();
    let clientId;
    let connectAmount = 0;
    io.on('connect', socket => {
      connectAmount++;
      socket.request.headers['client-id'].should.equal(socket.request._query.clientId);
      socket.request.headers['client-id'].should.not.equal(clientId);
      socket.request._query.clientId.should.not.equal(clientId);
      clientId = socket.request._query.clientId;
      socket.disconnect();
    });
    await client.connect(0, 'vint-hill');
    await new _promise2.default(res => setTimeout(res, 50));
    await clock.tickAsync(1500);
    await new _promise2.default(res => setTimeout(res, 50));
    connectAmount.should.be.aboveOrEqual(2);
  });

  /**
   * @test {MetaApiWebsocketClient#connect}
   */
  it('should retry connection if first attempt timed out', async () => {
    let positions = [{
      id: '46214692',
      type: 'POSITION_TYPE_BUY',
      symbol: 'GBPUSD',
      magic: 1000,
      time: new Date('2020-04-15T02:45:06.521Z'),
      updateTime: new Date('2020-04-15T02:45:06.521Z'),
      openPrice: 1.26101,
      currentPrice: 1.24883,
      currentTickValue: 1,
      volume: 0.07,
      swap: 0,
      profit: -85.25999999999966,
      commission: -0.25,
      clientId: 'TE_GBPUSD_7hyINWqAlE',
      stopLoss: 1.17721,
      unrealizedProfit: -85.25999999999901,
      realizedProfit: -6.536993168992922e-13
    }];
    let resolve;
    let promise = new _promise2.default(res => resolve = res);
    client.close();
    io.close(() => resolve());
    await promise;
    client = new _metaApiWebsocket2.default(domainClient, 'token', { application: 'application',
      domain: 'project-stock.agiliumlabs.cloud', requestTimeout: 1.5, useSharedClientApi: false,
      connectTimeout: 0.1,
      retryOpts: { retries: 3, minDelayInSeconds: 0.1, maxDelayInSeconds: 0.5 } });
    client.url = 'http://localhost:6785';
    (async () => {
      await new _promise2.default(res => setTimeout(res, 200));
      io = new _socket2.default(6785, { path: '/ws', pingTimeout: 30000 });
      io.on('connect', socket => {
        server = socket;
        server.on('request', data => {
          if (data.type === 'getPositions' && data.accountId === 'accountId' && data.application === 'RPC') {
            server.emit('response', { type: 'response', accountId: data.accountId,
              requestId: data.requestId, positions });
          }
        });
      });
    })();
    let actual = await client.getPositions('accountId');
    actual.should.match(positions);
    io.close();
  });

  /**
   * @test {MetaApiWebsocketClient#_getServerUrl}
   */
  it('should connect to shared server', async () => {
    client.close();
    sandbox.stub(domainClient, 'getSettings').resolves({
      domain: 'v3.agiliumlabs.cloud'
    });
    client = new _metaApiWebsocket2.default(domainClient, 'token', { application: 'application',
      domain: 'project-stock.agiliumlabs.cloud', requestTimeout: 1.5, useSharedClientApi: true });
    client._socketInstances = { 'vint-hill': { 0: [{
          connected: true,
          requestResolves: [],
          socket: { close: () => {} }
        }] } };
    const url = await client._getServerUrl(0, 0, 'vint-hill');
    (0, _should2.default)(url).eql('https://mt-client-api-v1.vint-hill-a.v3.agiliumlabs.cloud');
  });

  /**
   * @test {MetaApiWebsocketClient#_getServerUrl}
   */
  it('should connect to dedicated server', async () => {
    client.close();
    sandbox.stub(domainClient, 'getSettings').resolves({
      hostname: 'mt-client-api-dedicated',
      domain: 'project-stock.agiliumlabs.cloud'
    });
    client = new _metaApiWebsocket2.default(domainClient, 'token', { application: 'application',
      domain: 'project-stock.agiliumlabs.cloud', requestTimeout: 1.5, useSharedClientApi: true });
    client._socketInstances = { 'vint-hill': { 0: [{
          connected: true,
          requestResolves: [],
          socket: { close: () => {} }
        }] } };
    const url = await client._getServerUrl(0, 0, 'vint-hill');
    (0, _should2.default)(url).eql('https://mt-client-api-v1.vint-hill-a.project-stock.agiliumlabs.cloud');
  });

  /**
   * @test {MetaApiWebsocketClient#addAccountCache}
   */
  it('should add account cache', async () => {
    client.addAccountCache('accountId2', { 'vint-hill': 'accountId2' });
    _sinon2.default.assert.match(client.getAccountRegion('accountId2'), 'vint-hill');
    _sinon2.default.assert.match(client.accountReplicas.accountId2, { 'vint-hill': 'accountId2' });
    _sinon2.default.assert.match(client.accountsByReplicaId.accountId2, 'accountId2');
    client.addAccountCache('accountId2', { 'vint-hill': 'accountId2' });
    _sinon2.default.assert.match(client.getAccountRegion('accountId2'), 'vint-hill');
    client.removeAccountCache('accountId2');
    _sinon2.default.assert.match(client.getAccountRegion('accountId2'), 'vint-hill');
    client.removeAccountCache('accountId2');
    _sinon2.default.assert.match(client.getAccountRegion('accountId2'), 'vint-hill');
    for (let i = 0; i < 5; i++) {
      await clock.tickAsync(30 * 60 * 1000 + 500);
    }
    _sinon2.default.assert.match(client.getAccountRegion('accountId2'), undefined);
    _sinon2.default.assert.match(client.accountReplicas.accountId2, undefined);
    _sinon2.default.assert.match(client.accountsByReplicaId.accountId2, undefined);
  });

  /**
   * @test {MetaApiWebsocketClient#addAccountCache}
   */
  it('should delay region deletion if a request is made', async () => {
    server.on('request', data => {
      if (data.type === 'getAccountInformation' && data.accountId === 'accountId2' && data.application === 'RPC') {
        server.emit('response', {
          type: 'response', accountId: data.accountId, requestId: data.requestId,
          accountInformation
        });
      }
    });

    client.addAccountCache('accountId2', { 'vint-hill': 'accountId2' });
    _sinon2.default.assert.match(client.getAccountRegion('accountId2'), 'vint-hill');
    await client.getAccountInformation('accountId2');
    _sinon2.default.assert.match(client.getAccountRegion('accountId2'), 'vint-hill');
    await clock.tickAsync(30 * 60 * 1000 + 500);
    _sinon2.default.assert.match(client.getAccountRegion('accountId2'), 'vint-hill');
    await client.getAccountInformation('accountId2');
    client.removeAccountCache('accountId2');
    await clock.tickAsync(30 * 60 * 1000 + 500);
    await client.getAccountInformation('accountId2');
    await clock.tickAsync(30 * 60 * 1000 + 500);
    _sinon2.default.assert.match(client.getAccountRegion('accountId2'), 'vint-hill');
    for (let i = 0; i < 5; i++) {
      await clock.tickAsync(30 * 60 * 1000 + 500);
    }
    _sinon2.default.assert.match(client.getAccountRegion('accountId2'), undefined);
  }).timeout(3000);

  /**
   * @test {MetaApiWebsocketClient#getAccountInformation}
   */
  it('should retrieve MetaTrader account information from API', async () => {
    server.on('request', data => {
      if (data.type === 'getAccountInformation' && data.accountId === 'accountId' && data.application === 'RPC') {
        server.emit('response', {
          type: 'response', accountId: data.accountId, requestId: data.requestId,
          accountInformation
        });
      }
    });
    let actual = await client.getAccountInformation('accountId');
    actual.should.match(accountInformation);
  });

  /**
   * @test {MetaApiWebsocketClient#getPositions}
   */
  it('should retrieve MetaTrader positions from API', async () => {
    let positions = [{
      id: '46214692',
      type: 'POSITION_TYPE_BUY',
      symbol: 'GBPUSD',
      magic: 1000,
      time: new Date('2020-04-15T02:45:06.521Z'),
      updateTime: new Date('2020-04-15T02:45:06.521Z'),
      openPrice: 1.26101,
      currentPrice: 1.24883,
      currentTickValue: 1,
      volume: 0.07,
      swap: 0,
      profit: -85.25999999999966,
      commission: -0.25,
      clientId: 'TE_GBPUSD_7hyINWqAlE',
      stopLoss: 1.17721,
      unrealizedProfit: -85.25999999999901,
      realizedProfit: -6.536993168992922e-13
    }];
    server.on('request', data => {
      if (data.type === 'getPositions' && data.accountId === 'accountId' && data.application === 'RPC') {
        server.emit('response', { type: 'response', accountId: data.accountId, requestId: data.requestId, positions });
      }
    });
    let actual = await client.getPositions('accountId');
    actual.should.match(positions);
  });

  /**
   * @test {MetaApiWebsocketClient#getPosition}
   */
  it('should retrieve MetaTrader position from API by id', async () => {
    let position = {
      id: '46214692',
      type: 'POSITION_TYPE_BUY',
      symbol: 'GBPUSD',
      magic: 1000,
      time: new Date('2020-04-15T02:45:06.521Z'),
      updateTime: new Date('2020-04-15T02:45:06.521Z'),
      openPrice: 1.26101,
      currentPrice: 1.24883,
      currentTickValue: 1,
      volume: 0.07,
      swap: 0,
      profit: -85.25999999999966,
      commission: -0.25,
      clientId: 'TE_GBPUSD_7hyINWqAlE',
      stopLoss: 1.17721,
      unrealizedProfit: -85.25999999999901,
      realizedProfit: -6.536993168992922e-13
    };
    server.on('request', data => {
      if (data.type === 'getPosition' && data.accountId === 'accountId' && data.positionId === '46214692' && data.application === 'RPC') {
        server.emit('response', { type: 'response', accountId: data.accountId, requestId: data.requestId, position });
      }
    });
    let actual = await client.getPosition('accountId', '46214692');
    actual.should.match(position);
  });

  /**
   * @test {MetaApiWebsocketClient#getOrders}
   */
  it('should retrieve MetaTrader orders from API', async () => {
    let orders = [{
      id: '46871284',
      type: 'ORDER_TYPE_BUY_LIMIT',
      state: 'ORDER_STATE_PLACED',
      symbol: 'AUDNZD',
      magic: 123456,
      platform: 'mt5',
      time: new Date('2020-04-20T08:38:58.270Z'),
      openPrice: 1.03,
      currentPrice: 1.05206,
      volume: 0.01,
      currentVolume: 0.01,
      comment: 'COMMENT2'
    }];
    server.on('request', data => {
      if (data.type === 'getOrders' && data.accountId === 'accountId' && data.application === 'RPC') {
        server.emit('response', { type: 'response', accountId: data.accountId, requestId: data.requestId, orders });
      }
    });
    let actual = await client.getOrders('accountId');
    actual.should.match(orders);
  });

  /**
   * @test {MetaApiWebsocketClient#getOrder}
   */
  it('should retrieve MetaTrader order from API by id', async () => {
    let order = {
      id: '46871284',
      type: 'ORDER_TYPE_BUY_LIMIT',
      state: 'ORDER_STATE_PLACED',
      symbol: 'AUDNZD',
      magic: 123456,
      platform: 'mt5',
      time: new Date('2020-04-20T08:38:58.270Z'),
      openPrice: 1.03,
      currentPrice: 1.05206,
      volume: 0.01,
      currentVolume: 0.01,
      comment: 'COMMENT2'
    };
    server.on('request', data => {
      if (data.type === 'getOrder' && data.accountId === 'accountId' && data.orderId === '46871284' && data.application === 'RPC') {
        server.emit('response', { type: 'response', accountId: data.accountId, requestId: data.requestId, order });
      }
    });
    let actual = await client.getOrder('accountId', '46871284');
    actual.should.match(order);
  });

  /**
   * @test {MetaApiWebsocketClient#getHistoryOrdersByTicket}
   */
  it('should retrieve MetaTrader history orders from API by ticket', async () => {
    let historyOrders = [{
      clientId: 'TE_GBPUSD_7hyINWqAlE',
      currentPrice: 1.261,
      currentVolume: 0,
      doneTime: new Date('2020-04-15T02:45:06.521Z'),
      id: '46214692',
      magic: 1000,
      platform: 'mt5',
      positionId: '46214692',
      state: 'ORDER_STATE_FILLED',
      symbol: 'GBPUSD',
      time: new Date('2020-04-15T02:45:06.260Z'),
      type: 'ORDER_TYPE_BUY',
      volume: 0.07
    }];
    server.on('request', data => {
      if (data.type === 'getHistoryOrdersByTicket' && data.accountId === 'accountId' && data.ticket === '46214692' && data.application === 'RPC') {
        server.emit('response', {
          type: 'response', accountId: data.accountId, requestId: data.requestId, historyOrders,
          synchronizing: false
        });
      }
    });
    let actual = await client.getHistoryOrdersByTicket('accountId', '46214692');
    actual.should.match({ historyOrders, synchronizing: false });
  });

  /**
   * @test {MetaApiWebsocketClient#getHistoryOrdersByPosition}
   */
  it('should retrieve MetaTrader history orders from API by position', async () => {
    let historyOrders = [{
      clientId: 'TE_GBPUSD_7hyINWqAlE',
      currentPrice: 1.261,
      currentVolume: 0,
      doneTime: new Date('2020-04-15T02:45:06.521Z'),
      id: '46214692',
      magic: 1000,
      platform: 'mt5',
      positionId: '46214692',
      state: 'ORDER_STATE_FILLED',
      symbol: 'GBPUSD',
      time: new Date('2020-04-15T02:45:06.260Z'),
      type: 'ORDER_TYPE_BUY',
      volume: 0.07
    }];
    server.on('request', data => {
      if (data.type === 'getHistoryOrdersByPosition' && data.accountId === 'accountId' && data.positionId === '46214692' && data.application === 'RPC') {
        server.emit('response', {
          type: 'response', accountId: data.accountId, requestId: data.requestId, historyOrders,
          synchronizing: false
        });
      }
    });
    let actual = await client.getHistoryOrdersByPosition('accountId', '46214692');
    actual.should.match({ historyOrders, synchronizing: false });
  });

  /**
   * @test {MetaApiWebsocketClient#getHistoryOrdersByTimeRange}
   */
  it('should retrieve MetaTrader history orders from API by time range', async () => {
    let historyOrders = [{
      clientId: 'TE_GBPUSD_7hyINWqAlE',
      currentPrice: 1.261,
      currentVolume: 0,
      doneTime: new Date('2020-04-15T02:45:06.521Z'),
      id: '46214692',
      magic: 1000,
      platform: 'mt5',
      positionId: '46214692',
      state: 'ORDER_STATE_FILLED',
      symbol: 'GBPUSD',
      time: new Date('2020-04-15T02:45:06.260Z'),
      type: 'ORDER_TYPE_BUY',
      volume: 0.07
    }];
    server.on('request', data => {
      if (data.type === 'getHistoryOrdersByTimeRange' && data.accountId === 'accountId' && data.startTime === '2020-04-15T02:45:00.000Z' && data.endTime === '2020-04-15T02:46:00.000Z' && data.offset === 1 && data.limit === 100 && data.application === 'RPC') {
        server.emit('response', {
          type: 'response', accountId: data.accountId, requestId: data.requestId, historyOrders,
          synchronizing: false
        });
      }
    });
    let actual = await client.getHistoryOrdersByTimeRange('accountId', new Date('2020-04-15T02:45:00.000Z'), new Date('2020-04-15T02:46:00.000Z'), 1, 100);
    actual.should.match({ historyOrders, synchronizing: false });
  });

  /**
   * @test {MetaApiWebsocketClient#getDealsByTicket}
   */
  it('should retrieve MetaTrader deals from API by ticket', async () => {
    let deals = [{
      clientId: 'TE_GBPUSD_7hyINWqAlE',
      commission: -0.25,
      entryType: 'DEAL_ENTRY_IN',
      id: '33230099',
      magic: 1000,
      platform: 'mt5',
      orderId: '46214692',
      positionId: '46214692',
      price: 1.26101,
      profit: 0,
      swap: 0,
      symbol: 'GBPUSD',
      time: new Date('2020-04-15T02:45:06.521Z'),
      type: 'DEAL_TYPE_BUY',
      volume: 0.07
    }];
    server.on('request', data => {
      if (data.type === 'getDealsByTicket' && data.accountId === 'accountId' && data.ticket === '46214692' && data.application === 'RPC') {
        server.emit('response', {
          type: 'response', accountId: data.accountId, requestId: data.requestId, deals,
          synchronizing: false
        });
      }
    });
    let actual = await client.getDealsByTicket('accountId', '46214692');
    actual.should.match({ deals, synchronizing: false });
  });

  /**
   * @test {MetaApiWebsocketClient#getDealsByPosition}
   */
  it('should retrieve MetaTrader deals from API by position', async () => {
    let deals = [{
      clientId: 'TE_GBPUSD_7hyINWqAlE',
      commission: -0.25,
      entryType: 'DEAL_ENTRY_IN',
      id: '33230099',
      magic: 1000,
      platform: 'mt5',
      orderId: '46214692',
      positionId: '46214692',
      price: 1.26101,
      profit: 0,
      swap: 0,
      symbol: 'GBPUSD',
      time: new Date('2020-04-15T02:45:06.521Z'),
      type: 'DEAL_TYPE_BUY',
      volume: 0.07
    }];
    server.on('request', data => {
      if (data.type === 'getDealsByPosition' && data.accountId === 'accountId' && data.positionId === '46214692' && data.application === 'RPC') {
        server.emit('response', {
          type: 'response', accountId: data.accountId, requestId: data.requestId, deals,
          synchronizing: false
        });
      }
    });
    let actual = await client.getDealsByPosition('accountId', '46214692');
    actual.should.match({ deals, synchronizing: false });
  });

  /**
   * @test {MetaApiWebsocketClient#getDealsByTimeRange}
   */
  it('should retrieve MetaTrader deals from API by time range', async () => {
    let deals = [{
      clientId: 'TE_GBPUSD_7hyINWqAlE',
      commission: -0.25,
      entryType: 'DEAL_ENTRY_IN',
      id: '33230099',
      magic: 1000,
      platform: 'mt5',
      orderId: '46214692',
      positionId: '46214692',
      price: 1.26101,
      profit: 0,
      swap: 0,
      symbol: 'GBPUSD',
      time: new Date('2020-04-15T02:45:06.521Z'),
      type: 'DEAL_TYPE_BUY',
      volume: 0.07
    }];
    server.on('request', data => {
      if (data.type === 'getDealsByTimeRange' && data.accountId === 'accountId' && data.startTime === '2020-04-15T02:45:00.000Z' && data.endTime === '2020-04-15T02:46:00.000Z' && data.offset === 1 && data.limit === 100 && data.application === 'RPC') {
        server.emit('response', {
          type: 'response', accountId: data.accountId, requestId: data.requestId, deals,
          synchronizing: false
        });
      }
    });
    let actual = await client.getDealsByTimeRange('accountId', new Date('2020-04-15T02:45:00.000Z'), new Date('2020-04-15T02:46:00.000Z'), 1, 100);
    actual.should.match({ deals, synchronizing: false });
  });

  /**
   * @test {MetaApiWebsocketClient#removeApplication}
   */
  it('should remove application from API', async () => {
    let requestReceived = false;
    server.on('request', data => {
      if (data.type === 'removeApplication' && data.accountId === 'accountId' && data.application === 'application') {
        requestReceived = true;
        server.emit('response', { type: 'response', accountId: data.accountId, requestId: data.requestId });
      }
    });
    await client.removeApplication('accountId');
    requestReceived.should.be.true();
  });

  /**
   * @test {MetaApiWebsocketClient#trade}
   */
  it('should execute a trade via new API version', async () => {
    let trade = {
      actionType: 'ORDER_TYPE_SELL',
      symbol: 'AUDNZD',
      volume: 0.07
    };
    let response = {
      numericCode: 10009,
      stringCode: 'TRADE_RETCODE_DONE',
      message: 'Request completed',
      orderId: '46870472'
    };
    sandbox.stub(client._subscriptionManager, 'isSubscriptionActive').returns(true);
    server.emit('synchronization', { type: 'authenticated', accountId: 'accountId', host: 'ps-mpa-1',
      instanceIndex: 0, replicas: 1 });
    await new _promise2.default(res => setTimeout(res, 100));
    let instanceIndex;
    server.on('request', data => {
      instanceIndex = data.instanceIndex;
      data.trade.should.match(trade);
      if (data.type === 'trade' && data.accountId === 'accountId' && data.application === 'application') {
        server.emit('response', { type: 'response', accountId: data.accountId, requestId: data.requestId, response });
      }
    });
    let actual = await client.trade('accountId', trade);
    actual.should.match(response);
    _should2.default.equal(instanceIndex, 0);
  });

  /**
   * @test {MetaApiWebsocketClient#trade}
   */
  it('should execute a trade via a replica account', async () => {
    getActiveInstancesStub.returns(['accountId:new-york:0:ps-mpa-2']);
    let trade = {
      actionType: 'ORDER_TYPE_SELL',
      symbol: 'AUDNZD',
      volume: 0.07
    };
    let response = {
      numericCode: 10009,
      stringCode: 'TRADE_RETCODE_DONE',
      message: 'Request completed',
      orderId: '46870472'
    };
    sandbox.stub(client._subscriptionManager, 'isSubscriptionActive').returns(true);
    serverNewYork.emit('synchronization', { type: 'authenticated', accountId: 'accountIdReplica', host: 'ps-mpa-2',
      instanceIndex: 0, replicas: 1 });
    await new _promise2.default(res => setTimeout(res, 100));
    let instanceIndex;
    serverNewYork.on('request', data => {
      instanceIndex = data.instanceIndex;
      data.trade.should.match(trade);
      if (data.type === 'trade' && data.accountId === 'accountIdReplica' && data.application === 'application') {
        serverNewYork.emit('response', { type: 'response', accountId: data.accountId,
          requestId: data.requestId, response });
      }
    });
    let actual = await client.trade('accountId', trade);
    actual.should.match(response);
    _should2.default.equal(instanceIndex, 0);
  });

  /**
   * @test {MetaApiWebsocketClient#trade}
   */
  it('should execute an RPC trade', async () => {
    let trade = {
      actionType: 'ORDER_TYPE_SELL',
      symbol: 'AUDNZD',
      volume: 0.07
    };
    let response = {
      numericCode: 10009,
      stringCode: 'TRADE_RETCODE_DONE',
      message: 'Request completed',
      orderId: '46870472'
    };
    sandbox.stub(client._subscriptionManager, 'isSubscriptionActive').returns(true);
    server.emit('synchronization', { type: 'authenticated', accountId: 'accountId', host: 'ps-mpa-1',
      instanceIndex: 0, replicas: 1 });
    await new _promise2.default(res => setTimeout(res, 50));
    let instanceIndex;
    server.on('request', data => {
      instanceIndex = data.instanceIndex;
      data.trade.should.match(trade);
      if (data.type === 'trade' && data.accountId === 'accountId' && data.application === 'RPC') {
        server.emit('response', { type: 'response', accountId: data.accountId, requestId: data.requestId, response });
      }
    });
    let actual = await client.trade('accountId', trade, 'RPC');
    actual.should.match(response);
    _should2.default.not.exist(instanceIndex);
  });

  /**
   * @test {MetaApiWebsocketClient#trade}
   */
  it('should execute a trade via API and receive trade error from old API version', async () => {
    let trade = {
      actionType: 'ORDER_TYPE_SELL',
      symbol: 'AUDNZD',
      volume: 0.07
    };
    let response = {
      error: 10006,
      description: 'TRADE_RETCODE_REJECT',
      message: 'Request rejected',
      orderId: '46870472'
    };
    server.on('request', data => {
      data.trade.should.match(trade);
      if (data.type === 'trade' && data.accountId === 'accountId' && data.application === 'application') {
        server.emit('response', { type: 'response', accountId: data.accountId, requestId: data.requestId, response });
      }
    });
    try {
      await client.trade('accountId', trade);
      _should2.default.fail('Trade error expected');
    } catch (err) {
      err.message.should.equal('Request rejected');
      err.name.should.equal('TradeError');
      err.stringCode.should.equal('TRADE_RETCODE_REJECT');
      err.numericCode.should.equal(10006);
    }
  });

  /**
   * @test {MetaApiWebsocketClient#subscribe}
   */
  it('should connect to MetaTrader terminal', async () => {
    let requestReceived = false;
    server.on('request', data => {
      if (data.type === 'subscribe' && data.accountId === 'accountId' && data.application === 'application' && data.instanceIndex === 0) {
        server.emit('response', { type: 'response', accountId: data.accountId, requestId: data.requestId });
        requestReceived = true;
      }
    });
    await client.subscribe('accountId', 0);
    await new _promise2.default(res => setTimeout(res, 50));
    requestReceived.should.be.true();
  });

  /**
   * @test {MetaApiWebsocketClient#subscribe}
   */
  it('should connect to MetaTrader terminal via a replica even if synced main', async () => {
    getActiveInstancesStub.returns(['accountId:vint-hill:0:ps-mpa-1']);
    let requestReceived = false;
    serverNewYork.on('request', data => {
      if (data.type === 'subscribe' && data.accountId === 'accountIdReplica' && data.application === 'application' && data.instanceIndex === 0) {
        serverNewYork.emit('response', { type: 'response', accountId: data.accountId, requestId: data.requestId });
        requestReceived = true;
      }
    });
    await client.subscribe('accountIdReplica', 0);
    await new _promise2.default(res => setTimeout(res, 50));
    requestReceived.should.be.true();
  });

  /**
   * @test {MetaApiWebsocketClient#subscribe}
   */
  it('should create new instance when account limit is reached', async () => {
    _sinon2.default.assert.match(client.socketInstances['vint-hill'][0].length, 1);
    for (let i = 0; i < 100; i++) {
      client._socketInstancesByAccounts[0]['accountId' + i] = 0;
      client._regionsByAccounts['accountId' + i] = { region: 'vint-hill', connections: 1 };
    }

    io.removeAllListeners('connect');
    io.on('connect', socket => {
      socket.on('request', data => {
        if (data.type === 'subscribe' && data.accountId === 'accountId101' && data.application === 'application' && data.instanceIndex === 0) {
          socket.emit('response', { type: 'response', accountId: data.accountId, requestId: data.requestId });
        }
      });
    });
    client._regionsByAccounts.accountId101 = { region: 'vint-hill', connections: 1 };
    await client.subscribe('accountId101', 0);
    await new _promise2.default(res => setTimeout(res, 50));
    _sinon2.default.assert.match(client.socketInstances['vint-hill'][0].length, 2);
  });

  /**
   * @test {MetaApiWebsocketClient#subscribe}
   */
  it('should return error if connect to MetaTrader terminal failed', async () => {
    let requestReceived = false;
    server.on('request', data => {
      if (data.type === 'subscribe' && data.accountId === 'accountId' && data.application === 'application') {
        requestReceived = true;
      }
      server.emit('processingError', {
        id: 1, error: 'NotAuthenticatedError', message: 'Error message',
        requestId: data.requestId
      });
    });
    let success = true;
    try {
      await client.subscribe('accountId', 0);
      success = false;
    } catch (err) {
      err.name.should.equal('NotConnectedError');
    }
    success.should.be.true();
    requestReceived.should.be.true();
  });

  /**
   * @test {MetaApiWebsocketClient#getSymbols}
   */
  it('should retrieve symbols from API', async () => {
    let symbols = ['EURUSD'];
    server.on('request', data => {
      if (data.type === 'getSymbols' && data.accountId === 'accountId' && data.application === 'RPC') {
        server.emit('response', {
          type: 'response', accountId: data.accountId, requestId: data.requestId, symbols
        });
      }
    });
    let actual = await client.getSymbols('accountId');
    actual.should.match(symbols);
  });

  /**
   * @test {MetaApiWebsocketClient#getSymbolSpecification}
   */
  it('should retrieve symbol specification from API', async () => {
    let specification = {
      symbol: 'AUDNZD',
      tickSize: 0.00001,
      minVolume: 0.01,
      maxVolume: 100,
      volumeStep: 0.01
    };
    server.on('request', data => {
      if (data.type === 'getSymbolSpecification' && data.accountId === 'accountId' && data.symbol === 'AUDNZD' && data.application === 'RPC') {
        server.emit('response', {
          type: 'response', accountId: data.accountId, requestId: data.requestId,
          specification
        });
      }
    });
    let actual = await client.getSymbolSpecification('accountId', 'AUDNZD');
    actual.should.match(specification);
  });

  /**
   * @test {MetaApiWebsocketClient#getSymbolPrice}
   */
  it('should retrieve symbol price from API', async () => {
    let price = {
      symbol: 'AUDNZD',
      bid: 1.05297,
      ask: 1.05309,
      profitTickValue: 0.59731,
      lossTickValue: 0.59736
    };
    server.on('request', data => {
      if (data.type === 'getSymbolPrice' && data.accountId === 'accountId' && data.symbol === 'AUDNZD' && data.application === 'RPC' && data.keepSubscription === true) {
        server.emit('response', { type: 'response', accountId: data.accountId, requestId: data.requestId, price });
      }
    });
    let actual = await client.getSymbolPrice('accountId', 'AUDNZD', true);
    actual.should.match(price);
  });

  /**
   * @test {MetaApiWebsocketClient#getCandle}
   */
  it('should retrieve candle from API', async () => {
    let candle = {
      symbol: 'AUDNZD',
      timeframe: '15m',
      time: new Date('2020-04-07T03:45:00.000Z'),
      brokerTime: '2020-04-07 06:45:00.000',
      open: 1.03297,
      high: 1.06309,
      low: 1.02705,
      close: 1.043,
      tickVolume: 1435,
      spread: 17,
      volume: 345
    };
    server.on('request', data => {
      if (data.type === 'getCandle' && data.accountId === 'accountId' && data.symbol === 'AUDNZD' && data.application === 'RPC' && data.timeframe === '15m' && data.keepSubscription === true) {
        server.emit('response', { type: 'response', accountId: data.accountId, requestId: data.requestId, candle });
      }
    });
    let actual = await client.getCandle('accountId', 'AUDNZD', '15m', true);
    actual.should.match(candle);
  });

  /**
   * @test {MetaApiWebsocketClient#getTick}
   */
  it('should retrieve latest tick from API', async () => {
    let tick = {
      symbol: 'AUDNZD',
      time: new Date('2020-04-07T03:45:00.000Z'),
      brokerTime: '2020-04-07 06:45:00.000',
      bid: 1.05297,
      ask: 1.05309,
      last: 0.5298,
      volume: 0.13,
      side: 'buy'
    };
    server.on('request', data => {
      if (data.type === 'getTick' && data.accountId === 'accountId' && data.symbol === 'AUDNZD' && data.application === 'RPC' && data.keepSubscription === true) {
        server.emit('response', { type: 'response', accountId: data.accountId, requestId: data.requestId, tick });
      }
    });
    let actual = await client.getTick('accountId', 'AUDNZD', true);
    actual.should.match(tick);
  });

  /**
   * @test {MetaApiWebsocketClient#getBook}
   */
  it('should retrieve latest order book from API', async () => {
    let book = {
      symbol: 'AUDNZD',
      time: new Date('2020-04-07T03:45:00.000Z'),
      brokerTime: '2020-04-07 06:45:00.000',
      book: [{
        type: 'BOOK_TYPE_SELL',
        price: 1.05309,
        volume: 5.67
      }, {
        type: 'BOOK_TYPE_BUY',
        price: 1.05297,
        volume: 3.45
      }]
    };
    server.on('request', data => {
      if (data.type === 'getBook' && data.accountId === 'accountId' && data.symbol === 'AUDNZD' && data.application === 'RPC' && data.keepSubscription === true) {
        server.emit('response', { type: 'response', accountId: data.accountId, requestId: data.requestId, book });
      }
    });
    let actual = await client.getBook('accountId', 'AUDNZD', true);
    actual.should.match(book);
  });

  /**
   * @test {MetaApiWebsocketClient#sendUptime}
   */
  it('should sent uptime stats to the server', async () => {
    server.on('request', data => {
      if (data.type === 'saveUptime' && data.accountId === 'accountId' && (0, _stringify2.default)(data.uptime) === (0, _stringify2.default)({ '1h': 100 }) && data.application === 'application') {
        server.emit('response', { type: 'response', accountId: data.accountId, requestId: data.requestId });
      }
    });
    await client.saveUptime('accountId', { '1h': 100 });
  });

  /**
   * @test {MetaApiWebsocketClient#unsubscribe}
   */
  describe('unsubscription', () => {

    /**
     * @test {MetaApiWebsocketClient#unsubscribe}
     */
    it('should unsubscribe from account data', async () => {
      let requestReceived = false;

      let response = { type: 'response', accountId: 'accountId' };
      server.on('request', data => {
        if (data.type === 'unsubscribe' && data.accountId === 'accountId') {
          requestReceived = true;
          server.emit('response', (0, _assign2.default)({ requestId: data.requestId }, response));
        }
      });
      await client.unsubscribe('accountId');
      _sinon2.default.assert.match(requestReceived, true);
      client.socketInstancesByAccounts.should.not.have.property('accountId');
      _sinon2.default.assert.calledWith(client._latencyService.onUnsubscribe, 'accountId');
    });

    /**
     * @test {MetaApiWebsocketClient#unsubscribe}
     */
    it('should ignore not found exception on unsubscribe', async () => {
      server.on('request', data => {
        server.emit('processingError', {
          id: 1, error: 'ValidationError', message: 'Validation failed',
          details: [{ parameter: 'volume', message: 'Required value.' }], requestId: data.requestId
        });
      });
      try {
        await client.unsubscribe('accountId');
        throw new Error('ValidationError extected');
      } catch (err) {
        err.name.should.equal('ValidationError');
        err.details.should.match([{
          parameter: 'volume',
          message: 'Required value.'
        }]);
      }
      server.removeAllListeners('request');
      server.on('request', data => {
        server.emit('processingError', {
          id: 1, error: 'NotFoundError', message: 'Account not found', requestId: data.requestId
        });
      });
      server1.on('request', data => {
        server1.emit('processingError', {
          id: 1, error: 'NotFoundError', message: 'Account not found', requestId: data.requestId
        });
      });
      await client.unsubscribe('accountId');
    });

    /**
     * @test {MetaApiWebsocketClient#unsubscribe}
     */
    it('should ignore timeout error on unsubscribe', async () => {
      let promise = client.unsubscribe('accountId').catch(() => {});
      await clock.tickAsync(15000);
      await promise;
    }).timeout(20000);

    /**
     * @test {MetaApiWebsocketClient#unsubscribe}
     */
    it('should repeat unsubscription on synchronization packets if account must be unsubscribed', async () => {
      let prices = [{
        symbol: 'AUDNZD',
        bid: 1.05916,
        ask: 1.05927,
        profitTickValue: 0.602,
        lossTickValue: 0.60203
      }];
      let subscribeServerHandler = sandbox.stub();
      let unsubscribeServerHandler = sandbox.stub();
      server.on('request', data => {
        let serverHandler;
        if (data.type === 'subscribe' && data.accountId === 'accountId') {
          serverHandler = subscribeServerHandler;
        } else if (data.type === 'unsubscribe' && data.accountId === 'accountId') {
          serverHandler = unsubscribeServerHandler;
        }
        if (serverHandler) {
          serverHandler();
          let response = { type: 'response', accountId: 'accountId' };
          server.emit('response', (0, _assign2.default)({ requestId: data.requestId }, response));
        }
      });
      // Subscribing
      await client.subscribe('accountId', 0);
      await new _promise2.default(res => setTimeout(res, 50));
      _sinon2.default.assert.calledOnce(subscribeServerHandler);
      // Unsubscribing
      await client.unsubscribe('accountId');
      await new _promise2.default(res => setTimeout(res, 50));
      _sinon2.default.assert.calledOnce(unsubscribeServerHandler);
      // Sending a packet, should throttle first repeat unsubscribe request
      server.emit('synchronization', { type: 'prices', accountId: 'accountId', host: 'ps-mpa-1',
        instanceIndex: 0, prices });
      await new _promise2.default(res => setTimeout(res, 50));
      _sinon2.default.assert.calledOnce(unsubscribeServerHandler);
      // Repeat a packet after a while, should unsubscribe again
      await clock.tickAsync(11000);
      server.emit('synchronization', { type: 'prices', accountId: 'accountId', host: 'ps-mpa-1',
        instanceIndex: 0, prices });
      await new _promise2.default(res => setTimeout(res, 50));
      _sinon2.default.assert.calledTwice(unsubscribeServerHandler);
      // Repeat a packet, should throttle unsubscribe request
      server.emit('synchronization', { type: 'prices', accountId: 'accountId', host: 'ps-mpa-1',
        instanceIndex: 0, prices });
      await new _promise2.default(res => setTimeout(res, 50));
      _sinon2.default.assert.calledTwice(unsubscribeServerHandler);
      // Repeat a packet after a while, should not throttle unsubscribe request
      await clock.tickAsync(11000);
      server.emit('synchronization', { type: 'prices', accountId: 'accountId', host: 'ps-mpa-1',
        instanceIndex: 0, prices });
      await new _promise2.default(res => setTimeout(res, 50));
      _sinon2.default.assert.calledThrice(unsubscribeServerHandler);
    });
  });

  describe('error handling', () => {

    /**
     * @test {MetaApiWebsocketClient#trade}
     */
    it('should handle ValidationError', async () => {
      let trade = {
        actionType: 'ORDER_TYPE_SELL',
        symbol: 'AUDNZD'
      };
      server.on('request', data => {
        server.emit('processingError', {
          id: 1, error: 'ValidationError', message: 'Validation failed',
          details: [{ parameter: 'volume', message: 'Required value.' }], requestId: data.requestId
        });
      });
      try {
        await client.trade('accountId', trade);
        throw new Error('ValidationError extected');
      } catch (err) {
        err.name.should.equal('ValidationError');
        err.details.should.match([{
          parameter: 'volume',
          message: 'Required value.'
        }]);
      }
    });

    /**
     * @test {MetaApiWebsocketClient#getPosition}
     */
    it('should handle NotFoundError', async () => {
      server.on('request', data => {
        server.emit('processingError', {
          id: 1, error: 'NotFoundError', message: 'Position id 1234 not found',
          requestId: data.requestId
        });
      });
      try {
        await client.getPosition('accountId', '1234');
        throw new Error('NotFoundError extected');
      } catch (err) {
        err.name.should.equal('NotFoundError');
      }
    });

    /**
     * @test {MetaApiWebsocketClient#getPosition}
     */
    it('should handle NotSynchronizedError', async () => {
      server.on('request', data => {
        server.emit('processingError', {
          id: 1, error: 'NotSynchronizedError', message: 'Error message',
          requestId: data.requestId
        });
      });
      try {
        await client.getPosition('accountId', '1234');
        throw new Error('NotSynchronizedError extected');
      } catch (err) {
        err.name.should.equal('NotSynchronizedError');
      }
    }).timeout(8000);

    /**
     * @test {MetaApiWebsocketClient#getPosition}
     */
    it('should handle NotConnectedError', async () => {
      server.on('request', data => {
        server.emit('processingError', {
          id: 1, error: 'NotAuthenticatedError', message: 'Error message',
          requestId: data.requestId
        });
      });
      try {
        await client.getPosition('accountId', '1234');
        throw new Error('NotConnectedError extected');
      } catch (err) {
        err.name.should.equal('NotConnectedError');
      }
    });

    /**
     * @test {MetaApiWebsocketClient#getPosition}
     */
    it('should handle other errors', async () => {
      server.on('request', data => {
        server.emit('processingError', {
          id: 1, error: 'Error', message: 'Error message',
          requestId: data.requestId
        });
      });
      try {
        await client.getPosition('accountId', '1234');
        throw new Error('InternalError extected');
      } catch (err) {
        err.name.should.equal('InternalError');
      }
    }).timeout(8000);
  });

  describe('connection status synchronization', () => {

    let sessionId;

    beforeEach(() => {
      sandbox.stub(client._subscriptionManager, 'isSubscriptionActive').returns(true);
      sessionId = client.socketInstances['vint-hill'][0].sessionId;
      client._socketInstancesByAccounts = { 0: { accountId: 0 }, 1: { accountId: 0 } };
    });

    afterEach(() => {
      client.removeAllListeners();
    });

    it('should process authenticated synchronization event', async () => {
      let listener = {
        onConnected: () => {}
      };
      sandbox.stub(listener, 'onConnected').resolves();
      client.addSynchronizationListener('accountId', listener);
      server.emit('synchronization', { type: 'authenticated', accountId: 'accountId', host: 'ps-mpa-1',
        instanceIndex: 0, replicas: 2 });
      await new _promise2.default(res => setTimeout(res, 50));
      _sinon2.default.assert.calledWith(listener.onConnected, 'vint-hill:0:ps-mpa-1', 2);
      _sinon2.default.assert.calledWith(client._latencyService.onConnected, 'accountId:vint-hill:0:ps-mpa-1');
    });

    it('should send trade requests to both instances', async () => {
      let listener = {
        onConnected: () => {}
      };
      let instanceCalled0 = false;
      let instanceCalled1 = false;
      let trade = {
        actionType: 'ORDER_TYPE_SELL',
        symbol: 'AUDNZD',
        volume: 0.07
      };
      let response = {
        numericCode: 10009,
        stringCode: 'TRADE_RETCODE_DONE',
        message: 'Request completed',
        orderId: '46870472'
      };
      server.on('request', data => {
        if (data.type === 'trade' && data.accountId === 'accountId' && data.application === 'application') {
          instanceCalled0 = true;
          server.emit('response', { type: 'response', accountId: data.accountId, requestId: data.requestId, response });
        }
      });
      server1.on('request', data => {
        if (data.type === 'trade' && data.accountId === 'accountId' && data.application === 'application') {
          instanceCalled1 = true;
          server1.emit('response', { type: 'response', accountId: data.accountId, requestId: data.requestId, response });
        }
      });
      sandbox.stub(listener, 'onConnected').resolves();
      client.addSynchronizationListener('accountId', listener);
      await client.trade('accountId', trade, undefined, 'high');
      await new _promise2.default(res => setTimeout(res, 100));
      _sinon2.default.assert.match(instanceCalled0, true);
      _sinon2.default.assert.match(instanceCalled1, true);
    });

    it('should not send requests to mismatching instances', async () => {
      let requestReceivedAssigned0 = false;
      let requestReceivedAssigned1 = false;
      server.on('request', data => {
        if (data.type === 'subscribe' && data.accountId === 'accountId' && data.application === 'application' && data.instanceIndex === 0) {
          requestReceivedAssigned0 = true;
          server.emit('response', { type: 'response', accountId: data.accountId, requestId: data.requestId });
        }
      });
      server1.on('request', data => {
        if (data.type === 'subscribe' && data.accountId === 'accountId' && data.application === 'application' && data.instanceIndex === 1) {
          requestReceivedAssigned1 = true;
          server1.emit('response', { type: 'response', accountId: data.accountId, requestId: data.requestId });
        }
      });
      await client.subscribe('accountId', 0);
      _sinon2.default.assert.match(requestReceivedAssigned0, true);
      await client.subscribe('accountId', 1);
      _sinon2.default.assert.match(requestReceivedAssigned1, true);

      let requestReceivedAuthenticated0 = false;
      let requestReceivedAuthenticated1 = false;
      server.on('request', data => {
        if (data.type === 'removeApplication' && data.accountId === 'accountId' && data.application === 'application' && data.instanceIndex === 0) {
          requestReceivedAuthenticated0 = true;
          server.emit('response', { type: 'response', accountId: data.accountId, requestId: data.requestId });
        }
      });
      server1.on('request', data => {
        if (data.type === 'removeApplication' && data.accountId === 'accountId' && data.application === 'application' && data.instanceIndex === 1) {
          requestReceivedAuthenticated1 = true;
          server1.emit('response', { type: 'response', accountId: data.accountId, requestId: data.requestId });
        }
      });
      await client.removeApplication('accountId');
      _sinon2.default.assert.match(requestReceivedAuthenticated0, true);
      _sinon2.default.assert.match(requestReceivedAuthenticated1, false);

      requestReceivedAuthenticated0 = false;
      getActiveInstancesStub.returns(['accountId:vint-hill:1:ps-mpa-1']);
      await client.removeApplication('accountId');
      _sinon2.default.assert.match(requestReceivedAuthenticated0, false);
      _sinon2.default.assert.match(requestReceivedAuthenticated1, true);

      let listener = {
        onConnected: () => {}
      };
      let instanceCalledTrade0 = false;
      let instanceCalledTrade1 = false;
      let trade = {
        actionType: 'ORDER_TYPE_SELL',
        symbol: 'AUDNZD',
        volume: 0.07
      };
      let response = {
        numericCode: 10009,
        stringCode: 'TRADE_RETCODE_DONE',
        message: 'Request completed',
        orderId: '46870472'
      };
      server.on('request', data => {
        if (data.type === 'trade' && data.accountId === 'accountId' && data.application === 'application') {
          instanceCalledTrade0 = true;
          server.emit('response', { type: 'response', accountId: data.accountId, requestId: data.requestId, response });
        }
      });
      server1.on('request', data => {
        if (data.type === 'trade' && data.accountId === 'accountId' && data.application === 'application') {
          instanceCalledTrade1 = true;
          server1.emit('response', { type: 'response', accountId: data.accountId, requestId: data.requestId, response });
        }
      });
      getActiveInstancesStub.returns(['accountId:vint-hill:0:ps-mpa-1']);
      sandbox.stub(listener, 'onConnected').resolves();
      client.addSynchronizationListener('accountId', listener);
      await client.trade('accountId', trade, undefined, 'regular');
      _sinon2.default.assert.match(instanceCalledTrade0, true);
      _sinon2.default.assert.match(instanceCalledTrade1, false);

      instanceCalledTrade0 = false;
      getActiveInstancesStub.returns(['accountId:vint-hill:1:ps-mpa-1']);
      await client.trade('accountId', trade, undefined, 'regular');
      _sinon2.default.assert.match(instanceCalledTrade0, false);
      _sinon2.default.assert.match(instanceCalledTrade1, true);
    });

    it('should process authenticated synchronization event with session id', async () => {
      let listener = {
        onConnected: () => {}
      };
      sandbox.stub(listener, 'onConnected').resolves();
      client.addSynchronizationListener('accountId', listener);
      server.emit('synchronization', { type: 'authenticated', accountId: 'accountId', host: 'ps-mpa-2',
        instanceIndex: 0, replicas: 1, sessionId: 'wrong' });
      server.emit('synchronization', { type: 'authenticated', accountId: 'accountId', host: 'ps-mpa-1',
        instanceIndex: 0, replicas: 2, sessionId });
      await new _promise2.default(res => setTimeout(res, 50));
      _sinon2.default.assert.callCount(listener.onConnected, 1);
      _sinon2.default.assert.calledWith(listener.onConnected, 'vint-hill:0:ps-mpa-1', 2);
    });

    it('should cancel subscribe on authenticated event', async () => {
      let listener = {
        onConnected: () => {}
      };
      sandbox.stub(listener, 'onConnected').resolves();
      const cancelSubscribeStub = sandbox.stub(client._subscriptionManager, 'cancelSubscribe');
      const cancelAccountStub = sandbox.stub(client._subscriptionManager, 'cancelAccount');
      client.addSynchronizationListener('accountId', listener);
      client._socketInstancesByAccounts[0].accountId2 = 0;
      client._socketInstancesByAccounts[1].accountId2 = 0;
      client._regionsByAccounts.accountId2 = { region: 'vint-hill', connections: 1 };
      server.emit('synchronization', { type: 'authenticated', accountId: 'accountId', host: 'ps-mpa-1',
        instanceIndex: 0, replicas: 2, sessionId });
      server.emit('synchronization', { type: 'authenticated', accountId: 'accountId2', host: 'ps-mpa-2',
        instanceIndex: 0, replicas: 1, sessionId });
      await new _promise2.default(res => setTimeout(res, 50));
      _sinon2.default.assert.calledWith(cancelSubscribeStub, 'accountId:0');
      _sinon2.default.assert.calledWith(cancelAccountStub, 'accountId2');
    });

    it('should process broker connection status event', async () => {
      let listener = {
        onConnected: () => {},
        onBrokerConnectionStatusChanged: () => {}
      };
      sandbox.stub(listener, 'onBrokerConnectionStatusChanged').resolves();
      client.addSynchronizationListener('accountId', listener);
      server.emit('synchronization', { type: 'authenticated', accountId: 'accountId', host: 'ps-mpa-1',
        instanceIndex: 0 });
      server.emit('synchronization', { type: 'status', accountId: 'accountId', host: 'ps-mpa-1', connected: true,
        instanceIndex: 0 });
      await new _promise2.default(res => setTimeout(res, 50));
      _sinon2.default.assert.calledWith(listener.onBrokerConnectionStatusChanged, 'vint-hill:0:ps-mpa-1', true);
    });

    it('should call an onDisconnect if there was no signal for a long time', async () => {
      let listener = {
        onConnected: () => {},
        onDisconnected: () => {},
        onBrokerConnectionStatusChanged: () => {},
        onStreamClosed: () => {}
      };
      sandbox.stub(listener, 'onDisconnected').resolves();
      client.addSynchronizationListener('accountId', listener);
      server.emit('synchronization', { type: 'authenticated', accountId: 'accountId', host: 'ps-mpa-1',
        instanceIndex: 0, replicas: 2 });
      server.emit('synchronization', { type: 'status', accountId: 'accountId', host: 'ps-mpa-1', connected: true,
        instanceIndex: 0 });
      await new _promise2.default(res => setTimeout(res, 50));
      await clock.tickAsync(10000);
      await server.emit('synchronization', { type: 'status', accountId: 'accountId', host: 'ps-mpa-1', connected: true,
        instanceIndex: 0 });
      await new _promise2.default(res => setTimeout(res, 50));
      await clock.tickAsync(55000);
      _sinon2.default.assert.notCalled(listener.onDisconnected);
      server.emit('synchronization', { type: 'authenticated', accountId: 'accountId', host: 'ps-mpa-1',
        instanceIndex: 0, replicas: 2 });
      await new _promise2.default(res => setTimeout(res, 50));
      await clock.tickAsync(10000);
      _sinon2.default.assert.notCalled(listener.onDisconnected);
      await clock.tickAsync(55000);
      await new _promise2.default(res => setTimeout(res, 50));
      _sinon2.default.assert.calledWith(listener.onDisconnected, 'vint-hill:0:ps-mpa-1');
      _sinon2.default.assert.calledWith(client._latencyService.onDisconnected, 'accountId:vint-hill:0:ps-mpa-1');
      await clock.tickAsync(10000);
      clock.restore();
    });

    it('should close stream on timeout if another stream exists', async () => {
      let listener = {
        onConnected: () => {},
        onDisconnected: () => {},
        onStreamClosed: () => {},
        onBrokerConnectionStatusChanged: () => {}
      };
      const onTimeoutStub = sandbox.stub(client._subscriptionManager, 'onTimeout').resolves();
      const onStreamClosedStub = sandbox.stub(listener, 'onStreamClosed').resolves();
      const onDisconnectedStub = sandbox.stub(listener, 'onDisconnected').resolves();
      sandbox.stub(client._subscriptionManager, 'onDisconnected').resolves();
      client.addSynchronizationListener('accountId', listener);
      server.emit('synchronization', { type: 'authenticated', accountId: 'accountId', host: 'ps-mpa-1',
        instanceIndex: 0, replicas: 2 });
      await new _promise2.default(res => setTimeout(res, 50));
      await clock.tickAsync(15000);
      server.emit('synchronization', { type: 'authenticated', accountId: 'accountId', host: 'ps-mpa-2',
        instanceIndex: 0, replicas: 2 });
      server.emit('synchronization', { type: 'status', accountId: 'accountId', host: 'ps-mpa-1', connected: true,
        instanceIndex: 0 });
      server.emit('synchronization', { type: 'status', accountId: 'accountId', host: 'ps-mpa-2', connected: true,
        instanceIndex: 0 });
      await new _promise2.default(res => setTimeout(res, 50));
      await clock.tickAsync(15000);
      server.emit('synchronization', { type: 'status', accountId: 'accountId', host: 'ps-mpa-1', connected: true,
        instanceIndex: 0 });
      server.emit('synchronization', { type: 'status', accountId: 'accountId', host: 'ps-mpa-2', connected: true,
        instanceIndex: 0 });
      await new _promise2.default(res => setTimeout(res, 50));
      await clock.tickAsync(55000);
      _sinon2.default.assert.notCalled(onDisconnectedStub);
      server.emit('synchronization', { type: 'status', accountId: 'accountId', host: 'ps-mpa-1', connected: true,
        instanceIndex: 0 });
      server.emit('synchronization', { type: 'status', accountId: 'accountId', host: 'ps-mpa-2', connected: true,
        instanceIndex: 0 });
      await new _promise2.default(res => setTimeout(res, 50));
      await clock.tickAsync(15000);
      server.emit('synchronization', { type: 'status', accountId: 'accountId', host: 'ps-mpa-2', connected: true,
        instanceIndex: 0 });
      _sinon2.default.assert.notCalled(onDisconnectedStub);
      await new _promise2.default(res => setTimeout(res, 50));
      await clock.tickAsync(55000);
      _sinon2.default.assert.calledWith(onStreamClosedStub, 'vint-hill:0:ps-mpa-1');
      _sinon2.default.assert.notCalled(onDisconnectedStub);
      _sinon2.default.assert.notCalled(onTimeoutStub);
      await new _promise2.default(res => setTimeout(res, 50));
      await clock.tickAsync(15000);
      _sinon2.default.assert.calledWith(onDisconnectedStub, 'vint-hill:0:ps-mpa-2');
      _sinon2.default.assert.notCalled(client._subscriptionManager.onDisconnected);
      _sinon2.default.assert.calledWith(onTimeoutStub, 'accountId', 0);
    });

    it('should process server-side health status event', async () => {
      let listener = {
        onConnected: () => {},
        onBrokerConnectionStatusChanged: () => {},
        onHealthStatus: () => {}
      };
      sandbox.stub(listener, 'onHealthStatus').resolves();
      client.addSynchronizationListener('accountId', listener);
      server.emit('synchronization', { type: 'authenticated', accountId: 'accountId', host: 'ps-mpa-1',
        instanceIndex: 0 });
      server.emit('synchronization', { type: 'status', accountId: 'accountId', host: 'ps-mpa-1', connected: true,
        healthStatus: { restApiHealthy: true }, instanceIndex: 0 });
      await new _promise2.default(res => setTimeout(res, 50));
      _sinon2.default.assert.calledWith(listener.onHealthStatus, 'vint-hill:0:ps-mpa-1', { restApiHealthy: true });
    });

    it('should process disconnected synchronization event', async () => {
      let listener = {
        onConnected: () => {},
        onDisconnected: () => {},
        onStreamClosed: () => {}
      };
      sandbox.stub(listener, 'onDisconnected').resolves();
      sandbox.stub(listener, 'onStreamClosed').resolves();
      sandbox.stub(client._subscriptionManager, 'onDisconnected').resolves();
      client.addSynchronizationListener('accountId', listener);
      server.emit('synchronization', { type: 'authenticated', accountId: 'accountId', host: 'ps-mpa-1',
        instanceIndex: 0 });
      server.emit('synchronization', { type: 'disconnected', accountId: 'accountId', host: 'ps-mpa-1',
        instanceIndex: 0 });
      await new _promise2.default(res => setTimeout(res, 50));
      _sinon2.default.assert.calledWith(listener.onDisconnected, 'vint-hill:0:ps-mpa-1');
      _sinon2.default.assert.calledWith(client._subscriptionManager.onDisconnected, 'accountId', 0);
      _sinon2.default.assert.calledWith(listener.onStreamClosed, 'vint-hill:0:ps-mpa-1');
    });

    it('should close the stream if host name disconnected and another stream exists', async () => {
      let listener = {
        onConnected: () => {},
        onDisconnected: () => {},
        onStreamClosed: () => {}
      };
      sandbox.stub(listener, 'onDisconnected').resolves();
      sandbox.stub(listener, 'onStreamClosed').resolves();
      const onDisconnectedStub = sandbox.stub(client._subscriptionManager, 'onDisconnected').resolves();
      client.addSynchronizationListener('accountId', listener);
      server.emit('synchronization', { type: 'authenticated', accountId: 'accountId', host: 'ps-mpa-1',
        instanceIndex: 0, replicas: 2 });
      server.emit('synchronization', { type: 'authenticated', accountId: 'accountId', host: 'ps-mpa-2',
        instanceIndex: 0, replicas: 2 });
      server.emit('synchronization', { type: 'disconnected', accountId: 'accountId', host: 'ps-mpa-1',
        instanceIndex: 0 });
      await new _promise2.default(res => setTimeout(res, 50));
      _sinon2.default.assert.calledWith(listener.onStreamClosed, 'vint-hill:0:ps-mpa-1');
      _sinon2.default.assert.notCalled(listener.onDisconnected);
      _sinon2.default.assert.notCalled(onDisconnectedStub);
      server.emit('synchronization', { type: 'disconnected', accountId: 'accountId', host: 'ps-mpa-2',
        instanceIndex: 0 });
      await new _promise2.default(res => setTimeout(res, 50));
      _sinon2.default.assert.calledOnce(listener.onDisconnected);
      _sinon2.default.assert.calledWith(onDisconnectedStub, 'accountId', 0);
    });
  });

  describe('terminal state synchronization', () => {

    beforeEach(() => {
      sandbox.stub(client._subscriptionManager, 'isSubscriptionActive').returns(true);
    });

    afterEach(() => {
      client.removeAllListeners();
    });

    it('should only accept packets with own synchronization ids', async () => {
      let listener = {
        onAccountInformationUpdated: () => {},
        onSynchronizationStarted: () => {}
      };
      sandbox.stub(listener, 'onAccountInformationUpdated').resolves();
      client.addSynchronizationListener('accountId', listener);
      sandbox.stub(client._socketInstances['vint-hill'][0][0].synchronizationThrottler, 'activeSynchronizationIds').get(() => ['synchronizationId']);
      server.emit('synchronization', { type: 'accountInformation', accountId: 'accountId',
        accountInformation: {}, instanceIndex: 0 });
      await new _promise2.default(res => setTimeout(res, 50));
      _sinon2.default.assert.callCount(listener.onAccountInformationUpdated, 1);
      server.emit('synchronization', { type: 'synchronizationStarted', accountId: 'accountId',
        instanceIndex: 0, synchronizationId: 'synchronizationId' });
      await new _promise2.default(res => setTimeout(res, 50));
      server.emit('synchronization', { type: 'accountInformation', accountId: 'accountId',
        accountInformation: {}, instanceIndex: 0, synchronizationId: 'wrong' });
      await new _promise2.default(res => setTimeout(res, 50));
      _sinon2.default.assert.callCount(listener.onAccountInformationUpdated, 1);
      server.emit('synchronization', { type: 'accountInformation', accountId: 'accountId',
        accountInformation: {}, instanceIndex: 0, synchronizationId: 'synchronizationId' });
      await new _promise2.default(res => setTimeout(res, 50));
      _sinon2.default.assert.callCount(listener.onAccountInformationUpdated, 2);
    });

    /**
     * @test {MetaApiWebsocketClient#synchronize}
     */
    it('should synchronize with MetaTrader terminal', async () => {
      let requestReceived = false;
      // eslint-disable-next-line complexity
      server.on('request', data => {
        if (data.type === 'synchronize' && data.accountId === 'accountId' && data.host === 'ps-mpa-1' && data.startingHistoryOrderTime === '2020-01-01T00:00:00.000Z' && data.startingDealTime === '2020-01-02T00:00:00.000Z' && data.requestId === 'synchronizationId' && data.application === 'application' && data.instanceIndex === 0) {
          requestReceived = true;
          server.emit('response', { type: 'response', accountId: data.accountId, requestId: data.requestId });
        }
      });
      await client.synchronize('accountId', 0, 'ps-mpa-1', 'synchronizationId', new Date('2020-01-01T00:00:00.000Z'), new Date('2020-01-02T00:00:00.000Z'), () => ({
        specificationsMd5: '1111',
        positionsMd5: '2222',
        ordersMd5: '3333'
      }));
      requestReceived.should.be.true();
    });

    it('should process synchronization started event', async () => {
      client._socketInstances['vint-hill'][0][0].synchronizationThrottler = synchronizationThrottler;
      let listener = {
        onSynchronizationStarted: () => {},
        onPositionsSynchronized: () => {},
        onPendingOrdersSynchronized: () => {},
        onAccountInformationUpdated: () => {}
      };
      sandbox.stub(listener, 'onSynchronizationStarted').resolves();
      sandbox.stub(listener, 'onPositionsSynchronized').resolves();
      sandbox.stub(listener, 'onPendingOrdersSynchronized').resolves();
      client.addSynchronizationListener('accountId', listener);
      server.emit('synchronization', { type: 'synchronizationStarted', accountId: 'accountId', instanceIndex: 0,
        synchronizationId: 'synchronizationId', host: 'ps-mpa-1' });
      server.emit('synchronization', { type: 'accountInformation', accountId: 'accountId',
        accountInformation, instanceIndex: 0, host: 'ps-mpa-1', synchronizationId: 'synchronizationId' });
      await new _promise2.default(res => setTimeout(res, 100));
      _sinon2.default.assert.calledWith(listener.onSynchronizationStarted, 'vint-hill:0:ps-mpa-1', true, true, true);
      _sinon2.default.assert.notCalled(listener.onPositionsSynchronized);
      _sinon2.default.assert.notCalled(listener.onPendingOrdersSynchronized);
    });

    it('should process synchronization started event with no updates', async () => {
      client._socketInstances['vint-hill'][0][0].synchronizationThrottler = synchronizationThrottler;
      let listener = {
        onSynchronizationStarted: () => {},
        onPositionsSynchronized: () => {},
        onPendingOrdersSynchronized: () => {},
        onAccountInformationUpdated: () => {}
      };
      sandbox.stub(listener, 'onSynchronizationStarted').resolves();
      sandbox.stub(listener, 'onPositionsSynchronized').resolves();
      sandbox.stub(listener, 'onPendingOrdersSynchronized').resolves();
      client.addSynchronizationListener('accountId', listener);
      server.emit('synchronization', { type: 'synchronizationStarted', accountId: 'accountId', instanceIndex: 0,
        specificationsUpdated: false, positionsUpdated: false, ordersUpdated: false,
        synchronizationId: 'synchronizationId', host: 'ps-mpa-1' });
      server.emit('synchronization', { type: 'accountInformation', accountId: 'accountId',
        accountInformation, instanceIndex: 0, host: 'ps-mpa-1', synchronizationId: 'synchronizationId' });
      await new _promise2.default(res => setTimeout(res, 50));
      _sinon2.default.assert.calledWith(listener.onSynchronizationStarted, 'vint-hill:0:ps-mpa-1', false, false, false);
      _sinon2.default.assert.calledWith(listener.onPositionsSynchronized, 'vint-hill:0:ps-mpa-1', 'synchronizationId');
      _sinon2.default.assert.calledWith(listener.onPendingOrdersSynchronized, 'vint-hill:0:ps-mpa-1', 'synchronizationId');
    });

    it('should process synchronization started event without updating positions', async () => {
      let orders = [{
        id: '46871284',
        type: 'ORDER_TYPE_BUY_LIMIT',
        state: 'ORDER_STATE_PLACED',
        symbol: 'AUDNZD',
        magic: 123456,
        platform: 'mt5',
        time: new Date('2020-04-20T08:38:58.270Z'),
        openPrice: 1.03,
        currentPrice: 1.05206,
        volume: 0.01,
        currentVolume: 0.01,
        comment: 'COMMENT2'
      }];
      client._socketInstances['vint-hill'][0][0].synchronizationThrottler = synchronizationThrottler;
      let listener = {
        onSynchronizationStarted: () => {},
        onPositionsSynchronized: () => {},
        onPendingOrdersSynchronized: () => {},
        onPendingOrdersReplaced: () => {},
        onAccountInformationUpdated: () => {}
      };
      sandbox.stub(listener, 'onSynchronizationStarted').resolves();
      sandbox.stub(listener, 'onPositionsSynchronized').resolves();
      sandbox.stub(listener, 'onPendingOrdersSynchronized').resolves();
      client.addSynchronizationListener('accountId', listener);
      server.emit('synchronization', { type: 'synchronizationStarted', accountId: 'accountId', instanceIndex: 0,
        synchronizationId: 'synchronizationId', host: 'ps-mpa-1', positionsUpdated: false,
        ordersUpdated: true });
      server.emit('synchronization', { type: 'accountInformation', accountId: 'accountId',
        accountInformation, instanceIndex: 0, host: 'ps-mpa-1', synchronizationId: 'synchronizationId' });
      await new _promise2.default(res => setTimeout(res, 100));
      _sinon2.default.assert.calledWith(listener.onSynchronizationStarted, 'vint-hill:0:ps-mpa-1', true, false, true);
      _sinon2.default.assert.calledWith(listener.onPositionsSynchronized, 'vint-hill:0:ps-mpa-1', 'synchronizationId');
      _sinon2.default.assert.notCalled(listener.onPendingOrdersSynchronized);
      server.emit('synchronization', { type: 'orders', accountId: 'accountId', orders, instanceIndex: 0,
        synchronizationId: 'synchronizationId', host: 'ps-mpa-1' });
      await new _promise2.default(res => setTimeout(res, 100));
      _sinon2.default.assert.calledWith(listener.onPendingOrdersSynchronized, 'vint-hill:0:ps-mpa-1', 'synchronizationId');
    });

    it('should process synchronization started event without updating orders', async () => {
      let positions = [{
        id: '46214692',
        type: 'POSITION_TYPE_BUY',
        symbol: 'GBPUSD',
        magic: 1000,
        time: '2020-04-15T02:45:06.521Z',
        updateTime: '2020-04-15T02:45:06.521Z',
        openPrice: 1.26101,
        currentPrice: 1.24883,
        currentTickValue: 1,
        volume: 0.07,
        swap: 0,
        profit: -85.25999999999966,
        commission: -0.25,
        clientId: 'TE_GBPUSD_7hyINWqAlE',
        stopLoss: 1.17721,
        unrealizedProfit: -85.25999999999901,
        realizedProfit: -6.536993168992922e-13
      }];

      client._socketInstances['vint-hill'][0][0].synchronizationThrottler = synchronizationThrottler;
      let listener = {
        onSynchronizationStarted: () => {},
        onPositionsSynchronized: () => {},
        onPendingOrdersSynchronized: () => {},
        onPositionsReplaced: () => {},
        onAccountInformationUpdated: () => {}
      };
      sandbox.stub(listener, 'onSynchronizationStarted').resolves();
      sandbox.stub(listener, 'onPositionsSynchronized').resolves();
      sandbox.stub(listener, 'onPendingOrdersSynchronized').resolves();
      client.addSynchronizationListener('accountId', listener);
      server.emit('synchronization', { type: 'synchronizationStarted', accountId: 'accountId', instanceIndex: 0,
        synchronizationId: 'synchronizationId', host: 'ps-mpa-1', positionsUpdated: true,
        ordersUpdated: false });
      server.emit('synchronization', { type: 'accountInformation', accountId: 'accountId',
        accountInformation, instanceIndex: 0, host: 'ps-mpa-1', synchronizationId: 'synchronizationId' });
      await new _promise2.default(res => setTimeout(res, 100));
      _sinon2.default.assert.calledWith(listener.onSynchronizationStarted, 'vint-hill:0:ps-mpa-1', true, true, false);
      _sinon2.default.assert.notCalled(listener.onPositionsSynchronized);
      _sinon2.default.assert.notCalled(listener.onPendingOrdersSynchronized);
      server.emit('synchronization', { type: 'positions', accountId: 'accountId', positions, instanceIndex: 0,
        synchronizationId: 'synchronizationId', host: 'ps-mpa-1' });
      await new _promise2.default(res => setTimeout(res, 50));
      _sinon2.default.assert.calledWith(listener.onPositionsSynchronized, 'vint-hill:0:ps-mpa-1', 'synchronizationId');
      _sinon2.default.assert.calledWith(listener.onPendingOrdersSynchronized, 'vint-hill:0:ps-mpa-1', 'synchronizationId');
    });

    it('should synchronize account information', async () => {
      let listener = {
        onAccountInformationUpdated: () => {}
      };
      sandbox.stub(listener, 'onAccountInformationUpdated').resolves();
      client.addSynchronizationListener('accountId', listener);
      server.emit('synchronization', { type: 'accountInformation', accountId: 'accountId',
        host: 'ps-mpa-1', accountInformation, instanceIndex: 0 });
      await new _promise2.default(res => setTimeout(res, 50));
      _sinon2.default.assert.calledWith(listener.onAccountInformationUpdated, 'vint-hill:0:ps-mpa-1', accountInformation);
    });

    it('should synchronize positions', async () => {
      let positions = [{
        id: '46214692',
        type: 'POSITION_TYPE_BUY',
        symbol: 'GBPUSD',
        magic: 1000,
        time: new Date('2020-04-15T02:45:06.521Z'),
        updateTime: new Date('2020-04-15T02:45:06.521Z'),
        openPrice: 1.26101,
        currentPrice: 1.24883,
        currentTickValue: 1,
        volume: 0.07,
        swap: 0,
        profit: -85.25999999999966,
        commission: -0.25,
        clientId: 'TE_GBPUSD_7hyINWqAlE',
        stopLoss: 1.17721,
        unrealizedProfit: -85.25999999999901,
        realizedProfit: -6.536993168992922e-13
      }];
      client._socketInstances['vint-hill'][0][0].synchronizationThrottler = synchronizationThrottler;
      let listener = {
        onPositionsReplaced: () => {},
        onPositionsSynchronized: () => {},
        onSynchronizationStarted: () => {}
      };
      sandbox.stub(listener, 'onPositionsReplaced').resolves();
      sandbox.stub(listener, 'onPositionsSynchronized').resolves();
      client.addSynchronizationListener('accountId', listener);
      server.emit('synchronization', { type: 'synchronizationStarted', accountId: 'accountId',
        instanceIndex: 0, synchronizationId: 'synchronizationId', host: 'ps-mpa-1' });
      await new _promise2.default(res => setTimeout(res, 50));
      server.emit('synchronization', { type: 'positions', accountId: 'accountId', positions, instanceIndex: 0,
        synchronizationId: 'synchronizationId', host: 'ps-mpa-1' });
      await new _promise2.default(res => setTimeout(res, 50));
      _sinon2.default.assert.calledWith(listener.onPositionsReplaced, 'vint-hill:0:ps-mpa-1', positions);
      _sinon2.default.assert.calledWith(listener.onPositionsSynchronized, 'vint-hill:0:ps-mpa-1', 'synchronizationId');
    });

    it('should synchronize orders', async () => {
      let orders = [{
        id: '46871284',
        type: 'ORDER_TYPE_BUY_LIMIT',
        state: 'ORDER_STATE_PLACED',
        symbol: 'AUDNZD',
        magic: 123456,
        platform: 'mt5',
        time: new Date('2020-04-20T08:38:58.270Z'),
        openPrice: 1.03,
        currentPrice: 1.05206,
        volume: 0.01,
        currentVolume: 0.01,
        comment: 'COMMENT2'
      }];
      let listener = {
        onPendingOrdersReplaced: () => {},
        onPendingOrdersSynchronized: () => {},
        onSynchronizationStarted: () => {}
      };
      client._socketInstances['vint-hill'][0][0].synchronizationThrottler = synchronizationThrottler;
      sandbox.stub(listener, 'onPendingOrdersReplaced').resolves();
      sandbox.stub(listener, 'onPendingOrdersSynchronized').resolves();
      client.addSynchronizationListener('accountId', listener);
      server.emit('synchronization', { type: 'synchronizationStarted', accountId: 'accountId',
        instanceIndex: 0, synchronizationId: 'synchronizationId', host: 'ps-mpa-1' });
      await new _promise2.default(res => setTimeout(res, 50));
      server.emit('synchronization', { type: 'orders', accountId: 'accountId', orders, instanceIndex: 0,
        synchronizationId: 'synchronizationId', host: 'ps-mpa-1' });
      await new _promise2.default(res => setTimeout(res, 100));
      _sinon2.default.assert.calledWith(listener.onPendingOrdersReplaced, 'vint-hill:0:ps-mpa-1', orders);
      _sinon2.default.assert.calledWith(listener.onPendingOrdersSynchronized, 'vint-hill:0:ps-mpa-1', 'synchronizationId');
    });

    it('should synchronize history orders', async () => {
      let historyOrders = [{
        clientId: 'TE_GBPUSD_7hyINWqAlE',
        currentPrice: 1.261,
        currentVolume: 0,
        doneTime: new Date('2020-04-15T02:45:06.521Z'),
        id: '46214692',
        magic: 1000,
        platform: 'mt5',
        positionId: '46214692',
        state: 'ORDER_STATE_FILLED',
        symbol: 'GBPUSD',
        time: new Date('2020-04-15T02:45:06.260Z'),
        type: 'ORDER_TYPE_BUY',
        volume: 0.07
      }];
      let listener = {
        onHistoryOrderAdded: () => {}
      };
      sandbox.stub(listener, 'onHistoryOrderAdded').resolves();
      client.addSynchronizationListener('accountId', listener);
      server.emit('synchronization', { type: 'historyOrders', accountId: 'accountId', historyOrders,
        instanceIndex: 0, host: 'ps-mpa-1' });
      await new _promise2.default(res => setTimeout(res, 50));
      _sinon2.default.assert.calledWith(listener.onHistoryOrderAdded, 'vint-hill:0:ps-mpa-1', historyOrders[0]);
    });

    it('should synchronize deals', async () => {
      let deals = [{
        clientId: 'TE_GBPUSD_7hyINWqAlE',
        commission: -0.25,
        entryType: 'DEAL_ENTRY_IN',
        id: '33230099',
        magic: 1000,
        platform: 'mt5',
        orderId: '46214692',
        positionId: '46214692',
        price: 1.26101,
        profit: 0,
        swap: 0,
        symbol: 'GBPUSD',
        time: new Date('2020-04-15T02:45:06.521Z'),
        type: 'DEAL_TYPE_BUY',
        volume: 0.07
      }];
      let listener = {
        onDealAdded: () => {}
      };
      sandbox.stub(listener, 'onDealAdded').resolves();
      client.addSynchronizationListener('accountId', listener);
      server.emit('synchronization', { type: 'deals', accountId: 'accountId', deals, instanceIndex: 0,
        host: 'ps-mpa-1' });
      await new _promise2.default(res => setTimeout(res, 50));
      _sinon2.default.assert.calledWith(listener.onDealAdded, 'vint-hill:0:ps-mpa-1', deals[0]);
    });

    it('should process synchronization updates', async () => {
      let update = {
        accountInformation: {
          broker: 'True ECN Trading Ltd',
          currency: 'USD',
          server: 'ICMarketsSC-Demo',
          balance: 7319.9,
          equity: 7306.649913200001,
          margin: 184.1,
          freeMargin: 7120.22,
          leverage: 100,
          marginLevel: 3967.58283542
        },
        updatedPositions: [{
          id: '46214692',
          type: 'POSITION_TYPE_BUY',
          symbol: 'GBPUSD',
          magic: 1000,
          time: new Date('2020-04-15T02:45:06.521Z'),
          updateTime: new Date('2020-04-15T02:45:06.521Z'),
          openPrice: 1.26101,
          currentPrice: 1.24883,
          currentTickValue: 1,
          volume: 0.07,
          swap: 0,
          profit: -85.25999999999966,
          commission: -0.25,
          clientId: 'TE_GBPUSD_7hyINWqAlE',
          stopLoss: 1.17721,
          unrealizedProfit: -85.25999999999901,
          realizedProfit: -6.536993168992922e-13
        }],
        removedPositionIds: ['1234'],
        updatedOrders: [{
          id: '46871284',
          type: 'ORDER_TYPE_BUY_LIMIT',
          state: 'ORDER_STATE_PLACED',
          symbol: 'AUDNZD',
          magic: 123456,
          platform: 'mt5',
          time: new Date('2020-04-20T08:38:58.270Z'),
          openPrice: 1.03,
          currentPrice: 1.05206,
          volume: 0.01,
          currentVolume: 0.01,
          comment: 'COMMENT2'
        }],
        completedOrderIds: ['2345'],
        historyOrders: [{
          clientId: 'TE_GBPUSD_7hyINWqAlE',
          currentPrice: 1.261,
          currentVolume: 0,
          doneTime: new Date('2020-04-15T02:45:06.521Z'),
          id: '46214692',
          magic: 1000,
          platform: 'mt5',
          positionId: '46214692',
          state: 'ORDER_STATE_FILLED',
          symbol: 'GBPUSD',
          time: new Date('2020-04-15T02:45:06.260Z'),
          type: 'ORDER_TYPE_BUY',
          volume: 0.07
        }],
        deals: [{
          clientId: 'TE_GBPUSD_7hyINWqAlE',
          commission: -0.25,
          entryType: 'DEAL_ENTRY_IN',
          id: '33230099',
          magic: 1000,
          platform: 'mt5',
          orderId: '46214692',
          positionId: '46214692',
          price: 1.26101,
          profit: 0,
          swap: 0,
          symbol: 'GBPUSD',
          time: new Date('2020-04-15T02:45:06.521Z'),
          type: 'DEAL_TYPE_BUY',
          volume: 0.07
        }]
      };
      let listener = {
        onAccountInformationUpdated: () => {},
        onPositionUpdated: () => {},
        onPositionRemoved: () => {},
        onPendingOrderUpdated: () => {},
        onPendingOrderCompleted: () => {},
        onHistoryOrderAdded: () => {},
        onDealAdded: () => {}
      };
      sandbox.stub(listener, 'onAccountInformationUpdated').resolves();
      sandbox.stub(listener, 'onPositionUpdated').resolves();
      sandbox.stub(listener, 'onPositionRemoved').resolves();
      sandbox.stub(listener, 'onPendingOrderUpdated').resolves();
      sandbox.stub(listener, 'onPendingOrderCompleted').resolves();
      sandbox.stub(listener, 'onHistoryOrderAdded').resolves();
      sandbox.stub(listener, 'onDealAdded').resolves();
      client.addSynchronizationListener('accountId', listener);
      server.emit('synchronization', (0, _assign2.default)({ type: 'update', accountId: 'accountId', instanceIndex: 0,
        host: 'ps-mpa-1' }, update));
      await new _promise2.default(res => setTimeout(res, 100));
      _sinon2.default.assert.calledWith(listener.onAccountInformationUpdated, 'vint-hill:0:ps-mpa-1', update.accountInformation);
      _sinon2.default.assert.calledWith(listener.onPositionUpdated, 'vint-hill:0:ps-mpa-1', update.updatedPositions[0]);
      _sinon2.default.assert.calledWith(listener.onPositionRemoved, 'vint-hill:0:ps-mpa-1', update.removedPositionIds[0]);
      _sinon2.default.assert.calledWith(listener.onPendingOrderUpdated, 'vint-hill:0:ps-mpa-1', update.updatedOrders[0]);
      _sinon2.default.assert.calledWith(listener.onPendingOrderCompleted, 'vint-hill:0:ps-mpa-1', update.completedOrderIds[0]);
      _sinon2.default.assert.calledWith(listener.onHistoryOrderAdded, 'vint-hill:0:ps-mpa-1', update.historyOrders[0]);
      _sinon2.default.assert.calledWith(listener.onDealAdded, 'vint-hill:0:ps-mpa-1', update.deals[0]);
    });

    /**
     * @test {MetaApiWebsocketClient#getServerTime}
     */
    it('should retrieve server time from API', async () => {
      let serverTime = {
        time: new Date('2022-01-01T00:00:00.000Z'),
        brokerTime: '2022-01-01 02:00:00.000Z'
      };
      server.on('request', data => {
        if (data.type === 'getServerTime' && data.accountId === 'accountId' && data.application === 'RPC') {
          server.emit('response', {
            type: 'response', accountId: data.accountId, requestId: data.requestId,
            serverTime
          });
        }
      });
      let actual = await client.getServerTime('accountId');
      actual.should.match(serverTime);
    });

    /**
     * @test {MetaApiWebsocketClient#calculateMargin}
     */
    it('should calculate margin', async () => {
      let margin = {
        margin: 110
      };
      let order = {
        symbol: 'EURUSD',
        type: 'ORDER_TYPE_BUY',
        volume: 0.1,
        openPrice: 1.1
      };
      server.on('request', data => {
        if (data.type === 'calculateMargin' && data.accountId === 'accountId' && data.application === 'MetaApi' && (0, _stringify2.default)(data.order) === (0, _stringify2.default)(order)) {
          server.emit('response', {
            type: 'response', accountId: data.accountId, requestId: data.requestId,
            margin
          });
        }
      });
      let actual = await client.calculateMargin('accountId', 'MetaApi', 'high', order);
      actual.should.match(margin);
    });
  });

  describe('market data synchronization', () => {

    beforeEach(() => {
      sandbox.stub(client._subscriptionManager, 'isSubscriptionActive').returns(true);
    });

    afterEach(() => {
      client.removeAllListeners();
    });

    /**
     * @test {MetaApiWebsocketClient#rpcRequest}
     */
    it('should retry request on failure', async () => {
      let requestCounter = 0;
      let order = {
        id: '46871284',
        type: 'ORDER_TYPE_BUY_LIMIT',
        state: 'ORDER_STATE_PLACED',
        symbol: 'AUDNZD',
        magic: 123456,
        platform: 'mt5',
        time: new Date('2020-04-20T08:38:58.270Z'),
        openPrice: 1.03,
        currentPrice: 1.05206,
        volume: 0.01,
        currentVolume: 0.01,
        comment: 'COMMENT2'
      };
      server.on('request', data => {
        if (requestCounter > 1 && data.type === 'getOrder' && data.accountId === 'accountId' && data.orderId === '46871284' && data.application === 'RPC') {
          server.emit('response', { type: 'response', accountId: data.accountId, requestId: data.requestId, order });
        }
        requestCounter++;
      });
      let actual = await client.getOrder('accountId', '46871284');
      actual.should.match(order);
    }).timeout(20000);

    /**
     * @test {MetaApiWebsocketClient#rpcRequest}
     */
    it('should wait specified amount of time on too many requests error', async () => {
      let requestCounter = 0;
      let order = {
        id: '46871284',
        type: 'ORDER_TYPE_BUY_LIMIT',
        state: 'ORDER_STATE_PLACED',
        symbol: 'AUDNZD',
        magic: 123456,
        platform: 'mt5',
        time: new Date('2020-04-20T08:38:58.270Z'),
        openPrice: 1.03,
        currentPrice: 1.05206,
        volume: 0.01,
        currentVolume: 0.01,
        comment: 'COMMENT2'
      };
      server.on('request', data => {
        if (requestCounter > 0 && data.type === 'getOrder' && data.accountId === 'accountId' && data.orderId === '46871284' && data.application === 'RPC') {
          server.emit('response', { type: 'response', accountId: data.accountId, requestId: data.requestId, order });
        } else {
          server.emit('processingError', {
            id: 1, error: 'TooManyRequestsError', requestId: data.requestId,
            message: 'The API allows 10000 requests per 60 minutes to avoid overloading our servers.',
            status_code: 429, metadata: {
              periodInMinutes: 60, maxRequestsForPeriod: 10000,
              recommendedRetryTime: new Date(Date.now() + 1000)
            }
          });
        }
        requestCounter++;
      });
      const startTime = Date.now();
      let actual = await client.getOrder('accountId', '46871284');
      actual.should.match(order);
      (Date.now() - startTime).should.be.approximately(1000, 100);
    }).timeout(10000);

    /**
     * @test {MetaApiWebsocketClient#rpcRequest}
     */
    it('should return too many requests exception if recommended time is beyond max request time', async () => {
      let requestCounter = 0;
      let order = {
        id: '46871284',
        type: 'ORDER_TYPE_BUY_LIMIT',
        state: 'ORDER_STATE_PLACED',
        symbol: 'AUDNZD',
        magic: 123456,
        platform: 'mt5',
        time: new Date('2020-04-20T08:38:58.270Z'),
        openPrice: 1.03,
        currentPrice: 1.05206,
        volume: 0.01,
        currentVolume: 0.01,
        comment: 'COMMENT2'
      };
      server.on('request', data => {
        if (requestCounter > 0 && data.type === 'getOrder' && data.accountId === 'accountId' && data.orderId === '46871284' && data.application === 'RPC') {
          server.emit('response', { type: 'response', accountId: data.accountId, requestId: data.requestId, order });
        } else {
          server.emit('processingError', {
            id: 1, error: 'TooManyRequestsError', requestId: data.requestId,
            message: 'The API allows 10000 requests per 60 minutes to avoid overloading our servers.',
            status_code: 429, metadata: {
              periodInMinutes: 60, maxRequestsForPeriod: 10000,
              recommendedRetryTime: new Date(Date.now() + 60000)
            }
          });
        }
        requestCounter++;
      });

      try {
        await client.getOrder('accountId', '46871284');
        throw new Error('TooManyRequestsError expected');
      } catch (err) {
        err.name.should.equal('TooManyRequestsError');
      }
    }).timeout(10000);

    /**
     * @test {MetaApiWebsocketClient#rpcRequest}
     */
    it('should not retry request on validation error', async () => {
      let requestCounter = 0;
      server.on('request', data => {
        if (requestCounter > 0 && data.type === 'subscribeToMarketData' && data.accountId === 'accountId' && data.symbol === 'EURUSD' && data.application === 'application' && data.instanceIndex === 0) {
          server.emit('response', { type: 'response', accountId: data.accountId, requestId: data.requestId });
        } else {
          server.emit('processingError', {
            id: 1, error: 'ValidationError', message: 'Error message', requestId: data.requestId
          });
        }
        requestCounter++;
      });
      try {
        await client.subscribeToMarketData('accountId', 'EURUSD', 'regular');
        throw new Error('ValidationError expected');
      } catch (err) {
        err.name.should.equal('ValidationError');
      }
      _sinon2.default.assert.match(requestCounter, 1);
    }).timeout(6000);

    /**
     * @test {MetaApiWebsocketClient#rpcRequest}
     */
    it('should not retry trade requests on fail', async () => {
      let requestCounter = 0;
      let trade = {
        actionType: 'ORDER_TYPE_SELL',
        symbol: 'AUDNZD',
        volume: 0.07
      };
      server.on('request', data => {
        if (data.type === 'trade' && data.accountId === 'accountId' && data.application === 'application') {
          if (requestCounter > 0) {
            _sinon2.default.assert.fail();
          }
          requestCounter++;
        }
      });
      try {
        await client.trade('accountId', trade);
        throw new Error('TimeoutError expected');
      } catch (err) {
        err.name.should.equal('TimeoutError');
      }
    }).timeout(6000);

    /**
     * @test {MetaApiWebsocketClient#rpcRequest}
     */
    it('should not retry request if connection closed between retries', async () => {
      let requestCounter = 0;
      let response = { type: 'response', accountId: 'accountId' };
      server.on('request', async data => {
        if (data.type === 'unsubscribe' && data.accountId === 'accountId') {
          server.emit('response', (0, _assign2.default)({ requestId: data.requestId }, response));
        }

        if (data.type === 'getOrders' && data.accountId === 'accountId' && data.application === 'RPC') {
          requestCounter++;
          server.emit('processingError', {
            id: 1, error: 'NotSynchronizedError', message: 'Error message',
            requestId: data.requestId
          });
        }
      });
      client.unsubscribe('accountId');
      try {
        await client.getOrders('accountId');
        throw new Error('NotSynchronizedError expected');
      } catch (err) {
        err.name.should.equal('NotSynchronizedError');
      }
      requestCounter.should.equal(1);
      client.socketInstancesByAccounts.should.not.have.property('accountId');
    });

    /**
     * @test {MetaApiWebsocketClient#rpcRequest}
     */
    it('should return timeout error if no server response received', async () => {
      let trade = {
        actionType: 'ORDER_TYPE_SELL',
        symbol: 'AUDNZD',
        volume: 0.07
      };
      server.on('request', data => {});
      try {
        await client.trade('accountId', trade);
        throw new Error('TimeoutError extected');
      } catch (err) {
        err.name.should.equal('TimeoutError');
      }
    }).timeout(20000);

    /**
     * @test {MetaApiWebsocketClient#subscribeToMarketData}
     */
    it('should subscribe to market data with MetaTrader terminal', async () => {
      let requestReceived = false;
      server.emit('synchronization', { type: 'authenticated', accountId: 'accountId', host: 'ps-mpa-1',
        instanceIndex: 0, replicas: 1 });
      await new _promise2.default(res => setTimeout(res, 50));
      server.on('request', data => {
        if (data.type === 'subscribeToMarketData' && data.accountId === 'accountId' && data.symbol === 'EURUSD' && data.application === 'application' && data.instanceIndex === 0 && (0, _stringify2.default)(data.subscriptions) === (0, _stringify2.default)([{ type: 'quotes' }])) {
          requestReceived = true;
          server.emit('response', { type: 'response', accountId: data.accountId, requestId: data.requestId });
        }
      });
      await client.subscribeToMarketData('accountId', 'EURUSD', [{ type: 'quotes' }], 'regular');
      requestReceived.should.be.true();
    });

    /**
     * @test {MetaApiWebsocketClient#subscribeToMarketData}
     */
    it('should subscribe to market data with MetaTrader terminal for high reliability account', async () => {
      let requestReceived = false;
      let requestReceived1 = false;
      server.on('request', data => {
        if (data.type === 'subscribeToMarketData' && data.accountId === 'accountId' && data.symbol === 'EURUSD' && data.application === 'application' && data.instanceIndex === 0 && (0, _stringify2.default)(data.subscriptions) === (0, _stringify2.default)([{ type: 'quotes' }])) {
          requestReceived = true;
          server.emit('response', { type: 'response', accountId: data.accountId, requestId: data.requestId });
        }
      });
      server1.on('request', data => {
        if (data.type === 'subscribeToMarketData' && data.accountId === 'accountId' && data.symbol === 'EURUSD' && data.application === 'application' && data.instanceIndex === 1 && (0, _stringify2.default)(data.subscriptions) === (0, _stringify2.default)([{ type: 'quotes' }])) {
          requestReceived1 = true;
          server.emit('response', { type: 'response', accountId: data.accountId, requestId: data.requestId });
        }
      });
      await client.subscribeToMarketData('accountId', 'EURUSD', [{ type: 'quotes' }], 'high');
      await new _promise2.default(res => setTimeout(res, 100));
      requestReceived.should.be.true();
      requestReceived1.should.be.true();
    });

    /**
     * @test {MetaApiWebsocketClient#refreshMarketDataSubscriptions}
     */
    it('should refresh market data subscriptions', async () => {
      let requestReceived = false;
      server.on('request', data => {
        if (data.type === 'refreshMarketDataSubscriptions' && data.accountId === 'accountId' && data.application === 'application' && data.instanceIndex === 0 && (0, _stringify2.default)(data.subscriptions) === (0, _stringify2.default)([{ symbol: 'EURUSD' }])) {
          requestReceived = true;
          server.emit('response', { type: 'response', accountId: data.accountId, requestId: data.requestId });
        }
      });
      await client.refreshMarketDataSubscriptions('accountId', 0, [{ symbol: 'EURUSD' }]);
      requestReceived.should.be.true();
    });

    /**
     * @test {MetaApiWebsocketClient#unsubscribeFromMarketData}
     */
    it('should unsubscribe from market data with MetaTrader terminal', async () => {
      let requestReceived = false;
      server.emit('synchronization', { type: 'authenticated', accountId: 'accountId', host: 'ps-mpa-1',
        instanceIndex: 0, replicas: 1 });
      await new _promise2.default(res => setTimeout(res, 50));
      server.on('request', data => {
        if (data.type === 'unsubscribeFromMarketData' && data.accountId === 'accountId' && data.symbol === 'EURUSD' && data.application === 'application' && data.instanceIndex === 0 && (0, _stringify2.default)(data.subscriptions) === (0, _stringify2.default)([{ type: 'quotes' }])) {
          requestReceived = true;
          server.emit('response', { type: 'response', accountId: data.accountId, requestId: data.requestId });
        }
      });
      await client.unsubscribeFromMarketData('accountId', 'EURUSD', [{ type: 'quotes' }], 'regular');
      requestReceived.should.be.true();
    });

    it('should finish synchronizing deals', async () => {
      client._socketInstances['vint-hill'][0][0].synchronizationThrottler = synchronizationThrottler;
      sandbox.stub(synchronizationThrottler, 'activeSynchronizationIds').get(() => ['ABC']);
      let listener = {
        onSynchronizationStarted: () => {},
        onDealsSynchronized: () => {}
      };
      const syncStub = sandbox.stub(listener, 'onDealsSynchronized').resolves();
      sandbox.stub(synchronizationThrottler, 'removeSynchronizationId').returns();
      client.addSynchronizationListener('accountId', listener);
      server.emit('synchronization', { type: 'synchronizationStarted', accountId: 'accountId', host: 'ps-mpa-1',
        instanceIndex: 0, synchronizationId: 'ABC' });
      server.emit('synchronization', { type: 'dealSynchronizationFinished', accountId: 'accountId', host: 'ps-mpa-1',
        instanceIndex: 0, synchronizationId: 'ABC' });
      await new _promise2.default(res => setTimeout(res, 50));
      _sinon2.default.assert.calledWith(syncStub, 'vint-hill:0:ps-mpa-1', 'ABC');
      _sinon2.default.assert.calledWith(client._latencyService.onDealsSynchronized, 'accountId:vint-hill:0:ps-mpa-1');
      _sinon2.default.assert.calledWith(synchronizationThrottler.removeSynchronizationId, 'ABC');
    });

    it('should finish synchronizing orders', async () => {
      client._socketInstances['vint-hill'][0][0].synchronizationThrottler = synchronizationThrottler;
      sandbox.stub(synchronizationThrottler, 'activeSynchronizationIds').get(() => ['ABC']);
      let listener = {
        onSynchronizationStarted: () => {},
        onHistoryOrdersSynchronized: () => {}
      };
      const syncStub = sandbox.stub(listener, 'onHistoryOrdersSynchronized').resolves();
      client.addSynchronizationListener('accountId', listener);
      server.emit('synchronization', { type: 'synchronizationStarted', accountId: 'accountId', host: 'ps-mpa-1',
        instanceIndex: 0, synchronizationId: 'ABC' });
      server.emit('synchronization', { type: 'orderSynchronizationFinished', accountId: 'accountId', host: 'ps-mpa-1',
        instanceIndex: 0, synchronizationId: 'ABC' });
      await new _promise2.default(res => setTimeout(res, 50));
      _sinon2.default.assert.calledWith(syncStub, 'vint-hill:0:ps-mpa-1', 'ABC');
    });

    it('should downgrade subscription', async () => {
      let listener = {
        onSynchronizationStarted: () => {},
        onSubscriptionDowngraded: () => {}
      };
      const syncStub = sandbox.stub(listener, 'onSubscriptionDowngraded').resolves();
      client.addSynchronizationListener('accountId', listener);
      server.emit('synchronization', { type: 'downgradeSubscription', accountId: 'accountId', host: 'ps-mpa-1',
        instanceIndex: 0, symbol: 'EURUSD', unsubscriptions: [{ type: 'ticks' }, { type: 'books' }] });
      await new _promise2.default(res => setTimeout(res, 50));
      _sinon2.default.assert.calledWith(syncStub, 'vint-hill:0:ps-mpa-1', 'EURUSD', undefined, [{ type: 'ticks' }, { type: 'books' }]);
    });

    it('should synchronize symbol specifications', async () => {
      let specifications = [{
        symbol: 'EURUSD',
        tickSize: 0.00001,
        minVolume: 0.01,
        maxVolume: 200,
        volumeStep: 0.01
      }];
      let listener = {
        onSymbolSpecificationsUpdated: () => {},
        onSymbolSpecificationUpdated: () => {},
        onSymbolSpecificationRemoved: () => {}
      };
      sandbox.stub(listener, 'onSymbolSpecificationsUpdated').resolves();
      sandbox.stub(listener, 'onSymbolSpecificationUpdated').resolves();
      sandbox.stub(listener, 'onSymbolSpecificationRemoved').resolves();
      client.addSynchronizationListener('accountId', listener);
      server.emit('synchronization', { type: 'specifications', accountId: 'accountId', specifications, instanceIndex: 0, host: 'ps-mpa-1',
        removedSymbols: ['AUDNZD'] });
      await new _promise2.default(res => setTimeout(res, 50));
      _sinon2.default.assert.calledWith(listener.onSymbolSpecificationsUpdated, 'vint-hill:0:ps-mpa-1', specifications, ['AUDNZD']);
      _sinon2.default.assert.calledWith(listener.onSymbolSpecificationUpdated, 'vint-hill:0:ps-mpa-1', specifications[0]);
      _sinon2.default.assert.calledWith(listener.onSymbolSpecificationRemoved, 'vint-hill:0:ps-mpa-1', 'AUDNZD');
    });

    it('should synchronize symbol prices', async () => {
      let prices = [{
        symbol: 'AUDNZD',
        bid: 1.05916,
        ask: 1.05927,
        profitTickValue: 0.602,
        lossTickValue: 0.60203
      }];
      let ticks = [{
        symbol: 'AUDNZD',
        time: new Date('2020-04-07T03:45:00.000Z'),
        brokerTime: '2020-04-07 06:45:00.000',
        bid: 1.05297,
        ask: 1.05309,
        last: 0.5298,
        volume: 0.13,
        side: 'buy'
      }];
      let candles = [{
        symbol: 'AUDNZD',
        timeframe: '15m',
        time: new Date('2020-04-07T03:45:00.000Z'),
        brokerTime: '2020-04-07 06:45:00.000',
        open: 1.03297,
        high: 1.06309,
        low: 1.02705,
        close: 1.043,
        tickVolume: 1435,
        spread: 17,
        volume: 345
      }];
      let books = [{
        symbol: 'AUDNZD',
        time: new Date('2020-04-07T03:45:00.000Z'),
        brokerTime: '2020-04-07 06:45:00.000',
        book: [{
          type: 'BOOK_TYPE_SELL',
          price: 1.05309,
          volume: 5.67
        }, {
          type: 'BOOK_TYPE_BUY',
          price: 1.05297,
          volume: 3.45
        }]
      }];
      let listener = {
        onSymbolPriceUpdated: () => {},
        onSymbolPricesUpdated: () => {},
        onCandlesUpdated: () => {},
        onTicksUpdated: () => {},
        onBooksUpdated: () => {}
      };
      sandbox.stub(listener, 'onSymbolPriceUpdated').resolves();
      sandbox.stub(listener, 'onSymbolPricesUpdated').resolves();
      sandbox.stub(listener, 'onCandlesUpdated').resolves();
      sandbox.stub(listener, 'onTicksUpdated').resolves();
      sandbox.stub(listener, 'onBooksUpdated').resolves();
      client.addSynchronizationListener('accountId', listener);
      server.emit('synchronization', { type: 'prices', accountId: 'accountId', host: 'ps-mpa-1', prices,
        ticks, candles, books, equity: 100, margin: 200, freeMargin: 400, marginLevel: 40000, instanceIndex: 0 });
      await new _promise2.default(res => setTimeout(res, 50));
      _sinon2.default.assert.calledWith(listener.onSymbolPricesUpdated, 'vint-hill:0:ps-mpa-1', prices, 100, 200, 400, 40000);
      _sinon2.default.assert.calledWith(listener.onCandlesUpdated, 'vint-hill:0:ps-mpa-1', candles, 100, 200, 400, 40000);
      _sinon2.default.assert.calledWith(listener.onTicksUpdated, 'vint-hill:0:ps-mpa-1', ticks, 100, 200, 400, 40000);
      _sinon2.default.assert.calledWith(listener.onBooksUpdated, 'vint-hill:0:ps-mpa-1', books, 100, 200, 400, 40000);
      _sinon2.default.assert.calledWith(listener.onSymbolPriceUpdated, 'vint-hill:0:ps-mpa-1', prices[0]);
    });
  });

  describe('wait for server-side terminal state synchronization', () => {

    afterEach(() => {
      client.removeAllListeners();
    });

    /**
     * @test {MetaApiWebsocketClient#waitSynchronized}
     */
    it('should wait for server-side terminal state synchronization', async () => {
      let requestReceived = false;
      server.on('request', data => {
        if (data.type === 'waitSynchronized' && data.accountId === 'accountId' && data.applicationPattern === 'app.*' && data.timeoutInSeconds === 10 && data.application === 'application' && data.instanceIndex === 0) {
          requestReceived = true;
          server.emit('response', { type: 'response', accountId: data.accountId, requestId: data.requestId });
        }
      });
      await client.waitSynchronized('accountId', 0, 'app.*', 10);
      requestReceived.should.be.true();
    });
  });

  describe('latency monitoring', () => {

    beforeEach(() => {
      sandbox.stub(client._subscriptionManager, 'isSubscriptionActive').returns(true);
    });

    /**
     * @test {LatencyListener#onResponse}
     */
    it('should invoke latency listener on response', async () => {
      let accountId;
      let requestType;
      let actualTimestamps;
      let listener = {
        onResponse: (aid, type, ts) => {
          accountId = aid;
          requestType = type;
          actualTimestamps = ts;
        }
      };
      client.addLatencyListener(listener);
      let price = {};
      let timestamps;
      server.on('request', data => {
        if (data.type === 'getSymbolPrice' && data.accountId === 'accountId' && data.symbol === 'AUDNZD' && data.application === 'RPC' && data.timestamps.clientProcessingStarted) {
          timestamps = (0, _assign2.default)(data.timestamps, { serverProcessingStarted: new Date(),
            serverProcessingFinished: new Date() });
          timestamps.clientProcessingStarted = new Date(timestamps.clientProcessingStarted);
          server.emit('response', { type: 'response', accountId: data.accountId, requestId: data.requestId, price,
            timestamps });
        }
      });
      await client.getSymbolPrice('accountId', 'AUDNZD');
      await new _promise2.default(res => setTimeout(res, 100));
      accountId.should.equal('accountId');
      requestType.should.equal('getSymbolPrice');
      actualTimestamps.should.match(timestamps);
      _should2.default.exist(actualTimestamps.clientProcessingStarted);
      _should2.default.exist(actualTimestamps.clientProcessingFinished);
      _should2.default.exist(actualTimestamps.serverProcessingStarted);
      _should2.default.exist(actualTimestamps.serverProcessingFinished);
    });

    /**
     * @test {LatencyListener#onSymbolPrice}
     */
    it('should measure price streaming latencies', async () => {
      let prices = [{
        symbol: 'AUDNZD',
        timestamps: {
          eventGenerated: new Date(),
          serverProcessingStarted: new Date(),
          serverProcessingFinished: new Date()
        }
      }];
      let accountId;
      let symbol;
      let actualTimestamps;
      let listener = {
        onSymbolPrice: (aid, sym, ts) => {
          accountId = aid;
          symbol = sym;
          actualTimestamps = ts;
        }
      };
      client.addLatencyListener(listener);
      server.emit('synchronization', { type: 'prices', accountId: 'accountId', prices, equity: 100, margin: 200,
        freeMargin: 400, marginLevel: 40000 });
      await new _promise2.default(res => setTimeout(res, 50));
      accountId.should.equal('accountId');
      symbol.should.equal('AUDNZD');
      actualTimestamps.should.match(prices[0].timestamps);
      _should2.default.exist(actualTimestamps.clientProcessingFinished);
    });

    /**
     * @test {LatencyListener#onUpdate}
     */
    it('should measure update latencies', async () => {
      let update = {
        timestamps: {
          eventGenerated: new Date(),
          serverProcessingStarted: new Date(),
          serverProcessingFinished: new Date()
        }
      };
      let accountId;
      let actualTimestamps;
      let listener = {
        onUpdate: (aid, ts) => {
          accountId = aid;
          actualTimestamps = ts;
        }
      };
      client.addLatencyListener(listener);
      server.emit('synchronization', (0, _assign2.default)({ type: 'update', accountId: 'accountId' }, update));
      await new _promise2.default(res => setTimeout(res, 50));
      accountId.should.equal('accountId');
      actualTimestamps.should.match(update.timestamps);
      _should2.default.exist(actualTimestamps.clientProcessingFinished);
    });

    /**
     * @test {LatencyListener#onTrade}
     */
    it('should process trade latency', async () => {
      let trade = {};
      let response = {
        numericCode: 10009,
        stringCode: 'TRADE_RETCODE_DONE',
        message: 'Request completed',
        orderId: '46870472'
      };
      let timestamps = {
        clientExecutionStarted: new Date(),
        serverExecutionStarted: new Date(),
        serverExecutionFinished: new Date(),
        tradeExecuted: new Date()
      };
      let accountId;
      let actualTimestamps;
      let listener = {
        onTrade: (aid, ts) => {
          accountId = aid;
          actualTimestamps = ts;
        }
      };
      client.addLatencyListener(listener);
      server.on('request', data => {
        data.trade.should.match(trade);
        if (data.type === 'trade' && data.accountId === 'accountId' && data.application === 'application') {
          server.emit('response', { type: 'response', accountId: data.accountId, requestId: data.requestId, response,
            timestamps });
        }
      });
      await client.trade('accountId', trade);
      accountId.should.equal('accountId');
      actualTimestamps.should.match(timestamps);
      _should2.default.exist(actualTimestamps.clientProcessingFinished);
    });
  });

  it('should reconnect to server on disconnect', async () => {
    const trade = {
      actionType: 'ORDER_TYPE_SELL',
      symbol: 'AUDNZD',
      volume: 0.07
    };
    const response = {
      numericCode: 10009,
      stringCode: 'TRADE_RETCODE_DONE',
      message: 'Request completed',
      orderId: '46870472'
    };
    let listener = {
      onReconnected: () => {}
    };
    sandbox.stub(listener, 'onReconnected').resolves();
    sandbox.stub(client._packetOrderer, 'onReconnected').resolves();
    sandbox.stub(client._subscriptionManager, 'onReconnected').resolves();
    client.addReconnectListener(listener, 'accountId');
    let requestCounter = 0;
    server.on('request', async data => {
      if (data.type === 'trade' && data.accountId === 'accountId' && data.application === 'application') {
        requestCounter++;
        await server.emit('response', { type: 'response', accountId: data.accountId,
          requestId: data.requestId, response });
      }
      await server.disconnect();
    });

    client.trade('accountId', trade);
    await new _promise2.default(res => setTimeout(res, 50));
    await clock.tickAsync(1500);
    await new _promise2.default(res => setTimeout(res, 50));
    _sinon2.default.assert.calledOnce(listener.onReconnected);
    _sinon2.default.assert.calledWith(client._subscriptionManager.onReconnected, 0, 0, ['accountId']);
    _sinon2.default.assert.calledWith(client._packetOrderer.onReconnected, ['accountId']);

    server.on('request', async data => {
      if (data.type === 'trade' && data.accountId === 'accountId' && data.application === 'application') {
        requestCounter++;
        await server.emit('response', { type: 'response', accountId: data.accountId,
          requestId: data.requestId, response });
      }
      await server.disconnect();
    });

    client.trade('accountId', trade);
    await new _promise2.default(res => setTimeout(res, 50));
    await clock.tickAsync(1500);
    await new _promise2.default(res => setTimeout(res, 50));
    _sinon2.default.assert.match(requestCounter, 2);
  });

  /**
   * @test {MetaApiWebsocketClient#rpcRequest}
   */
  it('should cancel synchronization on disconnect', async () => {
    sandbox.stub(client._subscriptionManager, 'isSubscriptionActive').returns(true);
    activeSynchronizationIdsStub.get(() => ['synchronizationId', 'ABC2', 'ABC3', 'ABC4']);
    client._socketInstancesByAccounts[0].accountId2 = 1;
    client._socketInstancesByAccounts[0].accountId3 = 0;
    client._socketInstancesByAccounts[1].accountId4 = 0;
    client.addAccountCache('accountId2', { 'vint-hill': 'accountId2' });
    client.addAccountCache('accountId3', { 'new-york': 'accountId3' });
    client.addAccountCache('accountId4', { 'vint-hill': 'accountId4' });
    server.emit('synchronization', { type: 'synchronizationStarted', accountId: 'accountId',
      sequenceTimestamp: 1603124267178, synchronizationId: 'synchronizationId' });
    server.emit('synchronization', { type: 'synchronizationStarted', accountId: 'accountId2',
      sequenceTimestamp: 1603124267178, synchronizationId: 'ABC2' });
    server.emit('synchronization', { type: 'synchronizationStarted', accountId: 'accountId3',
      sequenceTimestamp: 1603124267178, synchronizationId: 'ABC3' });
    server.emit('synchronization', { type: 'synchronizationStarted', accountId: 'accountId4',
      sequenceTimestamp: 1603124267178, synchronizationId: 'ABC4' });
    await new _promise2.default(res => setTimeout(res, 50));
    _should2.default.exist(client._synchronizationFlags.synchronizationId);
    _should2.default.exist(client._synchronizationFlags.ABC2);
    _should2.default.exist(client._synchronizationFlags.ABC3);
    _should2.default.exist(client._synchronizationFlags.ABC4);
    await server.disconnect();
    await new _promise2.default(res => setTimeout(res, 1200));
    _should2.default.not.exist(client._synchronizationFlags.synchronizationId);
    _should2.default.exist(client._synchronizationFlags.ABC2);
    _should2.default.exist(client._synchronizationFlags.ABC3);
    _should2.default.exist(client._synchronizationFlags.ABC4);
  });

  /**
   * @test {MetaApiWebsocketClient#rpcRequest}
   */
  it('should remove reconnect listener', async () => {
    let trade = {
      actionType: 'ORDER_TYPE_SELL',
      symbol: 'AUDNZD',
      volume: 0.07
    };
    let response = {
      numericCode: 10009,
      stringCode: 'TRADE_RETCODE_DONE',
      message: 'Request completed',
      orderId: '46870472'
    };
    const listener = { onReconnected: async () => {} };
    sandbox.stub(listener, 'onReconnected').resolves();
    client.addReconnectListener(listener, 'accountId');
    sandbox.stub(client._subscriptionManager, 'onReconnected');
    let requestCounter = 0;
    server.on('request', data => {
      data.trade.should.match(trade);
      requestCounter++;
      if (data.type === 'trade' && data.accountId === 'accountId' && data.application === 'application') {
        server.emit('response', { type: 'response', accountId: data.accountId, requestId: data.requestId, response });
      }
      server.disconnect();
    });

    await client.trade('accountId', trade);
    await new _promise2.default(res => setTimeout(res, 50));
    await clock.tickAsync(1100);
    await new _promise2.default(res => setTimeout(res, 50));
    _sinon2.default.assert.calledOnce(listener.onReconnected);
    client.removeReconnectListener(listener);

    server.on('request', data => {
      data.trade.should.match(trade);
      requestCounter++;
      if (data.type === 'trade' && data.accountId === 'accountId' && data.application === 'application') {
        server.emit('response', { type: 'response', accountId: data.accountId, requestId: data.requestId, response });
      }
      server.disconnect();
    });

    await client.trade('accountId', trade);
    await new _promise2.default(res => setTimeout(res, 50));
    await clock.tickAsync(1100);
    await new _promise2.default(res => setTimeout(res, 50));
    _sinon2.default.assert.calledOnce(listener.onReconnected);
    _sinon2.default.assert.match(requestCounter, 2);
  });

  /**
   * @test {MetaApiWebsocketClient#queuePacket}
   */
  it('should process packets in order', async () => {
    let ordersCallTime = 0;
    let positionsCallTime = 0;
    let disconnectedCallTime = 0;
    let pricesCallTime = 0;
    let listener = {
      onConnected: () => {},
      onDisconnected: async () => {
        await new _promise2.default(res => setTimeout(res, 5000));
        disconnectedCallTime = Date.now();
      },
      onStreamClosed: () => {},
      onPendingOrdersReplaced: async () => {
        await new _promise2.default(res => setTimeout(res, 10000));
        ordersCallTime = Date.now();
      },
      onPendingOrdersSynchronized: () => {},
      onPositionsReplaced: async () => {
        await new _promise2.default(res => setTimeout(res, 1000));
        positionsCallTime = Date.now();
      },
      onPositionsSynchronized: () => {},
      onSymbolPriceUpdated: () => {},
      onSymbolPricesUpdated: async () => {
        await new _promise2.default(res => setTimeout(res, 1000));
        pricesCallTime = Date.now();
      }
    };
    let resolve;
    let promise = new _promise2.default(res => resolve = res);
    client.close();
    io.close(() => resolve());
    await promise;
    io = new _socket2.default(6785, { path: '/ws', pingTimeout: 1000000 });
    client = new _metaApiWebsocket2.default(domainClient, 'token', { application: 'application',
      domain: 'project-stock.agiliumlabs.cloud', requestTimeout: 1.5, useSharedClientApi: false,
      retryOpts: { retries: 3, minDelayInSeconds: 0.1, maxDelayInSeconds: 0.5 },
      eventProcessing: { sequentialProcessing: true } });
    sandbox.stub(client._latencyService, 'onConnected').returns();
    sandbox.stub(client._latencyService, 'onDisconnected').returns();
    sandbox.stub(client._latencyService, 'onUnsubscribe').returns();
    client.url = 'http://localhost:6785';
    client.addAccountCache('accountId', { 'vint-hill': 'accountId' });
    sandbox.stub(client._subscriptionManager, 'isSubscriptionActive').returns(true);
    io.on('connect', socket => {
      server = socket;
      if (socket.request._query['auth-token'] !== 'token') {
        socket.emit({ error: 'UnauthorizedError', message: 'Authorization token invalid' });
        socket.close();
      }
      server.on('request', data => {
        if (data.type === 'getPositions' && data.accountId === 'accountId' && data.application === 'RPC') {
          server.emit('response', { type: 'response', accountId: data.accountId,
            requestId: data.requestId, positions: [] });
        } else if (data.type === 'subscribe') {
          server.emit('response', { type: 'response', accountId: data.accountId,
            requestId: data.requestId });
        }
      });
    });
    await client.subscribe('accountId', 1);
    await client.getPositions('accountId');
    client.addSynchronizationListener('accountId', listener);
    sandbox.stub(client._packetOrderer, 'restoreOrder').callsFake(arg => {
      return [arg];
    });
    server.emit('synchronization', { type: 'authenticated', accountId: 'accountId', host: 'ps-mpa-1',
      instanceIndex: 0, replicas: 2, sequenceNumber: 1 });
    await new _promise2.default(res => setTimeout(res, 50));
    await clock.tickAsync(59000);
    server.emit('synchronization', { type: 'orders', accountId: 'accountId', orders: [], instanceIndex: 0,
      host: 'ps-mpa-1', sequenceNumber: 2 });
    server.emit('synchronization', { type: 'prices', accountId: 'accountId', prices: [{ symbol: 'EURUSD' }],
      instanceIndex: 0, host: 'ps-mpa-1', equity: 100, margin: 200, freeMargin: 400, marginLevel: 40000 });
    await new _promise2.default(res => setTimeout(res, 50));
    await clock.tickAsync(3000);
    server.emit('synchronization', { type: 'positions', accountId: 'accountId', positions: [], instanceIndex: 0,
      host: 'ps-mpa-1', sequenceNumber: 3 });
    await new _promise2.default(res => setTimeout(res, 50));
    await clock.tickAsync(20000);
    await new _promise2.default(res => setTimeout(res, 50));
    pricesCallTime.should.not.eql(0);
    ordersCallTime.should.be.above(pricesCallTime);
    disconnectedCallTime.should.be.above(ordersCallTime);
    positionsCallTime.should.be.above(disconnectedCallTime);
  });

  /**
   * @test {MetaApiWebsocketClient#queuePacket}
   */
  it('should not process old synchronization packet without gaps in sequence numbers', async () => {
    let listener = {
      onSynchronizationStarted: _sinon2.default.fake(),
      onPendingOrdersReplaced: _sinon2.default.fake(),
      onPendingOrdersSynchronized: () => {}
    };
    client.addSynchronizationListener('accountId', listener);
    sandbox.stub(client._subscriptionManager, 'isSubscriptionActive').returns(true);
    sandbox.stub(client._packetOrderer, 'restoreOrder').callsFake(arg => [arg]);

    sandbox.stub(client._socketInstances['vint-hill'][0][0].synchronizationThrottler, 'activeSynchronizationIds').get(() => ['ABC']);
    server.emit('synchronization', { type: 'synchronizationStarted', accountId: 'accountId',
      sequenceNumber: 1, sequenceTimestamp: 1603124267178, synchronizationId: 'ABC' });
    server.emit('synchronization', { type: 'orders', accountId: 'accountId', orders: [],
      sequenceNumber: 2, sequenceTimestamp: 1603124267181, synchronizationId: 'ABC' });
    await new _promise2.default(res => setTimeout(res, 50));
    _sinon2.default.assert.calledOnce(listener.onSynchronizationStarted);
    _sinon2.default.assert.calledOnce(listener.onPendingOrdersReplaced);

    sandbox.stub(client._socketInstances['vint-hill'][0][0].synchronizationThrottler, 'activeSynchronizationIds').get(() => ['DEF']);
    server.emit('synchronization', { type: 'synchronizationStarted', accountId: 'accountId',
      sequenceNumber: 3, sequenceTimestamp: 1603124267190, synchronizationId: 'DEF' });
    server.emit('synchronization', { type: 'orders', accountId: 'accountId', orders: [],
      sequenceNumber: 4, sequenceTimestamp: 1603124267192, synchronizationId: 'ABC' });
    server.emit('synchronization', { type: 'orders', accountId: 'accountId', orders: [],
      sequenceNumber: 5, sequenceTimestamp: 1603124267195, synchronizationId: 'DEF' });
    await new _promise2.default(res => setTimeout(res, 50));
    _sinon2.default.assert.calledTwice(listener.onSynchronizationStarted);
    _sinon2.default.assert.calledTwice(listener.onPendingOrdersReplaced);
  });

  /**
   * @test {MetaApiWebsocketClient#queueEvent}
   */
  it('should process queued events sequentially', async () => {
    let event1 = sandbox.stub().callsFake(() => new _promise2.default(res => setTimeout(res, 100)));
    let event2 = sandbox.stub().callsFake(() => new _promise2.default(res => setTimeout(res, 25)));
    client.queueEvent('accountId', 'test', event1);
    client.queueEvent('accountId', 'test', event2);

    await clock.tickAsync(75);
    _sinon2.default.assert.calledOnce(event1);
    _sinon2.default.assert.notCalled(event2);

    await clock.tickAsync(30);
    _sinon2.default.assert.calledOnce(event2);
  });

  /**
   * @test {MetaApiWebsocketClient#queueEvent}
   * @test {MetaApiWebsocketClient#queuePacket}
   */
  it('should process queued events among synchronization packets', async () => {
    let listener = {
      onSynchronizationStarted: sandbox.stub().callsFake(() => new _promise2.default(res => setTimeout(res, 100)))
    };
    let event = sandbox.stub().callsFake(() => new _promise2.default(res => setTimeout(res, 25)));
    client.addSynchronizationListener('accountId', listener);

    client.queuePacket({
      type: 'synchronizationStarted', accountId: 'accountId', instanceIndex: 0, sequenceNumber: 1, sequenceTimestamp: 1,
      synchronizationId: 'synchronizationId', host: 'ps-mpa-1'
    });
    client.queueEvent('accountId', 'test', event);

    await clock.tickAsync(75);
    _sinon2.default.assert.calledOnce(listener.onSynchronizationStarted);
    _sinon2.default.assert.notCalled(event);

    await clock.tickAsync(30);
    _sinon2.default.assert.calledOnce(event);
  });

  /**
   * @test {MetaApiWebsocketClient#queueEvent}
   */
  it('should not throw errors from queued events', async () => {
    let event = sandbox.stub().rejects();
    client.queueEvent('accountId', 'test', event);
    await new _promise2.default(res => setTimeout(res, 10));
    _sinon2.default.assert.calledOnce(event);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9jbGllbnRzL21ldGFBcGkvbWV0YUFwaVdlYnNvY2tldC5jbGllbnQuc3BlYy5lczYiXSwibmFtZXMiOlsiZGVzY3JpYmUiLCJpbyIsInNlcnZlciIsInNlcnZlcjEiLCJzZXJ2ZXJOZXdZb3JrIiwiY2xvY2siLCJjbGllbnQiLCJzYW5kYm94IiwiYWN0aXZlU3luY2hyb25pemF0aW9uSWRzU3R1YiIsImdldEFjdGl2ZUluc3RhbmNlc1N0dWIiLCJzeW5jaHJvbml6YXRpb25UaHJvdHRsZXIiLCJhY3RpdmVTeW5jaHJvbml6YXRpb25JZHMiLCJvbkRpc2Nvbm5lY3QiLCJ1cGRhdGVTeW5jaHJvbml6YXRpb25JZCIsInJlbW92ZVN5bmNocm9uaXphdGlvbklkIiwiZG9tYWluQ2xpZW50IiwiZ2V0U2V0dGluZ3MiLCJhY2NvdW50SW5mb3JtYXRpb24iLCJicm9rZXIiLCJjdXJyZW5jeSIsImJhbGFuY2UiLCJlcXVpdHkiLCJtYXJnaW4iLCJmcmVlTWFyZ2luIiwibGV2ZXJhZ2UiLCJtYXJnaW5MZXZlbCIsImJlZm9yZSIsInNpbm9uIiwiY3JlYXRlU2FuZGJveCIsImJlZm9yZUVhY2giLCJ1c2VGYWtlVGltZXJzIiwic2hvdWxkQWR2YW5jZVRpbWUiLCJNZXRhQXBpV2Vic29ja2V0Q2xpZW50IiwiYXBwbGljYXRpb24iLCJkb21haW4iLCJyZXF1ZXN0VGltZW91dCIsInVzZVNoYXJlZENsaWVudEFwaSIsInJldHJ5T3B0cyIsInJldHJpZXMiLCJtaW5EZWxheUluU2Vjb25kcyIsIm1heERlbGF5SW5TZWNvbmRzIiwidXJsIiwiX3NvY2tldEluc3RhbmNlcyIsIlNlcnZlciIsInBhdGgiLCJwaW5nVGltZW91dCIsIm9uIiwic29ja2V0IiwicmVxdWVzdCIsIl9xdWVyeSIsImVtaXQiLCJlcnJvciIsIm1lc3NhZ2UiLCJjbG9zZSIsIl9yZWdpb25zQnlBY2NvdW50cyIsImFjY291bnRJZCIsInJlZ2lvbiIsImNvbm5lY3Rpb25zIiwiYWNjb3VudElkUmVwbGljYSIsIl9zb2NrZXRJbnN0YW5jZXNCeUFjY291bnRzIiwiX2FjY291bnRzQnlSZXBsaWNhSWQiLCJfYWNjb3VudFJlcGxpY2FzIiwiX2Nvbm5lY3RlZEhvc3RzIiwiY29ubmVjdCIsImRhdGEiLCJ0eXBlIiwicmVxdWVzdElkIiwic3R1YiIsImdldCIsIl9sYXRlbmN5U2VydmljZSIsInJldHVybnMiLCJhZnRlckVhY2giLCJyZXN0b3JlIiwicmVzb2x2ZSIsInByb21pc2UiLCJyZXMiLCJpdCIsImNsaWVudElkIiwiY29ubmVjdEFtb3VudCIsImhlYWRlcnMiLCJzaG91bGQiLCJlcXVhbCIsIm5vdCIsImRpc2Nvbm5lY3QiLCJzZXRUaW1lb3V0IiwidGlja0FzeW5jIiwiYmUiLCJhYm92ZU9yRXF1YWwiLCJwb3NpdGlvbnMiLCJpZCIsInN5bWJvbCIsIm1hZ2ljIiwidGltZSIsIkRhdGUiLCJ1cGRhdGVUaW1lIiwib3BlblByaWNlIiwiY3VycmVudFByaWNlIiwiY3VycmVudFRpY2tWYWx1ZSIsInZvbHVtZSIsInN3YXAiLCJwcm9maXQiLCJjb21taXNzaW9uIiwic3RvcExvc3MiLCJ1bnJlYWxpemVkUHJvZml0IiwicmVhbGl6ZWRQcm9maXQiLCJjb25uZWN0VGltZW91dCIsImFjdHVhbCIsImdldFBvc2l0aW9ucyIsIm1hdGNoIiwicmVzb2x2ZXMiLCJjb25uZWN0ZWQiLCJyZXF1ZXN0UmVzb2x2ZXMiLCJfZ2V0U2VydmVyVXJsIiwiZXFsIiwiaG9zdG5hbWUiLCJhZGRBY2NvdW50Q2FjaGUiLCJhc3NlcnQiLCJnZXRBY2NvdW50UmVnaW9uIiwiYWNjb3VudFJlcGxpY2FzIiwiYWNjb3VudElkMiIsImFjY291bnRzQnlSZXBsaWNhSWQiLCJyZW1vdmVBY2NvdW50Q2FjaGUiLCJpIiwidW5kZWZpbmVkIiwiZ2V0QWNjb3VudEluZm9ybWF0aW9uIiwidGltZW91dCIsInBvc2l0aW9uIiwicG9zaXRpb25JZCIsImdldFBvc2l0aW9uIiwib3JkZXJzIiwic3RhdGUiLCJwbGF0Zm9ybSIsImN1cnJlbnRWb2x1bWUiLCJjb21tZW50IiwiZ2V0T3JkZXJzIiwib3JkZXIiLCJvcmRlcklkIiwiZ2V0T3JkZXIiLCJoaXN0b3J5T3JkZXJzIiwiZG9uZVRpbWUiLCJ0aWNrZXQiLCJzeW5jaHJvbml6aW5nIiwiZ2V0SGlzdG9yeU9yZGVyc0J5VGlja2V0IiwiZ2V0SGlzdG9yeU9yZGVyc0J5UG9zaXRpb24iLCJzdGFydFRpbWUiLCJlbmRUaW1lIiwib2Zmc2V0IiwibGltaXQiLCJnZXRIaXN0b3J5T3JkZXJzQnlUaW1lUmFuZ2UiLCJkZWFscyIsImVudHJ5VHlwZSIsInByaWNlIiwiZ2V0RGVhbHNCeVRpY2tldCIsImdldERlYWxzQnlQb3NpdGlvbiIsImdldERlYWxzQnlUaW1lUmFuZ2UiLCJyZXF1ZXN0UmVjZWl2ZWQiLCJyZW1vdmVBcHBsaWNhdGlvbiIsInRydWUiLCJ0cmFkZSIsImFjdGlvblR5cGUiLCJyZXNwb25zZSIsIm51bWVyaWNDb2RlIiwic3RyaW5nQ29kZSIsIl9zdWJzY3JpcHRpb25NYW5hZ2VyIiwiaG9zdCIsImluc3RhbmNlSW5kZXgiLCJyZXBsaWNhcyIsImV4aXN0IiwiZGVzY3JpcHRpb24iLCJmYWlsIiwiZXJyIiwibmFtZSIsInN1YnNjcmliZSIsInNvY2tldEluc3RhbmNlcyIsImxlbmd0aCIsInJlbW92ZUFsbExpc3RlbmVycyIsImFjY291bnRJZDEwMSIsInN1Y2Nlc3MiLCJzeW1ib2xzIiwiZ2V0U3ltYm9scyIsInNwZWNpZmljYXRpb24iLCJ0aWNrU2l6ZSIsIm1pblZvbHVtZSIsIm1heFZvbHVtZSIsInZvbHVtZVN0ZXAiLCJnZXRTeW1ib2xTcGVjaWZpY2F0aW9uIiwiYmlkIiwiYXNrIiwicHJvZml0VGlja1ZhbHVlIiwibG9zc1RpY2tWYWx1ZSIsImtlZXBTdWJzY3JpcHRpb24iLCJnZXRTeW1ib2xQcmljZSIsImNhbmRsZSIsInRpbWVmcmFtZSIsImJyb2tlclRpbWUiLCJvcGVuIiwiaGlnaCIsImxvdyIsInRpY2tWb2x1bWUiLCJzcHJlYWQiLCJnZXRDYW5kbGUiLCJ0aWNrIiwibGFzdCIsInNpZGUiLCJnZXRUaWNrIiwiYm9vayIsImdldEJvb2siLCJ1cHRpbWUiLCJzYXZlVXB0aW1lIiwidW5zdWJzY3JpYmUiLCJzb2NrZXRJbnN0YW5jZXNCeUFjY291bnRzIiwiaGF2ZSIsInByb3BlcnR5IiwiY2FsbGVkV2l0aCIsIm9uVW5zdWJzY3JpYmUiLCJkZXRhaWxzIiwicGFyYW1ldGVyIiwiRXJyb3IiLCJjYXRjaCIsInByaWNlcyIsInN1YnNjcmliZVNlcnZlckhhbmRsZXIiLCJ1bnN1YnNjcmliZVNlcnZlckhhbmRsZXIiLCJzZXJ2ZXJIYW5kbGVyIiwiY2FsbGVkT25jZSIsImNhbGxlZFR3aWNlIiwiY2FsbGVkVGhyaWNlIiwic2Vzc2lvbklkIiwibGlzdGVuZXIiLCJvbkNvbm5lY3RlZCIsImFkZFN5bmNocm9uaXphdGlvbkxpc3RlbmVyIiwiaW5zdGFuY2VDYWxsZWQwIiwiaW5zdGFuY2VDYWxsZWQxIiwicmVxdWVzdFJlY2VpdmVkQXNzaWduZWQwIiwicmVxdWVzdFJlY2VpdmVkQXNzaWduZWQxIiwicmVxdWVzdFJlY2VpdmVkQXV0aGVudGljYXRlZDAiLCJyZXF1ZXN0UmVjZWl2ZWRBdXRoZW50aWNhdGVkMSIsImluc3RhbmNlQ2FsbGVkVHJhZGUwIiwiaW5zdGFuY2VDYWxsZWRUcmFkZTEiLCJjYWxsQ291bnQiLCJjYW5jZWxTdWJzY3JpYmVTdHViIiwiY2FuY2VsQWNjb3VudFN0dWIiLCJvbkJyb2tlckNvbm5lY3Rpb25TdGF0dXNDaGFuZ2VkIiwib25EaXNjb25uZWN0ZWQiLCJvblN0cmVhbUNsb3NlZCIsIm5vdENhbGxlZCIsIm9uVGltZW91dFN0dWIiLCJvblN0cmVhbUNsb3NlZFN0dWIiLCJvbkRpc2Nvbm5lY3RlZFN0dWIiLCJvbkhlYWx0aFN0YXR1cyIsImhlYWx0aFN0YXR1cyIsInJlc3RBcGlIZWFsdGh5Iiwib25BY2NvdW50SW5mb3JtYXRpb25VcGRhdGVkIiwib25TeW5jaHJvbml6YXRpb25TdGFydGVkIiwic3luY2hyb25pemF0aW9uSWQiLCJzdGFydGluZ0hpc3RvcnlPcmRlclRpbWUiLCJzdGFydGluZ0RlYWxUaW1lIiwic3luY2hyb25pemUiLCJzcGVjaWZpY2F0aW9uc01kNSIsInBvc2l0aW9uc01kNSIsIm9yZGVyc01kNSIsIm9uUG9zaXRpb25zU3luY2hyb25pemVkIiwib25QZW5kaW5nT3JkZXJzU3luY2hyb25pemVkIiwic3BlY2lmaWNhdGlvbnNVcGRhdGVkIiwicG9zaXRpb25zVXBkYXRlZCIsIm9yZGVyc1VwZGF0ZWQiLCJvblBlbmRpbmdPcmRlcnNSZXBsYWNlZCIsIm9uUG9zaXRpb25zUmVwbGFjZWQiLCJvbkhpc3RvcnlPcmRlckFkZGVkIiwib25EZWFsQWRkZWQiLCJ1cGRhdGUiLCJ1cGRhdGVkUG9zaXRpb25zIiwicmVtb3ZlZFBvc2l0aW9uSWRzIiwidXBkYXRlZE9yZGVycyIsImNvbXBsZXRlZE9yZGVySWRzIiwib25Qb3NpdGlvblVwZGF0ZWQiLCJvblBvc2l0aW9uUmVtb3ZlZCIsIm9uUGVuZGluZ09yZGVyVXBkYXRlZCIsIm9uUGVuZGluZ09yZGVyQ29tcGxldGVkIiwic2VydmVyVGltZSIsImdldFNlcnZlclRpbWUiLCJjYWxjdWxhdGVNYXJnaW4iLCJyZXF1ZXN0Q291bnRlciIsInN0YXR1c19jb2RlIiwibWV0YWRhdGEiLCJwZXJpb2RJbk1pbnV0ZXMiLCJtYXhSZXF1ZXN0c0ZvclBlcmlvZCIsInJlY29tbWVuZGVkUmV0cnlUaW1lIiwibm93IiwiYXBwcm94aW1hdGVseSIsInN1YnNjcmliZVRvTWFya2V0RGF0YSIsInN1YnNjcmlwdGlvbnMiLCJyZXF1ZXN0UmVjZWl2ZWQxIiwicmVmcmVzaE1hcmtldERhdGFTdWJzY3JpcHRpb25zIiwidW5zdWJzY3JpYmVGcm9tTWFya2V0RGF0YSIsIm9uRGVhbHNTeW5jaHJvbml6ZWQiLCJzeW5jU3R1YiIsIm9uSGlzdG9yeU9yZGVyc1N5bmNocm9uaXplZCIsIm9uU3Vic2NyaXB0aW9uRG93bmdyYWRlZCIsInVuc3Vic2NyaXB0aW9ucyIsInNwZWNpZmljYXRpb25zIiwib25TeW1ib2xTcGVjaWZpY2F0aW9uc1VwZGF0ZWQiLCJvblN5bWJvbFNwZWNpZmljYXRpb25VcGRhdGVkIiwib25TeW1ib2xTcGVjaWZpY2F0aW9uUmVtb3ZlZCIsInJlbW92ZWRTeW1ib2xzIiwidGlja3MiLCJjYW5kbGVzIiwiYm9va3MiLCJvblN5bWJvbFByaWNlVXBkYXRlZCIsIm9uU3ltYm9sUHJpY2VzVXBkYXRlZCIsIm9uQ2FuZGxlc1VwZGF0ZWQiLCJvblRpY2tzVXBkYXRlZCIsIm9uQm9va3NVcGRhdGVkIiwiYXBwbGljYXRpb25QYXR0ZXJuIiwidGltZW91dEluU2Vjb25kcyIsIndhaXRTeW5jaHJvbml6ZWQiLCJyZXF1ZXN0VHlwZSIsImFjdHVhbFRpbWVzdGFtcHMiLCJvblJlc3BvbnNlIiwiYWlkIiwidHMiLCJhZGRMYXRlbmN5TGlzdGVuZXIiLCJ0aW1lc3RhbXBzIiwiY2xpZW50UHJvY2Vzc2luZ1N0YXJ0ZWQiLCJzZXJ2ZXJQcm9jZXNzaW5nU3RhcnRlZCIsInNlcnZlclByb2Nlc3NpbmdGaW5pc2hlZCIsImNsaWVudFByb2Nlc3NpbmdGaW5pc2hlZCIsImV2ZW50R2VuZXJhdGVkIiwib25TeW1ib2xQcmljZSIsInN5bSIsIm9uVXBkYXRlIiwiY2xpZW50RXhlY3V0aW9uU3RhcnRlZCIsInNlcnZlckV4ZWN1dGlvblN0YXJ0ZWQiLCJzZXJ2ZXJFeGVjdXRpb25GaW5pc2hlZCIsInRyYWRlRXhlY3V0ZWQiLCJvblRyYWRlIiwib25SZWNvbm5lY3RlZCIsIl9wYWNrZXRPcmRlcmVyIiwiYWRkUmVjb25uZWN0TGlzdGVuZXIiLCJhY2NvdW50SWQzIiwiYWNjb3VudElkNCIsInNlcXVlbmNlVGltZXN0YW1wIiwiX3N5bmNocm9uaXphdGlvbkZsYWdzIiwiQUJDMiIsIkFCQzMiLCJBQkM0IiwicmVtb3ZlUmVjb25uZWN0TGlzdGVuZXIiLCJvcmRlcnNDYWxsVGltZSIsInBvc2l0aW9uc0NhbGxUaW1lIiwiZGlzY29ubmVjdGVkQ2FsbFRpbWUiLCJwcmljZXNDYWxsVGltZSIsImV2ZW50UHJvY2Vzc2luZyIsInNlcXVlbnRpYWxQcm9jZXNzaW5nIiwiY2FsbHNGYWtlIiwiYXJnIiwic2VxdWVuY2VOdW1iZXIiLCJhYm92ZSIsImZha2UiLCJldmVudDEiLCJldmVudDIiLCJxdWV1ZUV2ZW50IiwiZXZlbnQiLCJxdWV1ZVBhY2tldCIsInJlamVjdHMiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7OztBQUVBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUVBOzs7QUFHQTtBQUNBQSxTQUFTLHdCQUFULEVBQW1DLE1BQU07O0FBRXZDLE1BQUlDLEVBQUo7QUFDQSxNQUFJQyxNQUFKO0FBQ0EsTUFBSUMsT0FBSjtBQUNBLE1BQUlDLGFBQUo7QUFDQSxNQUFJQyxLQUFKO0FBQ0EsTUFBSUMsTUFBSjtBQUNBLE1BQUlDLE9BQUo7QUFDQSxNQUFJQyw0QkFBSjtBQUNBLE1BQUlDLHNCQUFKO0FBQ0EsUUFBTUMsMkJBQTJCO0FBQy9CQyw4QkFBMEIsQ0FBQyxtQkFBRCxDQURLO0FBRS9CQyxrQkFBYyxNQUFNLENBQUUsQ0FGUztBQUcvQkMsNkJBQXlCLE1BQU0sQ0FBRSxDQUhGO0FBSS9CQyw2QkFBeUIsTUFBTSxDQUFFO0FBSkYsR0FBakM7QUFNQSxRQUFNQyxlQUFlO0FBQ25CQyxpQkFBYSxNQUFNLENBQUU7QUFERixHQUFyQjtBQUdBLE1BQUlDLHFCQUFxQjtBQUN2QkMsWUFBUSxzQkFEZTtBQUV2QkMsY0FBVSxLQUZhO0FBR3ZCakIsWUFBUSxrQkFIZTtBQUl2QmtCLGFBQVMsTUFKYztBQUt2QkMsWUFBUSxpQkFMZTtBQU12QkMsWUFBUSxLQU5lO0FBT3ZCQyxnQkFBWSxPQVBXO0FBUXZCQyxjQUFVLEdBUmE7QUFTdkJDLGlCQUFhO0FBVFUsR0FBekI7O0FBWUFDLFNBQU8sTUFBTTtBQUNYbkIsY0FBVW9CLGdCQUFNQyxhQUFOLEVBQVY7QUFDRCxHQUZEOztBQUlBQyxhQUFXLFlBQVk7QUFDckJ4QixZQUFRc0IsZ0JBQU1HLGFBQU4s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bEMsRUFBK0NGLFFBQS9DOztBQUVBN04sV0FBT21XLFdBQVAsQ0FBbUI7QUFDakJ4UyxZQUFNLHdCQURXLEVBQ2VWLFdBQVcsV0FEMUIsRUFDdUM4RyxlQUFlLENBRHRELEVBQ3lENkwsZ0JBQWdCLENBRHpFLEVBQzRFZCxtQkFBbUIsQ0FEL0Y7QUFFakJ2Rix5QkFBbUIsbUJBRkYsRUFFdUJ6RixNQUFNO0FBRjdCLEtBQW5CO0FBSUE5SixXQUFPaVcsVUFBUCxDQUFrQixXQUFsQixFQUErQixNQUEvQixFQUF1Q0MsS0FBdkM7O0FBRUEsVUFBTW5XLE1BQU1nRixTQUFOLENBQWdCLEVBQWhCLENBQU47QUFDQTFELG9CQUFNeUYsTUFBTixDQUFhMkcsVUFBYixDQUF3QkksU0FBU3lCLHdCQUFqQztBQUNBak8sb0JBQU15RixNQUFOLENBQWFnSSxTQUFiLENBQXVCb0gsS0FBdkI7O0FBRUEsVUFBTW5XLE1BQU1nRixTQUFOLENBQWdCLEVBQWhCLENBQU47QUFDQTFELG9CQUFNeUYsTUFBTixDQUFhMkcsVUFBYixDQUF3QnlJLEtBQXhCO0FBQ0QsR0FuQkQ7O0FBcUJBOzs7QUFHQTVSLEtBQUcsNENBQUgsRUFBaUQsWUFBWTtBQUMzRCxRQUFJNFIsUUFBUWpXLFFBQVE0RCxJQUFSLEdBQWV1UyxPQUFmLEVBQVo7QUFDQXBXLFdBQU9pVyxVQUFQLENBQWtCLFdBQWxCLEVBQStCLE1BQS9CLEVBQXVDQyxLQUF2QztBQUNBLFVBQU0sc0JBQVk3UixPQUFPUyxXQUFXVCxHQUFYLEVBQWdCLEVBQWhCLENBQW5CLENBQU47QUFDQWhELG9CQUFNeUYsTUFBTixDQUFhMkcsVUFBYixDQUF3QnlJLEtBQXhCO0FBQ0QsR0FMRDtBQU9ELENBbDlGRCIsImZpbGUiOiJtZXRhQXBpV2Vic29ja2V0LmNsaWVudC5zcGVjLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgc2hvdWxkIGZyb20gJ3Nob3VsZCc7XG5pbXBvcnQgc2lub24gZnJvbSAnc2lub24nO1xuaW1wb3J0IE1ldGFBcGlXZWJzb2NrZXRDbGllbnQgZnJvbSAnLi9tZXRhQXBpV2Vic29ja2V0LmNsaWVudCc7XG5pbXBvcnQgU2VydmVyIGZyb20gJ3NvY2tldC5pbyc7XG5pbXBvcnQgTm90Q29ubmVjdGVkRXJyb3IgZnJvbSAnLi9ub3RDb25uZWN0ZWRFcnJvcic7XG5pbXBvcnQge0ludGVybmFsRXJyb3J9IGZyb20gJy4uL2Vycm9ySGFuZGxlcic7XG5cbi8qKlxuICogQHRlc3Qge01ldGFBcGlXZWJzb2NrZXRDbGllbnR9XG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtc3RhdGVtZW50c1xuZGVzY3JpYmUoJ01ldGFBcGlXZWJzb2NrZXRDbGllbnQnLCAoKSA9PiB7XG5cbiAgbGV0IGlvO1xuICBsZXQgc2VydmVyO1xuICBsZXQgc2VydmVyMTtcbiAgbGV0IHNlcnZlck5ld1lvcms7XG4gIGxldCBjbG9jaztcbiAgbGV0IGNsaWVudDtcbiAgbGV0IHNhbmRib3g7XG4gIGxldCBhY3RpdmVTeW5jaHJvbml6YXRpb25JZHNTdHViO1xuICBsZXQgZ2V0QWN0aXZlSW5zdGFuY2VzU3R1YjtcbiAgY29uc3Qgc3luY2hyb25pemF0aW9uVGhyb3R0bGVyID0ge1xuICAgIGFjdGl2ZVN5bmNocm9uaXphdGlvbklkczogWydzeW5jaHJvbml6YXRpb25JZCddLFxuICAgIG9uRGlzY29ubmVjdDogKCkgPT4ge30sXG4gICAgdXBkYXRlU3luY2hyb25pemF0aW9uSWQ6ICgpID0+IHt9LFxuICAgIHJlbW92ZVN5bmNocm9uaXphdGlvbklkOiAoKSA9PiB7fVxuICB9O1xuICBjb25zdCBkb21haW5DbGllbnQgPSB7XG4gICAgZ2V0U2V0dGluZ3M6ICgpID0+IHt9XG4gIH07XG4gIGxldCBhY2NvdW50SW5mb3JtYXRpb24gPSB7XG4gICAgYnJva2VyOiAnVHJ1ZSBFQ04gVHJhZGluZyBMdGQnLFxuICAgIGN1cnJlbmN5OiAnVVNEJyxcbiAgICBzZXJ2ZXI6ICdJQ01hcmtldHNTQy1EZW1vJyxcbiAgICBiYWxhbmNlOiA3MzE5LjksXG4gICAgZXF1aXR5OiA3MzA2LjY0OTkxMzIwMDAwMSxcbiAgICBtYXJnaW46IDE4NC4xLFxuICAgIGZyZWVNYXJnaW46IDcxMjAuMjIsXG4gICAgbGV2ZXJhZ2U6IDEwMCxcbiAgICBtYXJnaW5MZXZlbDogMzk2Ny41ODI4MzU0MlxuICB9O1xuXG4gIGJlZm9yZSgoKSA9PiB7XG4gICAgc2FuZGJveCA9IHNpbm9uLmNyZWF0ZVNhbmRib3goKTtcbiAgfSk7XG5cbiAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgY2xvY2sgPSBzaW5vbi51c2VGYWtlVGltZXJzKHtzaG91bGRBZHZhbmNlVGltZTogdHJ1ZX0pO1xuICAgIGNsaWVudCA9IG5ldyBNZXRhQXBpV2Vic29ja2V0Q2xpZW50KGRvbWFpbkNsaWVudCwgJ3Rva2VuJywge2FwcGxpY2F0aW9uOiAnYXBwbGljYXRpb24nLCBcbiAgICAgIGRvbWFpbjogJ3Byb2plY3Qtc3RvY2suYWdpbGl1bWxhYnMuY2xvdWQnLCByZXF1ZXN0VGltZW91dDogMS41LCB1c2VTaGFyZWRDbGllbnRBcGk6IHRydWUsXG4gICAgICByZXRyeU9wdHM6IHtyZXRyaWVzOiAzLCBtaW5EZWxheUluU2Vjb25kczogMC4xLCBtYXhEZWxheUluU2Vjb25kczogMC41fX0pO1xuICAgIGNsaWVudC51cmwgPSAnaHR0cDovL2xvY2FsaG9zdDo2Nzg0JztcbiAgICBjbGllbnQuX3NvY2tldEluc3RhbmNlcyA9IHsndmludC1oaWxsJzogezA6IFtdLCAxOiBbXX0sICduZXcteW9yayc6IHswOiBbXX19O1xuICAgIGlvID0gbmV3IFNlcnZlcig2Nzg0LCB7cGF0aDogJy93cycsIHBpbmdUaW1lb3V0OiAxMDAwMDAwfSk7XG4gICAgaW8ub24oJ2Nvbm5lY3QnLCBzb2NrZXQgPT4ge1xuICAgICAgc2VydmVyID0gc29ja2V0O1xuICAgICAgaWYgKHNvY2tldC5yZXF1ZXN0Ll9xdWVyeVsnYXV0aC10b2tlbiddICE9PSAndG9rZW4nKSB7XG4gICAgICAgIHNvY2tldC5lbWl0KHtlcnJvcjogJ1VuYXV0aG9yaXplZEVycm9yJywgbWVzc2FnZTogJ0F1dGhvcml6YXRpb24gdG9rZW4gaW52YWxpZCd9KTtcbiAgICAgICAgc29ja2V0LmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY2xpZW50Ll9yZWdpb25zQnlBY2NvdW50cy5hY2NvdW50SWQgPSB7cmVnaW9uOiAndmludC1oaWxsJywgY29ubmVjdGlvbnM6IDF9O1xuICAgIGNsaWVudC5fcmVnaW9uc0J5QWNjb3VudHMuYWNjb3VudElkUmVwbGljYSA9IHtyZWdpb246ICduZXcteW9yaycsIGNvbm5lY3Rpb25zOiAxfTtcbiAgICBjbGllbnQuX3NvY2tldEluc3RhbmNlc0J5QWNjb3VudHMgPSB7MDoge2FjY291bnRJZDogMCwgYWNjb3VudElkUmVwbGljYTogMH0sIDE6IHthY2NvdW50SWQ6IDB9fTtcbiAgICBjbGllbnQuX2FjY291bnRzQnlSZXBsaWNhSWQuYWNjb3VudElkID0gJ2FjY291bnRJZCc7XG4gICAgY2xpZW50Ll9hY2NvdW50c0J5UmVwbGljYUlkLmFjY291bnRJZFJlcGxpY2EgPSAnYWNjb3VudElkJztcbiAgICBjbGllbnQuX2FjY291bnRSZXBsaWNhcy5hY2NvdW50SWQgPSB7XG4gICAgICAndmludC1oaWxsJzogJ2FjY291bnRJZCcsXG4gICAgICAnbmV3LXlvcmsnOiAnYWNjb3VudElkUmVwbGljYSdcbiAgICB9O1xuICAgIGNsaWVudC5fY29ubmVjdGVkSG9zdHMgPSB7XG4gICAgICAnYWNjb3VudElkOnZpbnQtaGlsbDowOnBzLW1wYS0xJzogJ3BzLW1wYS0xJyxcbiAgICAgICdhY2NvdW50SWQ6bmV3LXlvcms6MDpwcy1tcGEtMic6ICdwcy1tcGEtMidcbiAgICB9O1xuICAgIGF3YWl0IGNsaWVudC5jb25uZWN0KDAsICduZXcteW9yaycpO1xuICAgIHNlcnZlck5ld1lvcmsgPSBzZXJ2ZXI7XG4gICAgYXdhaXQgY2xpZW50LmNvbm5lY3QoMSwgJ3ZpbnQtaGlsbCcpO1xuICAgIHNlcnZlcjEgPSBzZXJ2ZXI7XG4gICAgc2VydmVyMS5vbigncmVxdWVzdCcsIGFzeW5jIGRhdGEgPT4ge1xuICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ3Vuc3Vic2NyaWJlJyAmJiBkYXRhLmFjY291bnRJZCA9PT0gJ2FjY291bnRJZCcpIHtcbiAgICAgICAgc2VydmVyMS5lbWl0KCdyZXNwb25zZScsIHtyZXF1ZXN0SWQ6IGRhdGEucmVxdWVzdElkLCB0eXBlOiAncmVzcG9uc2UnLCBhY2NvdW50SWQ6ICdhY2NvdW50SWQnfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYXdhaXQgY2xpZW50LmNvbm5lY3QoMCwgJ3ZpbnQtaGlsbCcpO1xuICAgIGFjdGl2ZVN5bmNocm9uaXphdGlvbklkc1N0dWIgPSBzYW5kYm94LnN0dWIoY2xpZW50Ll9zb2NrZXRJbnN0YW5jZXNbJ3ZpbnQtaGlsbCddWzBdWzBdLnN5bmNocm9uaXphdGlvblRocm90dGxlcixcbiAgICAgICdhY3RpdmVTeW5jaHJvbml6YXRpb25JZHMnKS5nZXQoKCkgPT4gW10pO1xuICAgIHNhbmRib3guc3R1YihjbGllbnQuX3NvY2tldEluc3RhbmNlc1sndmludC1oaWxsJ11bMV1bMF0uc3luY2hyb25pemF0aW9uVGhyb3R0bGVyLCBcbiAgICAgICdhY3RpdmVTeW5jaHJvbml6YXRpb25JZHMnKS5nZXQoKCkgPT4gW10pO1xuXG4gICAgc2FuZGJveC5zdHViKGNsaWVudC5fbGF0ZW5jeVNlcnZpY2UsICdvbkNvbm5lY3RlZCcpLnJldHVybnMoKTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50Ll9sYXRlbmN5U2VydmljZSwgJ29uRGlzY29ubmVjdGVkJykucmV0dXJucygpO1xuICAgIHNhbmRib3guc3R1YihjbGllbnQuX2xhdGVuY3lTZXJ2aWNlLCAnb25VbnN1YnNjcmliZScpLnJldHVybnMoKTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50Ll9sYXRlbmN5U2VydmljZSwgJ29uRGVhbHNTeW5jaHJvbml6ZWQnKS5yZXR1cm5zKCk7XG4gICAgZ2V0QWN0aXZlSW5zdGFuY2VzU3R1YiA9IHNhbmRib3guc3R1YihjbGllbnQuX2xhdGVuY3lTZXJ2aWNlLCAnZ2V0QWN0aXZlQWNjb3VudEluc3RhbmNlcycpLnJldHVybnMoW10pO1xuICB9KTtcblxuICBhZnRlckVhY2goYXN5bmMgKCkgPT4ge1xuICAgIGNsb2NrLnJlc3RvcmUoKTtcbiAgICBzYW5kYm94LnJlc3RvcmUoKTtcbiAgICBsZXQgcmVzb2x2ZTtcbiAgICBsZXQgcHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlcyA9PiByZXNvbHZlID0gcmVzKTtcbiAgICBjbGllbnQuY2xvc2UoKTtcbiAgICBpby5jbG9zZSgoKSA9PiByZXNvbHZlKCkpO1xuICAgIGF3YWl0IHByb21pc2U7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaVdlYnNvY2tldENsaWVudCNfdHJ5UmVjb25uZWN0fVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBjaGFuZ2UgY2xpZW50IGlkIG9uIHJlY29ubmVjdCcsIGFzeW5jICgpID0+IHtcbiAgICBjbGllbnQuY2xvc2UoKTtcbiAgICBsZXQgY2xpZW50SWQ7XG4gICAgbGV0IGNvbm5lY3RBbW91bnQgPSAwO1xuICAgIGlvLm9uKCdjb25uZWN0Jywgc29ja2V0ID0+IHtcbiAgICAgIGNvbm5lY3RBbW91bnQrKztcbiAgICAgIHNvY2tldC5yZXF1ZXN0LmhlYWRlcnNbJ2NsaWVudC1pZCddLnNob3VsZC5lcXVhbChzb2NrZXQucmVxdWVzdC5fcXVlcnkuY2xpZW50SWQpO1xuICAgICAgc29ja2V0LnJlcXVlc3QuaGVhZGVyc1snY2xpZW50LWlkJ10uc2hvdWxkLm5vdC5lcXVhbChjbGllbnRJZCk7XG4gICAgICBzb2NrZXQucmVxdWVzdC5fcXVlcnkuY2xpZW50SWQuc2hvdWxkLm5vdC5lcXVhbChjbGllbnRJZCk7XG4gICAgICBjbGllbnRJZCA9IHNvY2tldC5yZXF1ZXN0Ll9xdWVyeS5jbGllbnRJZDtcbiAgICAgIHNvY2tldC5kaXNjb25uZWN0KCk7XG4gICAgfSk7XG4gICAgYXdhaXQgY2xpZW50LmNvbm5lY3QoMCwgJ3ZpbnQtaGlsbCcpO1xuICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgNTApKTtcbiAgICBhd2FpdCBjbG9jay50aWNrQXN5bmMoMTUwMCk7XG4gICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCA1MCkpO1xuICAgIGNvbm5lY3RBbW91bnQuc2hvdWxkLmJlLmFib3ZlT3JFcXVhbCgyKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpV2Vic29ja2V0Q2xpZW50I2Nvbm5lY3R9XG4gICAqL1xuICBpdCgnc2hvdWxkIHJldHJ5IGNvbm5lY3Rpb24gaWYgZmlyc3QgYXR0ZW1wdCB0aW1lZCBvdXQnLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IHBvc2l0aW9ucyA9IFt7XG4gICAgICBpZDogJzQ2MjE0NjkyJyxcbiAgICAgIHR5cGU6ICdQT1NJVElPTl9UWVBFX0JVWScsXG4gICAgICBzeW1ib2w6ICdHQlBVU0QnLFxuICAgICAgbWFnaWM6IDEwMDAsXG4gICAgICB0aW1lOiBuZXcgRGF0ZSgnMjAyMC0wNC0xNVQwMjo0NTowNi41MjFaJyksXG4gICAgICB1cGRhdGVUaW1lOiBuZXcgRGF0ZSgnMjAyMC0wNC0xNVQwMjo0NTowNi41MjFaJyksXG4gICAgICBvcGVuUHJpY2U6IDEuMjYxMDEsXG4gICAgICBjdXJyZW50UHJpY2U6IDEuMjQ4ODMsXG4gICAgICBjdXJyZW50VGlja1ZhbHVlOiAxLFxuICAgICAgdm9sdW1lOiAwLjA3LFxuICAgICAgc3dhcDogMCxcbiAgICAgIHByb2ZpdDogLTg1LjI1OTk5OTk5OTk5OTY2LFxuICAgICAgY29tbWlzc2lvbjogLTAuMjUsXG4gICAgICBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJyxcbiAgICAgIHN0b3BMb3NzOiAxLjE3NzIxLFxuICAgICAgdW5yZWFsaXplZFByb2ZpdDogLTg1LjI1OTk5OTk5OTk5OTAxLFxuICAgICAgcmVhbGl6ZWRQcm9maXQ6IC02LjUzNjk5MzE2ODk5MjkyMmUtMTNcbiAgICB9XTtcbiAgICBsZXQgcmVzb2x2ZTtcbiAgICBsZXQgcHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlcyA9PiByZXNvbHZlID0gcmVzKTtcbiAgICBjbGllbnQuY2xvc2UoKTtcbiAgICBpby5jbG9zZSgoKSA9PiByZXNvbHZlKCkpO1xuICAgIGF3YWl0IHByb21pc2U7XG4gICAgY2xpZW50ID0gbmV3IE1ldGFBcGlXZWJzb2NrZXRDbGllbnQoZG9tYWluQ2xpZW50LCAndG9rZW4nLCB7YXBwbGljYXRpb246ICdhcHBsaWNhdGlvbicsIFxuICAgICAgZG9tYWluOiAncHJvamVjdC1zdG9jay5hZ2lsaXVtbGFicy5jbG91ZCcsIHJlcXVlc3RUaW1lb3V0OiAxLjUsIHVzZVNoYXJlZENsaWVudEFwaTogZmFsc2UsXG4gICAgICBjb25uZWN0VGltZW91dDogMC4xLFxuICAgICAgcmV0cnlPcHRzOiB7IHJldHJpZXM6IDMsIG1pbkRlbGF5SW5TZWNvbmRzOiAwLjEsIG1heERlbGF5SW5TZWNvbmRzOiAwLjV9fSk7XG4gICAgY2xpZW50LnVybCA9ICdodHRwOi8vbG9jYWxob3N0OjY3ODUnO1xuICAgIChhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIDIwMCkpO1xuICAgICAgaW8gPSBuZXcgU2VydmVyKDY3ODUsIHtwYXRoOiAnL3dzJywgcGluZ1RpbWVvdXQ6IDMwMDAwfSk7XG4gICAgICBpby5vbignY29ubmVjdCcsIHNvY2tldCA9PiB7XG4gICAgICAgIHNlcnZlciA9IHNvY2tldDtcbiAgICAgICAgc2VydmVyLm9uKCdyZXF1ZXN0JywgZGF0YSA9PiB7XG4gICAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ2dldFBvc2l0aW9ucycgJiYgZGF0YS5hY2NvdW50SWQgPT09ICdhY2NvdW50SWQnICYmIGRhdGEuYXBwbGljYXRpb24gPT09ICdSUEMnKSB7XG4gICAgICAgICAgICBzZXJ2ZXIuZW1pdCgncmVzcG9uc2UnLCB7dHlwZTogJ3Jlc3BvbnNlJywgYWNjb3VudElkOiBkYXRhLmFjY291bnRJZCwgXG4gICAgICAgICAgICAgIHJlcXVlc3RJZDogZGF0YS5yZXF1ZXN0SWQsIHBvc2l0aW9uc30pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KSgpO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBjbGllbnQuZ2V0UG9zaXRpb25zKCdhY2NvdW50SWQnKTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHBvc2l0aW9ucyk7XG4gICAgaW8uY2xvc2UoKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpV2Vic29ja2V0Q2xpZW50I19nZXRTZXJ2ZXJVcmx9XG4gICAqL1xuICBpdCgnc2hvdWxkIGNvbm5lY3QgdG8gc2hhcmVkIHNlcnZlcicsIGFzeW5jICgpID0+IHtcbiAgICBjbGllbnQuY2xvc2UoKTtcbiAgICBzYW5kYm94LnN0dWIoZG9tYWluQ2xpZW50LCAnZ2V0U2V0dGluZ3MnKS5yZXNvbHZlcyh7XG4gICAgICBkb21haW46ICd2My5hZ2lsaXVtbGFicy5jbG91ZCdcbiAgICB9KTtcbiAgICBjbGllbnQgPSBuZXcgTWV0YUFwaVdlYnNvY2tldENsaWVudChkb21haW5DbGllbnQsICd0b2tlbicsIHthcHBsaWNhdGlvbjogJ2FwcGxpY2F0aW9uJyxcbiAgICAgIGRvbWFpbjogJ3Byb2plY3Qtc3RvY2suYWdpbGl1bWxhYnMuY2xvdWQnLCByZXF1ZXN0VGltZW91dDogMS41LCB1c2VTaGFyZWRDbGllbnRBcGk6IHRydWV9KTtcbiAgICBjbGllbnQuX3NvY2tldEluc3RhbmNlcyA9IHsndmludC1oaWxsJzogezA6IFt7XG4gICAgICBjb25uZWN0ZWQ6IHRydWUsXG4gICAgICByZXF1ZXN0UmVzb2x2ZXM6IFtdLFxuICAgICAgc29ja2V0OiB7Y2xvc2U6ICgpID0+IHt9fVxuICAgIH1dfX07XG4gICAgY29uc3QgdXJsID0gYXdhaXQgY2xpZW50Ll9nZXRTZXJ2ZXJVcmwoMCwgMCwgJ3ZpbnQtaGlsbCcpO1xuICAgIHNob3VsZCh1cmwpLmVxbCgnaHR0cHM6Ly9tdC1jbGllbnQtYXBpLXYxLnZpbnQtaGlsbC1hLnYzLmFnaWxpdW1sYWJzLmNsb3VkJyk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaVdlYnNvY2tldENsaWVudCNfZ2V0U2VydmVyVXJsfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBjb25uZWN0IHRvIGRlZGljYXRlZCBzZXJ2ZXInLCBhc3luYyAoKSA9PiB7XG4gICAgY2xpZW50LmNsb3NlKCk7XG4gICAgc2FuZGJveC5zdHViKGRvbWFpbkNsaWVudCwgJ2dldFNldHRpbmdzJykucmVzb2x2ZXMoe1xuICAgICAgaG9zdG5hbWU6ICdtdC1jbGllbnQtYXBpLWRlZGljYXRlZCcsXG4gICAgICBkb21haW46ICdwcm9qZWN0LXN0b2NrLmFnaWxpdW1sYWJzLmNsb3VkJ1xuICAgIH0pO1xuICAgIGNsaWVudCA9IG5ldyBNZXRhQXBpV2Vic29ja2V0Q2xpZW50KGRvbWFpbkNsaWVudCwgJ3Rva2VuJywge2FwcGxpY2F0aW9uOiAnYXBwbGljYXRpb24nLCBcbiAgICAgIGRvbWFpbjogJ3Byb2plY3Qtc3RvY2suYWdpbGl1bWxhYnMuY2xvdWQnLCByZXF1ZXN0VGltZW91dDogMS41LCB1c2VTaGFyZWRDbGllbnRBcGk6IHRydWV9KTtcbiAgICBjbGllbnQuX3NvY2tldEluc3RhbmNlcyA9IHsndmludC1oaWxsJzogezA6IFt7XG4gICAgICBjb25uZWN0ZWQ6IHRydWUsXG4gICAgICByZXF1ZXN0UmVzb2x2ZXM6IFtdLFxuICAgICAgc29ja2V0OiB7Y2xvc2U6ICgpID0+IHt9fVxuICAgIH1dfX07XG4gICAgY29uc3QgdXJsID0gYXdhaXQgY2xpZW50Ll9nZXRTZXJ2ZXJVcmwoMCwgMCwgJ3ZpbnQtaGlsbCcpO1xuICAgIHNob3VsZCh1cmwpLmVxbCgnaHR0cHM6Ly9tdC1jbGllbnQtYXBpLXYxLnZpbnQtaGlsbC1hLnByb2plY3Qtc3RvY2suYWdpbGl1bWxhYnMuY2xvdWQnKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpV2Vic29ja2V0Q2xpZW50I2FkZEFjY291bnRDYWNoZX1cbiAgICovXG4gIGl0KCdzaG91bGQgYWRkIGFjY291bnQgY2FjaGUnLCBhc3luYyAoKSA9PiB7XG4gICAgY2xpZW50LmFkZEFjY291bnRDYWNoZSgnYWNjb3VudElkMicsIHsndmludC1oaWxsJzogJ2FjY291bnRJZDInfSk7XG4gICAgc2lub24uYXNzZXJ0Lm1hdGNoKGNsaWVudC5nZXRBY2NvdW50UmVnaW9uKCdhY2NvdW50SWQyJyksICd2aW50LWhpbGwnKTtcbiAgICBzaW5vbi5hc3NlcnQubWF0Y2goY2xpZW50LmFjY291bnRSZXBsaWNhcy5hY2NvdW50SWQyLCB7J3ZpbnQtaGlsbCc6ICdhY2NvdW50SWQyJ30pO1xuICAgIHNpbm9uLmFzc2VydC5tYXRjaChjbGllbnQuYWNjb3VudHNCeVJlcGxpY2FJZC5hY2NvdW50SWQyLCAnYWNjb3VudElkMicpO1xuICAgIGNsaWVudC5hZGRBY2NvdW50Q2FjaGUoJ2FjY291bnRJZDInLCB7J3ZpbnQtaGlsbCc6ICdhY2NvdW50SWQyJ30pO1xuICAgIHNpbm9uLmFzc2VydC5tYXRjaChjbGllbnQuZ2V0QWNjb3VudFJlZ2lvbignYWNjb3VudElkMicpLCAndmludC1oaWxsJyk7XG4gICAgY2xpZW50LnJlbW92ZUFjY291bnRDYWNoZSgnYWNjb3VudElkMicpO1xuICAgIHNpbm9uLmFzc2VydC5tYXRjaChjbGllbnQuZ2V0QWNjb3VudFJlZ2lvbignYWNjb3VudElkMicpLCAndmludC1oaWxsJyk7XG4gICAgY2xpZW50LnJlbW92ZUFjY291bnRDYWNoZSgnYWNjb3VudElkMicpO1xuICAgIHNpbm9uLmFzc2VydC5tYXRjaChjbGllbnQuZ2V0QWNjb3VudFJlZ2lvbignYWNjb3VudElkMicpLCAndmludC1oaWxsJyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHtcbiAgICAgIGF3YWl0IGNsb2NrLnRpY2tBc3luYygzMCAqIDYwICogMTAwMCArIDUwMCk7XG4gICAgfVxuICAgIHNpbm9uLmFzc2VydC5tYXRjaChjbGllbnQuZ2V0QWNjb3VudFJlZ2lvbignYWNjb3VudElkMicpLCB1bmRlZmluZWQpO1xuICAgIHNpbm9uLmFzc2VydC5tYXRjaChjbGllbnQuYWNjb3VudFJlcGxpY2FzLmFjY291bnRJZDIsIHVuZGVmaW5lZCk7XG4gICAgc2lub24uYXNzZXJ0Lm1hdGNoKGNsaWVudC5hY2NvdW50c0J5UmVwbGljYUlkLmFjY291bnRJZDIsIHVuZGVmaW5lZCk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaVdlYnNvY2tldENsaWVudCNhZGRBY2NvdW50Q2FjaGV9XG4gICAqL1xuICBpdCgnc2hvdWxkIGRlbGF5IHJlZ2lvbiBkZWxldGlvbiBpZiBhIHJlcXVlc3QgaXMgbWFkZScsIGFzeW5jICgpID0+IHtcbiAgICBzZXJ2ZXIub24oJ3JlcXVlc3QnLCBkYXRhID0+IHtcbiAgICAgIGlmIChkYXRhLnR5cGUgPT09ICdnZXRBY2NvdW50SW5mb3JtYXRpb24nICYmIGRhdGEuYWNjb3VudElkID09PSAnYWNjb3VudElkMicgJiZcbiAgICAgICAgZGF0YS5hcHBsaWNhdGlvbiA9PT0gJ1JQQycpIHtcbiAgICAgICAgc2VydmVyLmVtaXQoJ3Jlc3BvbnNlJywge1xuICAgICAgICAgIHR5cGU6ICdyZXNwb25zZScsIGFjY291bnRJZDogZGF0YS5hY2NvdW50SWQsIHJlcXVlc3RJZDogZGF0YS5yZXF1ZXN0SWQsXG4gICAgICAgICAgYWNjb3VudEluZm9ybWF0aW9uXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY2xpZW50LmFkZEFjY291bnRDYWNoZSgnYWNjb3VudElkMicsIHsndmludC1oaWxsJzogJ2FjY291bnRJZDInfSk7XG4gICAgc2lub24uYXNzZXJ0Lm1hdGNoKGNsaWVudC5nZXRBY2NvdW50UmVnaW9uKCdhY2NvdW50SWQyJyksICd2aW50LWhpbGwnKTtcbiAgICBhd2FpdCBjbGllbnQuZ2V0QWNjb3VudEluZm9ybWF0aW9uKCdhY2NvdW50SWQyJyk7XG4gICAgc2lub24uYXNzZXJ0Lm1hdGNoKGNsaWVudC5nZXRBY2NvdW50UmVnaW9uKCdhY2NvdW50SWQyJyksICd2aW50LWhpbGwnKTtcbiAgICBhd2FpdCBjbG9jay50aWNrQXN5bmMoMzAgKiA2MCAqIDEwMDAgKyA1MDApO1xuICAgIHNpbm9uLmFzc2VydC5tYXRjaChjbGllbnQuZ2V0QWNjb3VudFJlZ2lvbignYWNjb3VudElkMicpLCAndmludC1oaWxsJyk7XG4gICAgYXdhaXQgY2xpZW50LmdldEFjY291bnRJbmZvcm1hdGlvbignYWNjb3VudElkMicpO1xuICAgIGNsaWVudC5yZW1vdmVBY2NvdW50Q2FjaGUoJ2FjY291bnRJZDInKTtcbiAgICBhd2FpdCBjbG9jay50aWNrQXN5bmMoMzAgKiA2MCAqIDEwMDAgKyA1MDApO1xuICAgIGF3YWl0IGNsaWVudC5nZXRBY2NvdW50SW5mb3JtYXRpb24oJ2FjY291bnRJZDInKTtcbiAgICBhd2FpdCBjbG9jay50aWNrQXN5bmMoMzAgKiA2MCAqIDEwMDAgKyA1MDApO1xuICAgIHNpbm9uLmFzc2VydC5tYXRjaChjbGllbnQuZ2V0QWNjb3VudFJlZ2lvbignYWNjb3VudElkMicpLCAndmludC1oaWxsJyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHtcbiAgICAgIGF3YWl0IGNsb2NrLnRpY2tBc3luYygzMCAqIDYwICogMTAwMCArIDUwMCk7XG4gICAgfVxuICAgIHNpbm9uLmFzc2VydC5tYXRjaChjbGllbnQuZ2V0QWNjb3VudFJlZ2lvbignYWNjb3VudElkMicpLCB1bmRlZmluZWQpO1xuICB9KS50aW1lb3V0KDMwMDApO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaVdlYnNvY2tldENsaWVudCNnZXRBY2NvdW50SW5mb3JtYXRpb259XG4gICAqL1xuICBpdCgnc2hvdWxkIHJldHJpZXZlIE1ldGFUcmFkZXIgYWNjb3VudCBpbmZvcm1hdGlvbiBmcm9tIEFQSScsIGFzeW5jICgpID0+IHtcbiAgICBzZXJ2ZXIub24oJ3JlcXVlc3QnLCBkYXRhID0+IHtcbiAgICAgIGlmIChkYXRhLnR5cGUgPT09ICdnZXRBY2NvdW50SW5mb3JtYXRpb24nICYmIGRhdGEuYWNjb3VudElkID09PSAnYWNjb3VudElkJyAmJlxuICAgICAgICBkYXRhLmFwcGxpY2F0aW9uID09PSAnUlBDJykge1xuICAgICAgICBzZXJ2ZXIuZW1pdCgncmVzcG9uc2UnLCB7XG4gICAgICAgICAgdHlwZTogJ3Jlc3BvbnNlJywgYWNjb3VudElkOiBkYXRhLmFjY291bnRJZCwgcmVxdWVzdElkOiBkYXRhLnJlcXVlc3RJZCxcbiAgICAgICAgICBhY2NvdW50SW5mb3JtYXRpb25cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGNsaWVudC5nZXRBY2NvdW50SW5mb3JtYXRpb24oJ2FjY291bnRJZCcpO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2goYWNjb3VudEluZm9ybWF0aW9uKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpV2Vic29ja2V0Q2xpZW50I2dldFBvc2l0aW9uc31cbiAgICovXG4gIGl0KCdzaG91bGQgcmV0cmlldmUgTWV0YVRyYWRlciBwb3NpdGlvbnMgZnJvbSBBUEknLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IHBvc2l0aW9ucyA9IFt7XG4gICAgICBpZDogJzQ2MjE0NjkyJyxcbiAgICAgIHR5cGU6ICdQT1NJVElPTl9UWVBFX0JVWScsXG4gICAgICBzeW1ib2w6ICdHQlBVU0QnLFxuICAgICAgbWFnaWM6IDEwMDAsXG4gICAgICB0aW1lOiBuZXcgRGF0ZSgnMjAyMC0wNC0xNVQwMjo0NTowNi41MjFaJyksXG4gICAgICB1cGRhdGVUaW1lOiBuZXcgRGF0ZSgnMjAyMC0wNC0xNVQwMjo0NTowNi41MjFaJyksXG4gICAgICBvcGVuUHJpY2U6IDEuMjYxMDEsXG4gICAgICBjdXJyZW50UHJpY2U6IDEuMjQ4ODMsXG4gICAgICBjdXJyZW50VGlja1ZhbHVlOiAxLFxuICAgICAgdm9sdW1lOiAwLjA3LFxuICAgICAgc3dhcDogMCxcbiAgICAgIHByb2ZpdDogLTg1LjI1OTk5OTk5OTk5OTY2LFxuICAgICAgY29tbWlzc2lvbjogLTAuMjUsXG4gICAgICBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJyxcbiAgICAgIHN0b3BMb3NzOiAxLjE3NzIxLFxuICAgICAgdW5yZWFsaXplZFByb2ZpdDogLTg1LjI1OTk5OTk5OTk5OTAxLFxuICAgICAgcmVhbGl6ZWRQcm9maXQ6IC02LjUzNjk5MzE2ODk5MjkyMmUtMTNcbiAgICB9XTtcbiAgICBzZXJ2ZXIub24oJ3JlcXVlc3QnLCBkYXRhID0+IHtcbiAgICAgIGlmIChkYXRhLnR5cGUgPT09ICdnZXRQb3NpdGlvbnMnICYmIGRhdGEuYWNjb3VudElkID09PSAnYWNjb3VudElkJyAmJiBkYXRhLmFwcGxpY2F0aW9uID09PSAnUlBDJykge1xuICAgICAgICBzZXJ2ZXIuZW1pdCgncmVzcG9uc2UnLCB7dHlwZTogJ3Jlc3BvbnNlJywgYWNjb3VudElkOiBkYXRhLmFjY291bnRJZCwgcmVxdWVzdElkOiBkYXRhLnJlcXVlc3RJZCwgcG9zaXRpb25zfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGNsaWVudC5nZXRQb3NpdGlvbnMoJ2FjY291bnRJZCcpO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2gocG9zaXRpb25zKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpV2Vic29ja2V0Q2xpZW50I2dldFBvc2l0aW9ufVxuICAgKi9cbiAgaXQoJ3Nob3VsZCByZXRyaWV2ZSBNZXRhVHJhZGVyIHBvc2l0aW9uIGZyb20gQVBJIGJ5IGlkJywgYXN5bmMgKCkgPT4ge1xuICAgIGxldCBwb3NpdGlvbiA9IHtcbiAgICAgIGlkOiAnNDYyMTQ2OTInLFxuICAgICAgdHlwZTogJ1BPU0lUSU9OX1RZUEVfQlVZJyxcbiAgICAgIHN5bWJvbDogJ0dCUFVTRCcsXG4gICAgICBtYWdpYzogMTAwMCxcbiAgICAgIHRpbWU6IG5ldyBEYXRlKCcyMDIwLTA0LTE1VDAyOjQ1OjA2LjUyMVonKSxcbiAgICAgIHVwZGF0ZVRpbWU6IG5ldyBEYXRlKCcyMDIwLTA0LTE1VDAyOjQ1OjA2LjUyMVonKSxcbiAgICAgIG9wZW5QcmljZTogMS4yNjEwMSxcbiAgICAgIGN1cnJlbnRQcmljZTogMS4yNDg4MyxcbiAgICAgIGN1cnJlbnRUaWNrVmFsdWU6IDEsXG4gICAgICB2b2x1bWU6IDAuMDcsXG4gICAgICBzd2FwOiAwLFxuICAgICAgcHJvZml0OiAtODUuMjU5OTk5OTk5OTk5NjYsXG4gICAgICBjb21taXNzaW9uOiAtMC4yNSxcbiAgICAgIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnLFxuICAgICAgc3RvcExvc3M6IDEuMTc3MjEsXG4gICAgICB1bnJlYWxpemVkUHJvZml0OiAtODUuMjU5OTk5OTk5OTk5MDEsXG4gICAgICByZWFsaXplZFByb2ZpdDogLTYuNTM2OTkzMTY4OTkyOTIyZS0xM1xuICAgIH07XG4gICAgc2VydmVyLm9uKCdyZXF1ZXN0JywgZGF0YSA9PiB7XG4gICAgICBpZiAoZGF0YS50eXBlID09PSAnZ2V0UG9zaXRpb24nICYmIGRhdGEuYWNjb3VudElkID09PSAnYWNjb3VudElkJyAmJiBkYXRhLnBvc2l0aW9uSWQgPT09ICc0NjIxNDY5MicgJiZcbiAgICAgICAgZGF0YS5hcHBsaWNhdGlvbiA9PT0gJ1JQQycpIHtcbiAgICAgICAgc2VydmVyLmVtaXQoJ3Jlc3BvbnNlJywge3R5cGU6ICdyZXNwb25zZScsIGFjY291bnRJZDogZGF0YS5hY2NvdW50SWQsIHJlcXVlc3RJZDogZGF0YS5yZXF1ZXN0SWQsIHBvc2l0aW9ufSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGNsaWVudC5nZXRQb3NpdGlvbignYWNjb3VudElkJywgJzQ2MjE0NjkyJyk7XG4gICAgYWN0dWFsLnNob3VsZC5tYXRjaChwb3NpdGlvbik7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaVdlYnNvY2tldENsaWVudCNnZXRPcmRlcnN9XG4gICAqL1xuICBpdCgnc2hvdWxkIHJldHJpZXZlIE1ldGFUcmFkZXIgb3JkZXJzIGZyb20gQVBJJywgYXN5bmMgKCkgPT4ge1xuICAgIGxldCBvcmRlcnMgPSBbe1xuICAgICAgaWQ6ICc0Njg3MTI4NCcsXG4gICAgICB0eXBlOiAnT1JERVJfVFlQRV9CVVlfTElNSVQnLFxuICAgICAgc3RhdGU6ICdPUkRFUl9TVEFURV9QTEFDRUQnLFxuICAgICAgc3ltYm9sOiAnQVVETlpEJyxcbiAgICAgIG1hZ2ljOiAxMjM0NTYsXG4gICAgICBwbGF0Zm9ybTogJ210NScsXG4gICAgICB0aW1lOiBuZXcgRGF0ZSgnMjAyMC0wNC0yMFQwODozODo1OC4yNzBaJyksXG4gICAgICBvcGVuUHJpY2U6IDEuMDMsXG4gICAgICBjdXJyZW50UHJpY2U6IDEuMDUyMDYsXG4gICAgICB2b2x1bWU6IDAuMDEsXG4gICAgICBjdXJyZW50Vm9sdW1lOiAwLjAxLFxuICAgICAgY29tbWVudDogJ0NPTU1FTlQyJ1xuICAgIH1dO1xuICAgIHNlcnZlci5vbigncmVxdWVzdCcsIGRhdGEgPT4ge1xuICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ2dldE9yZGVycycgJiYgZGF0YS5hY2NvdW50SWQgPT09ICdhY2NvdW50SWQnICYmIGRhdGEuYXBwbGljYXRpb24gPT09ICdSUEMnKSB7XG4gICAgICAgIHNlcnZlci5lbWl0KCdyZXNwb25zZScsIHt0eXBlOiAncmVzcG9uc2UnLCBhY2NvdW50SWQ6IGRhdGEuYWNjb3VudElkLCByZXF1ZXN0SWQ6IGRhdGEucmVxdWVzdElkLCBvcmRlcnN9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBsZXQgYWN0dWFsID0gYXdhaXQgY2xpZW50LmdldE9yZGVycygnYWNjb3VudElkJyk7XG4gICAgYWN0dWFsLnNob3VsZC5tYXRjaChvcmRlcnMpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlXZWJzb2NrZXRDbGllbnQjZ2V0T3JkZXJ9XG4gICAqL1xuICBpdCgnc2hvdWxkIHJldHJpZXZlIE1ldGFUcmFkZXIgb3JkZXIgZnJvbSBBUEkgYnkgaWQnLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IG9yZGVyID0ge1xuICAgICAgaWQ6ICc0Njg3MTI4NCcsXG4gICAgICB0eXBlOiAnT1JERVJfVFlQRV9CVVlfTElNSVQnLFxuICAgICAgc3RhdGU6ICdPUkRFUl9TVEFURV9QTEFDRUQnLFxuICAgICAgc3ltYm9sOiAnQVVETlpEJyxcbiAgICAgIG1hZ2ljOiAxMjM0NTYsXG4gICAgICBwbGF0Zm9ybTogJ210NScsXG4gICAgICB0aW1lOiBuZXcgRGF0ZSgnMjAyMC0wNC0yMFQwODozODo1OC4yNzBaJyksXG4gICAgICBvcGVuUHJpY2U6IDEuMDMsXG4gICAgICBjdXJyZW50UHJpY2U6IDEuMDUyMDYsXG4gICAgICB2b2x1bWU6IDAuMDEsXG4gICAgICBjdXJyZW50Vm9sdW1lOiAwLjAxLFxuICAgICAgY29tbWVudDogJ0NPTU1FTlQyJ1xuICAgIH07XG4gICAgc2VydmVyLm9uKCdyZXF1ZXN0JywgZGF0YSA9PiB7XG4gICAgICBpZiAoZGF0YS50eXBlID09PSAnZ2V0T3JkZXInICYmIGRhdGEuYWNjb3VudElkID09PSAnYWNjb3VudElkJyAmJiBkYXRhLm9yZGVySWQgPT09ICc0Njg3MTI4NCcgJiZcbiAgICAgICAgZGF0YS5hcHBsaWNhdGlvbiA9PT0gJ1JQQycpIHtcbiAgICAgICAgc2VydmVyLmVtaXQoJ3Jlc3BvbnNlJywge3R5cGU6ICdyZXNwb25zZScsIGFjY291bnRJZDogZGF0YS5hY2NvdW50SWQsIHJlcXVlc3RJZDogZGF0YS5yZXF1ZXN0SWQsIG9yZGVyfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGNsaWVudC5nZXRPcmRlcignYWNjb3VudElkJywgJzQ2ODcxMjg0Jyk7XG4gICAgYWN0dWFsLnNob3VsZC5tYXRjaChvcmRlcik7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaVdlYnNvY2tldENsaWVudCNnZXRIaXN0b3J5T3JkZXJzQnlUaWNrZXR9XG4gICAqL1xuICBpdCgnc2hvdWxkIHJldHJpZXZlIE1ldGFUcmFkZXIgaGlzdG9yeSBvcmRlcnMgZnJvbSBBUEkgYnkgdGlja2V0JywgYXN5bmMgKCkgPT4ge1xuICAgIGxldCBoaXN0b3J5T3JkZXJzID0gW3tcbiAgICAgIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnLFxuICAgICAgY3VycmVudFByaWNlOiAxLjI2MSxcbiAgICAgIGN1cnJlbnRWb2x1bWU6IDAsXG4gICAgICBkb25lVGltZTogbmV3IERhdGUoJzIwMjAtMDQtMTVUMDI6NDU6MDYuNTIxWicpLFxuICAgICAgaWQ6ICc0NjIxNDY5MicsXG4gICAgICBtYWdpYzogMTAwMCxcbiAgICAgIHBsYXRmb3JtOiAnbXQ1JyxcbiAgICAgIHBvc2l0aW9uSWQ6ICc0NjIxNDY5MicsXG4gICAgICBzdGF0ZTogJ09SREVSX1NUQVRFX0ZJTExFRCcsXG4gICAgICBzeW1ib2w6ICdHQlBVU0QnLFxuICAgICAgdGltZTogbmV3IERhdGUoJzIwMjAtMDQtMTVUMDI6NDU6MDYuMjYwWicpLFxuICAgICAgdHlwZTogJ09SREVSX1RZUEVfQlVZJyxcbiAgICAgIHZvbHVtZTogMC4wN1xuICAgIH1dO1xuICAgIHNlcnZlci5vbigncmVxdWVzdCcsIGRhdGEgPT4ge1xuICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ2dldEhpc3RvcnlPcmRlcnNCeVRpY2tldCcgJiYgZGF0YS5hY2NvdW50SWQgPT09ICdhY2NvdW50SWQnICYmIGRhdGEudGlja2V0ID09PSAnNDYyMTQ2OTInICYmXG4gICAgICAgIGRhdGEuYXBwbGljYXRpb24gPT09ICdSUEMnKSB7XG4gICAgICAgIHNlcnZlci5lbWl0KCdyZXNwb25zZScsIHtcbiAgICAgICAgICB0eXBlOiAncmVzcG9uc2UnLCBhY2NvdW50SWQ6IGRhdGEuYWNjb3VudElkLCByZXF1ZXN0SWQ6IGRhdGEucmVxdWVzdElkLCBoaXN0b3J5T3JkZXJzLFxuICAgICAgICAgIHN5bmNocm9uaXppbmc6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBjbGllbnQuZ2V0SGlzdG9yeU9yZGVyc0J5VGlja2V0KCdhY2NvdW50SWQnLCAnNDYyMTQ2OTInKTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHtoaXN0b3J5T3JkZXJzLCBzeW5jaHJvbml6aW5nOiBmYWxzZX0pO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlXZWJzb2NrZXRDbGllbnQjZ2V0SGlzdG9yeU9yZGVyc0J5UG9zaXRpb259XG4gICAqL1xuICBpdCgnc2hvdWxkIHJldHJpZXZlIE1ldGFUcmFkZXIgaGlzdG9yeSBvcmRlcnMgZnJvbSBBUEkgYnkgcG9zaXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IGhpc3RvcnlPcmRlcnMgPSBbe1xuICAgICAgY2xpZW50SWQ6ICdURV9HQlBVU0RfN2h5SU5XcUFsRScsXG4gICAgICBjdXJyZW50UHJpY2U6IDEuMjYxLFxuICAgICAgY3VycmVudFZvbHVtZTogMCxcbiAgICAgIGRvbmVUaW1lOiBuZXcgRGF0ZSgnMjAyMC0wNC0xNVQwMjo0NTowNi41MjFaJyksXG4gICAgICBpZDogJzQ2MjE0NjkyJyxcbiAgICAgIG1hZ2ljOiAxMDAwLFxuICAgICAgcGxhdGZvcm06ICdtdDUnLFxuICAgICAgcG9zaXRpb25JZDogJzQ2MjE0NjkyJyxcbiAgICAgIHN0YXRlOiAnT1JERVJfU1RBVEVfRklMTEVEJyxcbiAgICAgIHN5bWJvbDogJ0dCUFVTRCcsXG4gICAgICB0aW1lOiBuZXcgRGF0ZSgnMjAyMC0wNC0xNVQwMjo0NTowNi4yNjBaJyksXG4gICAgICB0eXBlOiAnT1JERVJfVFlQRV9CVVknLFxuICAgICAgdm9sdW1lOiAwLjA3XG4gICAgfV07XG4gICAgc2VydmVyLm9uKCdyZXF1ZXN0JywgZGF0YSA9PiB7XG4gICAgICBpZiAoZGF0YS50eXBlID09PSAnZ2V0SGlzdG9yeU9yZGVyc0J5UG9zaXRpb24nICYmIGRhdGEuYWNjb3VudElkID09PSAnYWNjb3VudElkJyAmJlxuICAgICAgICBkYXRhLnBvc2l0aW9uSWQgPT09ICc0NjIxNDY5MicgJiYgZGF0YS5hcHBsaWNhdGlvbiA9PT0gJ1JQQycpIHtcbiAgICAgICAgc2VydmVyLmVtaXQoJ3Jlc3BvbnNlJywge1xuICAgICAgICAgIHR5cGU6ICdyZXNwb25zZScsIGFjY291bnRJZDogZGF0YS5hY2NvdW50SWQsIHJlcXVlc3RJZDogZGF0YS5yZXF1ZXN0SWQsIGhpc3RvcnlPcmRlcnMsXG4gICAgICAgICAgc3luY2hyb25pemluZzogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGNsaWVudC5nZXRIaXN0b3J5T3JkZXJzQnlQb3NpdGlvbignYWNjb3VudElkJywgJzQ2MjE0NjkyJyk7XG4gICAgYWN0dWFsLnNob3VsZC5tYXRjaCh7aGlzdG9yeU9yZGVycywgc3luY2hyb25pemluZzogZmFsc2V9KTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpV2Vic29ja2V0Q2xpZW50I2dldEhpc3RvcnlPcmRlcnNCeVRpbWVSYW5nZX1cbiAgICovXG4gIGl0KCdzaG91bGQgcmV0cmlldmUgTWV0YVRyYWRlciBoaXN0b3J5IG9yZGVycyBmcm9tIEFQSSBieSB0aW1lIHJhbmdlJywgYXN5bmMgKCkgPT4ge1xuICAgIGxldCBoaXN0b3J5T3JkZXJzID0gW3tcbiAgICAgIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnLFxuICAgICAgY3VycmVudFByaWNlOiAxLjI2MSxcbiAgICAgIGN1cnJlbnRWb2x1bWU6IDAsXG4gICAgICBkb25lVGltZTogbmV3IERhdGUoJzIwMjAtMDQtMTVUMDI6NDU6MDYuNTIxWicpLFxuICAgICAgaWQ6ICc0NjIxNDY5MicsXG4gICAgICBtYWdpYzogMTAwMCxcbiAgICAgIHBsYXRmb3JtOiAnbXQ1JyxcbiAgICAgIHBvc2l0aW9uSWQ6ICc0NjIxNDY5MicsXG4gICAgICBzdGF0ZTogJ09SREVSX1NUQVRFX0ZJTExFRCcsXG4gICAgICBzeW1ib2w6ICdHQlBVU0QnLFxuICAgICAgdGltZTogbmV3IERhdGUoJzIwMjAtMDQtMTVUMDI6NDU6MDYuMjYwWicpLFxuICAgICAgdHlwZTogJ09SREVSX1RZUEVfQlVZJyxcbiAgICAgIHZvbHVtZTogMC4wN1xuICAgIH1dO1xuICAgIHNlcnZlci5vbigncmVxdWVzdCcsIGRhdGEgPT4ge1xuICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ2dldEhpc3RvcnlPcmRlcnNCeVRpbWVSYW5nZScgJiYgZGF0YS5hY2NvdW50SWQgPT09ICdhY2NvdW50SWQnICYmXG4gICAgICAgIGRhdGEuc3RhcnRUaW1lID09PSAnMjAyMC0wNC0xNVQwMjo0NTowMC4wMDBaJyAmJiBkYXRhLmVuZFRpbWUgPT09ICcyMDIwLTA0LTE1VDAyOjQ2OjAwLjAwMFonICYmXG4gICAgICAgIGRhdGEub2Zmc2V0ID09PSAxICYmIGRhdGEubGltaXQgPT09IDEwMCAmJiBkYXRhLmFwcGxpY2F0aW9uID09PSAnUlBDJykge1xuICAgICAgICBzZXJ2ZXIuZW1pdCgncmVzcG9uc2UnLCB7XG4gICAgICAgICAgdHlwZTogJ3Jlc3BvbnNlJywgYWNjb3VudElkOiBkYXRhLmFjY291bnRJZCwgcmVxdWVzdElkOiBkYXRhLnJlcXVlc3RJZCwgaGlzdG9yeU9yZGVycyxcbiAgICAgICAgICBzeW5jaHJvbml6aW5nOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBsZXQgYWN0dWFsID0gYXdhaXQgY2xpZW50LmdldEhpc3RvcnlPcmRlcnNCeVRpbWVSYW5nZSgnYWNjb3VudElkJywgbmV3IERhdGUoJzIwMjAtMDQtMTVUMDI6NDU6MDAuMDAwWicpLFxuICAgICAgbmV3IERhdGUoJzIwMjAtMDQtMTVUMDI6NDY6MDAuMDAwWicpLCAxLCAxMDApO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2goe2hpc3RvcnlPcmRlcnMsIHN5bmNocm9uaXppbmc6IGZhbHNlfSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaVdlYnNvY2tldENsaWVudCNnZXREZWFsc0J5VGlja2V0fVxuICAgKi9cbiAgaXQoJ3Nob3VsZCByZXRyaWV2ZSBNZXRhVHJhZGVyIGRlYWxzIGZyb20gQVBJIGJ5IHRpY2tldCcsIGFzeW5jICgpID0+IHtcbiAgICBsZXQgZGVhbHMgPSBbe1xuICAgICAgY2xpZW50SWQ6ICdURV9HQlBVU0RfN2h5SU5XcUFsRScsXG4gICAgICBjb21taXNzaW9uOiAtMC4yNSxcbiAgICAgIGVudHJ5VHlwZTogJ0RFQUxfRU5UUllfSU4nLFxuICAgICAgaWQ6ICczMzIzMDA5OScsXG4gICAgICBtYWdpYzogMTAwMCxcbiAgICAgIHBsYXRmb3JtOiAnbXQ1JyxcbiAgICAgIG9yZGVySWQ6ICc0NjIxNDY5MicsXG4gICAgICBwb3NpdGlvbklkOiAnNDYyMTQ2OTInLFxuICAgICAgcHJpY2U6IDEuMjYxMDEsXG4gICAgICBwcm9maXQ6IDAsXG4gICAgICBzd2FwOiAwLFxuICAgICAgc3ltYm9sOiAnR0JQVVNEJyxcbiAgICAgIHRpbWU6IG5ldyBEYXRlKCcyMDIwLTA0LTE1VDAyOjQ1OjA2LjUyMVonKSxcbiAgICAgIHR5cGU6ICdERUFMX1RZUEVfQlVZJyxcbiAgICAgIHZvbHVtZTogMC4wN1xuICAgIH1dO1xuICAgIHNlcnZlci5vbigncmVxdWVzdCcsIGRhdGEgPT4ge1xuICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ2dldERlYWxzQnlUaWNrZXQnICYmIGRhdGEuYWNjb3VudElkID09PSAnYWNjb3VudElkJyAmJiBkYXRhLnRpY2tldCA9PT0gJzQ2MjE0NjkyJyAmJlxuICAgICAgICBkYXRhLmFwcGxpY2F0aW9uID09PSAnUlBDJykge1xuICAgICAgICBzZXJ2ZXIuZW1pdCgncmVzcG9uc2UnLCB7XG4gICAgICAgICAgdHlwZTogJ3Jlc3BvbnNlJywgYWNjb3VudElkOiBkYXRhLmFjY291bnRJZCwgcmVxdWVzdElkOiBkYXRhLnJlcXVlc3RJZCwgZGVhbHMsXG4gICAgICAgICAgc3luY2hyb25pemluZzogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGNsaWVudC5nZXREZWFsc0J5VGlja2V0KCdhY2NvdW50SWQnLCAnNDYyMTQ2OTInKTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHtkZWFscywgc3luY2hyb25pemluZzogZmFsc2V9KTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpV2Vic29ja2V0Q2xpZW50I2dldERlYWxzQnlQb3NpdGlvbn1cbiAgICovXG4gIGl0KCdzaG91bGQgcmV0cmlldmUgTWV0YVRyYWRlciBkZWFscyBmcm9tIEFQSSBieSBwb3NpdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICBsZXQgZGVhbHMgPSBbe1xuICAgICAgY2xpZW50SWQ6ICdURV9HQlBVU0RfN2h5SU5XcUFsRScsXG4gICAgICBjb21taXNzaW9uOiAtMC4yNSxcbiAgICAgIGVudHJ5VHlwZTogJ0RFQUxfRU5UUllfSU4nLFxuICAgICAgaWQ6ICczMzIzMDA5OScsXG4gICAgICBtYWdpYzogMTAwMCxcbiAgICAgIHBsYXRmb3JtOiAnbXQ1JyxcbiAgICAgIG9yZGVySWQ6ICc0NjIxNDY5MicsXG4gICAgICBwb3NpdGlvbklkOiAnNDYyMTQ2OTInLFxuICAgICAgcHJpY2U6IDEuMjYxMDEsXG4gICAgICBwcm9maXQ6IDAsXG4gICAgICBzd2FwOiAwLFxuICAgICAgc3ltYm9sOiAnR0JQVVNEJyxcbiAgICAgIHRpbWU6IG5ldyBEYXRlKCcyMDIwLTA0LTE1VDAyOjQ1OjA2LjUyMVonKSxcbiAgICAgIHR5cGU6ICdERUFMX1RZUEVfQlVZJyxcbiAgICAgIHZvbHVtZTogMC4wN1xuICAgIH1dO1xuICAgIHNlcnZlci5vbigncmVxdWVzdCcsIGRhdGEgPT4ge1xuICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ2dldERlYWxzQnlQb3NpdGlvbicgJiYgZGF0YS5hY2NvdW50SWQgPT09ICdhY2NvdW50SWQnICYmIGRhdGEucG9zaXRpb25JZCA9PT0gJzQ2MjE0NjkyJyAmJlxuICAgICAgICBkYXRhLmFwcGxpY2F0aW9uID09PSAnUlBDJykge1xuICAgICAgICBzZXJ2ZXIuZW1pdCgncmVzcG9uc2UnLCB7XG4gICAgICAgICAgdHlwZTogJ3Jlc3BvbnNlJywgYWNjb3VudElkOiBkYXRhLmFjY291bnRJZCwgcmVxdWVzdElkOiBkYXRhLnJlcXVlc3RJZCwgZGVhbHMsXG4gICAgICAgICAgc3luY2hyb25pemluZzogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGNsaWVudC5nZXREZWFsc0J5UG9zaXRpb24oJ2FjY291bnRJZCcsICc0NjIxNDY5MicpO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2goe2RlYWxzLCBzeW5jaHJvbml6aW5nOiBmYWxzZX0pO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlXZWJzb2NrZXRDbGllbnQjZ2V0RGVhbHNCeVRpbWVSYW5nZX1cbiAgICovXG4gIGl0KCdzaG91bGQgcmV0cmlldmUgTWV0YVRyYWRlciBkZWFscyBmcm9tIEFQSSBieSB0aW1lIHJhbmdlJywgYXN5bmMgKCkgPT4ge1xuICAgIGxldCBkZWFscyA9IFt7XG4gICAgICBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJyxcbiAgICAgIGNvbW1pc3Npb246IC0wLjI1LFxuICAgICAgZW50cnlUeXBlOiAnREVBTF9FTlRSWV9JTicsXG4gICAgICBpZDogJzMzMjMwMDk5JyxcbiAgICAgIG1hZ2ljOiAxMDAwLFxuICAgICAgcGxhdGZvcm06ICdtdDUnLFxuICAgICAgb3JkZXJJZDogJzQ2MjE0NjkyJyxcbiAgICAgIHBvc2l0aW9uSWQ6ICc0NjIxNDY5MicsXG4gICAgICBwcmljZTogMS4yNjEwMSxcbiAgICAgIHByb2ZpdDogMCxcbiAgICAgIHN3YXA6IDAsXG4gICAgICBzeW1ib2w6ICdHQlBVU0QnLFxuICAgICAgdGltZTogbmV3IERhdGUoJzIwMjAtMDQtMTVUMDI6NDU6MDYuNTIxWicpLFxuICAgICAgdHlwZTogJ0RFQUxfVFlQRV9CVVknLFxuICAgICAgdm9sdW1lOiAwLjA3XG4gICAgfV07XG4gICAgc2VydmVyLm9uKCdyZXF1ZXN0JywgZGF0YSA9PiB7XG4gICAgICBpZiAoZGF0YS50eXBlID09PSAnZ2V0RGVhbHNCeVRpbWVSYW5nZScgJiYgZGF0YS5hY2NvdW50SWQgPT09ICdhY2NvdW50SWQnICYmXG4gICAgICAgIGRhdGEuc3RhcnRUaW1lID09PSAnMjAyMC0wNC0xNVQwMjo0NTowMC4wMDBaJyAmJiBkYXRhLmVuZFRpbWUgPT09ICcyMDIwLTA0LTE1VDAyOjQ2OjAwLjAwMFonICYmXG4gICAgICAgIGRhdGEub2Zmc2V0ID09PSAxICYmIGRhdGEubGltaXQgPT09IDEwMCAmJiBkYXRhLmFwcGxpY2F0aW9uID09PSAnUlBDJykge1xuICAgICAgICBzZXJ2ZXIuZW1pdCgncmVzcG9uc2UnLCB7XG4gICAgICAgICAgdHlwZTogJ3Jlc3BvbnNlJywgYWNjb3VudElkOiBkYXRhLmFjY291bnRJZCwgcmVxdWVzdElkOiBkYXRhLnJlcXVlc3RJZCwgZGVhbHMsXG4gICAgICAgICAgc3luY2hyb25pemluZzogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGNsaWVudC5nZXREZWFsc0J5VGltZVJhbmdlKCdhY2NvdW50SWQnLCBuZXcgRGF0ZSgnMjAyMC0wNC0xNVQwMjo0NTowMC4wMDBaJyksXG4gICAgICBuZXcgRGF0ZSgnMjAyMC0wNC0xNVQwMjo0NjowMC4wMDBaJyksIDEsIDEwMCk7XG4gICAgYWN0dWFsLnNob3VsZC5tYXRjaCh7ZGVhbHMsIHN5bmNocm9uaXppbmc6IGZhbHNlfSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaVdlYnNvY2tldENsaWVudCNyZW1vdmVBcHBsaWNhdGlvbn1cbiAgICovXG4gIGl0KCdzaG91bGQgcmVtb3ZlIGFwcGxpY2F0aW9uIGZyb20gQVBJJywgYXN5bmMgKCkgPT4ge1xuICAgIGxldCByZXF1ZXN0UmVjZWl2ZWQgPSBmYWxzZTtcbiAgICBzZXJ2ZXIub24oJ3JlcXVlc3QnLCBkYXRhID0+IHtcbiAgICAgIGlmIChkYXRhLnR5cGUgPT09ICdyZW1vdmVBcHBsaWNhdGlvbicgJiYgZGF0YS5hY2NvdW50SWQgPT09ICdhY2NvdW50SWQnICYmIGRhdGEuYXBwbGljYXRpb24gPT09ICdhcHBsaWNhdGlvbicpIHtcbiAgICAgICAgcmVxdWVzdFJlY2VpdmVkID0gdHJ1ZTtcbiAgICAgICAgc2VydmVyLmVtaXQoJ3Jlc3BvbnNlJywge3R5cGU6ICdyZXNwb25zZScsIGFjY291bnRJZDogZGF0YS5hY2NvdW50SWQsIHJlcXVlc3RJZDogZGF0YS5yZXF1ZXN0SWR9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBhd2FpdCBjbGllbnQucmVtb3ZlQXBwbGljYXRpb24oJ2FjY291bnRJZCcpO1xuICAgIHJlcXVlc3RSZWNlaXZlZC5zaG91bGQuYmUudHJ1ZSgpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlXZWJzb2NrZXRDbGllbnQjdHJhZGV9XG4gICAqL1xuICBpdCgnc2hvdWxkIGV4ZWN1dGUgYSB0cmFkZSB2aWEgbmV3IEFQSSB2ZXJzaW9uJywgYXN5bmMgKCkgPT4ge1xuICAgIGxldCB0cmFkZSA9IHtcbiAgICAgIGFjdGlvblR5cGU6ICdPUkRFUl9UWVBFX1NFTEwnLFxuICAgICAgc3ltYm9sOiAnQVVETlpEJyxcbiAgICAgIHZvbHVtZTogMC4wN1xuICAgIH07XG4gICAgbGV0IHJlc3BvbnNlID0ge1xuICAgICAgbnVtZXJpY0NvZGU6IDEwMDA5LFxuICAgICAgc3RyaW5nQ29kZTogJ1RSQURFX1JFVENPREVfRE9ORScsXG4gICAgICBtZXNzYWdlOiAnUmVxdWVzdCBjb21wbGV0ZWQnLFxuICAgICAgb3JkZXJJZDogJzQ2ODcwNDcyJ1xuICAgIH07XG4gICAgc2FuZGJveC5zdHViKGNsaWVudC5fc3Vic2NyaXB0aW9uTWFuYWdlciwgJ2lzU3Vic2NyaXB0aW9uQWN0aXZlJykucmV0dXJucyh0cnVlKTtcbiAgICBzZXJ2ZXIuZW1pdCgnc3luY2hyb25pemF0aW9uJywge3R5cGU6ICdhdXRoZW50aWNhdGVkJywgYWNjb3VudElkOiAnYWNjb3VudElkJywgaG9zdDogJ3BzLW1wYS0xJyxcbiAgICAgIGluc3RhbmNlSW5kZXg6IDAsIHJlcGxpY2FzOiAxfSk7XG4gICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCAxMDApKTtcbiAgICBsZXQgaW5zdGFuY2VJbmRleDtcbiAgICBzZXJ2ZXIub24oJ3JlcXVlc3QnLCBkYXRhID0+IHtcbiAgICAgIGluc3RhbmNlSW5kZXggPSBkYXRhLmluc3RhbmNlSW5kZXg7XG4gICAgICBkYXRhLnRyYWRlLnNob3VsZC5tYXRjaCh0cmFkZSk7XG4gICAgICBpZiAoZGF0YS50eXBlID09PSAndHJhZGUnICYmIGRhdGEuYWNjb3VudElkID09PSAnYWNjb3VudElkJyAmJiBkYXRhLmFwcGxpY2F0aW9uID09PSAnYXBwbGljYXRpb24nKSB7XG4gICAgICAgIHNlcnZlci5lbWl0KCdyZXNwb25zZScsIHt0eXBlOiAncmVzcG9uc2UnLCBhY2NvdW50SWQ6IGRhdGEuYWNjb3VudElkLCByZXF1ZXN0SWQ6IGRhdGEucmVxdWVzdElkLCByZXNwb25zZX0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBjbGllbnQudHJhZGUoJ2FjY291bnRJZCcsIHRyYWRlKTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHJlc3BvbnNlKTtcbiAgICBzaG91bGQuZXF1YWwoaW5zdGFuY2VJbmRleCwgMCk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaVdlYnNvY2tldENsaWVudCN0cmFkZX1cbiAgICovXG4gIGl0KCdzaG91bGQgZXhlY3V0ZSBhIHRyYWRlIHZpYSBhIHJlcGxpY2EgYWNjb3VudCcsIGFzeW5jICgpID0+IHtcbiAgICBnZXRBY3RpdmVJbnN0YW5jZXNTdHViLnJldHVybnMoWydhY2NvdW50SWQ6bmV3LXlvcms6MDpwcy1tcGEtMiddKTtcbiAgICBsZXQgdHJhZGUgPSB7XG4gICAgICBhY3Rpb25UeXBlOiAnT1JERVJfVFlQRV9TRUxMJyxcbiAgICAgIHN5bWJvbDogJ0FVRE5aRCcsXG4gICAgICB2b2x1bWU6IDAuMDdcbiAgICB9O1xuICAgIGxldCByZXNwb25zZSA9IHtcbiAgICAgIG51bWVyaWNDb2RlOiAxMDAwOSxcbiAgICAgIHN0cmluZ0NvZGU6ICdUUkFERV9SRVRDT0RFX0RPTkUnLFxuICAgICAgbWVzc2FnZTogJ1JlcXVlc3QgY29tcGxldGVkJyxcbiAgICAgIG9yZGVySWQ6ICc0Njg3MDQ3MidcbiAgICB9O1xuICAgIHNhbmRib3guc3R1YihjbGllbnQuX3N1YnNjcmlwdGlvbk1hbmFnZXIsICdpc1N1YnNjcmlwdGlvbkFjdGl2ZScpLnJldHVybnModHJ1ZSk7XG4gICAgc2VydmVyTmV3WW9yay5lbWl0KCdzeW5jaHJvbml6YXRpb24nLCB7dHlwZTogJ2F1dGhlbnRpY2F0ZWQnLCBhY2NvdW50SWQ6ICdhY2NvdW50SWRSZXBsaWNhJywgaG9zdDogJ3BzLW1wYS0yJyxcbiAgICAgIGluc3RhbmNlSW5kZXg6IDAsIHJlcGxpY2FzOiAxfSk7XG4gICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCAxMDApKTtcbiAgICBsZXQgaW5zdGFuY2VJbmRleDtcbiAgICBzZXJ2ZXJOZXdZb3JrLm9uKCdyZXF1ZXN0JywgZGF0YSA9PiB7XG4gICAgICBpbnN0YW5jZUluZGV4ID0gZGF0YS5pbnN0YW5jZUluZGV4O1xuICAgICAgZGF0YS50cmFkZS5zaG91bGQubWF0Y2godHJhZGUpO1xuICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ3RyYWRlJyAmJiBkYXRhLmFjY291bnRJZCA9PT0gJ2FjY291bnRJZFJlcGxpY2EnICYmIGRhdGEuYXBwbGljYXRpb24gPT09ICdhcHBsaWNhdGlvbicpIHtcbiAgICAgICAgc2VydmVyTmV3WW9yay5lbWl0KCdyZXNwb25zZScsIHt0eXBlOiAncmVzcG9uc2UnLCBhY2NvdW50SWQ6IGRhdGEuYWNjb3VudElkLCBcbiAgICAgICAgICByZXF1ZXN0SWQ6IGRhdGEucmVxdWVzdElkLCByZXNwb25zZX0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBjbGllbnQudHJhZGUoJ2FjY291bnRJZCcsIHRyYWRlKTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHJlc3BvbnNlKTtcbiAgICBzaG91bGQuZXF1YWwoaW5zdGFuY2VJbmRleCwgMCk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaVdlYnNvY2tldENsaWVudCN0cmFkZX1cbiAgICovXG4gIGl0KCdzaG91bGQgZXhlY3V0ZSBhbiBSUEMgdHJhZGUnLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IHRyYWRlID0ge1xuICAgICAgYWN0aW9uVHlwZTogJ09SREVSX1RZUEVfU0VMTCcsXG4gICAgICBzeW1ib2w6ICdBVUROWkQnLFxuICAgICAgdm9sdW1lOiAwLjA3XG4gICAgfTtcbiAgICBsZXQgcmVzcG9uc2UgPSB7XG4gICAgICBudW1lcmljQ29kZTogMTAwMDksXG4gICAgICBzdHJpbmdDb2RlOiAnVFJBREVfUkVUQ09ERV9ET05FJyxcbiAgICAgIG1lc3NhZ2U6ICdSZXF1ZXN0IGNvbXBsZXRlZCcsXG4gICAgICBvcmRlcklkOiAnNDY4NzA0NzInXG4gICAgfTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50Ll9zdWJzY3JpcHRpb25NYW5hZ2VyLCAnaXNTdWJzY3JpcHRpb25BY3RpdmUnKS5yZXR1cm5zKHRydWUpO1xuICAgIHNlcnZlci5lbWl0KCdzeW5jaHJvbml6YXRpb24nLCB7dHlwZTogJ2F1dGhlbnRpY2F0ZWQnLCBhY2NvdW50SWQ6ICdhY2NvdW50SWQnLCBob3N0OiAncHMtbXBhLTEnLFxuICAgICAgaW5zdGFuY2VJbmRleDogMCwgcmVwbGljYXM6IDF9KTtcbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIDUwKSk7XG4gICAgbGV0IGluc3RhbmNlSW5kZXg7XG4gICAgc2VydmVyLm9uKCdyZXF1ZXN0JywgZGF0YSA9PiB7XG4gICAgICBpbnN0YW5jZUluZGV4ID0gZGF0YS5pbnN0YW5jZUluZGV4O1xuICAgICAgZGF0YS50cmFkZS5zaG91bGQubWF0Y2godHJhZGUpO1xuICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ3RyYWRlJyAmJiBkYXRhLmFjY291bnRJZCA9PT0gJ2FjY291bnRJZCcgJiYgZGF0YS5hcHBsaWNhdGlvbiA9PT0gJ1JQQycpIHtcbiAgICAgICAgc2VydmVyLmVtaXQoJ3Jlc3BvbnNlJywge3R5cGU6ICdyZXNwb25zZScsIGFjY291bnRJZDogZGF0YS5hY2NvdW50SWQsIHJlcXVlc3RJZDogZGF0YS5yZXF1ZXN0SWQsIHJlc3BvbnNlfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGNsaWVudC50cmFkZSgnYWNjb3VudElkJywgdHJhZGUsICdSUEMnKTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHJlc3BvbnNlKTtcbiAgICBzaG91bGQubm90LmV4aXN0KGluc3RhbmNlSW5kZXgpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlXZWJzb2NrZXRDbGllbnQjdHJhZGV9XG4gICAqL1xuICBpdCgnc2hvdWxkIGV4ZWN1dGUgYSB0cmFkZSB2aWEgQVBJIGFuZCByZWNlaXZlIHRyYWRlIGVycm9yIGZyb20gb2xkIEFQSSB2ZXJzaW9uJywgYXN5bmMgKCkgPT4ge1xuICAgIGxldCB0cmFkZSA9IHtcbiAgICAgIGFjdGlvblR5cGU6ICdPUkRFUl9UWVBFX1NFTEwnLFxuICAgICAgc3ltYm9sOiAnQVVETlpEJyxcbiAgICAgIHZvbHVtZTogMC4wN1xuICAgIH07XG4gICAgbGV0IHJlc3BvbnNlID0ge1xuICAgICAgZXJyb3I6IDEwMDA2LFxuICAgICAgZGVzY3JpcHRpb246ICdUUkFERV9SRVRDT0RFX1JFSkVDVCcsXG4gICAgICBtZXNzYWdlOiAnUmVxdWVzdCByZWplY3RlZCcsXG4gICAgICBvcmRlcklkOiAnNDY4NzA0NzInXG4gICAgfTtcbiAgICBzZXJ2ZXIub24oJ3JlcXVlc3QnLCBkYXRhID0+IHtcbiAgICAgIGRhdGEudHJhZGUuc2hvdWxkLm1hdGNoKHRyYWRlKTtcbiAgICAgIGlmIChkYXRhLnR5cGUgPT09ICd0cmFkZScgJiYgZGF0YS5hY2NvdW50SWQgPT09ICdhY2NvdW50SWQnICYmIGRhdGEuYXBwbGljYXRpb24gPT09ICdhcHBsaWNhdGlvbicpIHtcbiAgICAgICAgc2VydmVyLmVtaXQoJ3Jlc3BvbnNlJywge3R5cGU6ICdyZXNwb25zZScsIGFjY291bnRJZDogZGF0YS5hY2NvdW50SWQsIHJlcXVlc3RJZDogZGF0YS5yZXF1ZXN0SWQsIHJlc3BvbnNlfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGNsaWVudC50cmFkZSgnYWNjb3VudElkJywgdHJhZGUpO1xuICAgICAgc2hvdWxkLmZhaWwoJ1RyYWRlIGVycm9yIGV4cGVjdGVkJyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBlcnIubWVzc2FnZS5zaG91bGQuZXF1YWwoJ1JlcXVlc3QgcmVqZWN0ZWQnKTtcbiAgICAgIGVyci5uYW1lLnNob3VsZC5lcXVhbCgnVHJhZGVFcnJvcicpO1xuICAgICAgZXJyLnN0cmluZ0NvZGUuc2hvdWxkLmVxdWFsKCdUUkFERV9SRVRDT0RFX1JFSkVDVCcpO1xuICAgICAgZXJyLm51bWVyaWNDb2RlLnNob3VsZC5lcXVhbCgxMDAwNik7XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlXZWJzb2NrZXRDbGllbnQjc3Vic2NyaWJlfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBjb25uZWN0IHRvIE1ldGFUcmFkZXIgdGVybWluYWwnLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IHJlcXVlc3RSZWNlaXZlZCA9IGZhbHNlO1xuICAgIHNlcnZlci5vbigncmVxdWVzdCcsIGRhdGEgPT4ge1xuICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ3N1YnNjcmliZScgJiYgZGF0YS5hY2NvdW50SWQgPT09ICdhY2NvdW50SWQnICYmIGRhdGEuYXBwbGljYXRpb24gPT09ICdhcHBsaWNhdGlvbicgJiZcbiAgICAgICAgZGF0YS5pbnN0YW5jZUluZGV4ID09PSAwKSB7XG4gICAgICAgIHNlcnZlci5lbWl0KCdyZXNwb25zZScsIHt0eXBlOiAncmVzcG9uc2UnLCBhY2NvdW50SWQ6IGRhdGEuYWNjb3VudElkLCByZXF1ZXN0SWQ6IGRhdGEucmVxdWVzdElkfSk7XG4gICAgICAgIHJlcXVlc3RSZWNlaXZlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYXdhaXQgY2xpZW50LnN1YnNjcmliZSgnYWNjb3VudElkJywgMCk7XG4gICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCA1MCkpO1xuICAgIHJlcXVlc3RSZWNlaXZlZC5zaG91bGQuYmUudHJ1ZSgpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlXZWJzb2NrZXRDbGllbnQjc3Vic2NyaWJlfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBjb25uZWN0IHRvIE1ldGFUcmFkZXIgdGVybWluYWwgdmlhIGEgcmVwbGljYSBldmVuIGlmIHN5bmNlZCBtYWluJywgYXN5bmMgKCkgPT4ge1xuICAgIGdldEFjdGl2ZUluc3RhbmNlc1N0dWIucmV0dXJucyhbJ2FjY291bnRJZDp2aW50LWhpbGw6MDpwcy1tcGEtMSddKTtcbiAgICBsZXQgcmVxdWVzdFJlY2VpdmVkID0gZmFsc2U7XG4gICAgc2VydmVyTmV3WW9yay5vbigncmVxdWVzdCcsIGRhdGEgPT4ge1xuICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ3N1YnNjcmliZScgJiYgZGF0YS5hY2NvdW50SWQgPT09ICdhY2NvdW50SWRSZXBsaWNhJyAmJiBkYXRhLmFwcGxpY2F0aW9uID09PSAnYXBwbGljYXRpb24nICYmXG4gICAgICAgIGRhdGEuaW5zdGFuY2VJbmRleCA9PT0gMCkge1xuICAgICAgICBzZXJ2ZXJOZXdZb3JrLmVtaXQoJ3Jlc3BvbnNlJywge3R5cGU6ICdyZXNwb25zZScsIGFjY291bnRJZDogZGF0YS5hY2NvdW50SWQsIHJlcXVlc3RJZDogZGF0YS5yZXF1ZXN0SWR9KTtcbiAgICAgICAgcmVxdWVzdFJlY2VpdmVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBhd2FpdCBjbGllbnQuc3Vic2NyaWJlKCdhY2NvdW50SWRSZXBsaWNhJywgMCk7XG4gICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCA1MCkpO1xuICAgIHJlcXVlc3RSZWNlaXZlZC5zaG91bGQuYmUudHJ1ZSgpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlXZWJzb2NrZXRDbGllbnQjc3Vic2NyaWJlfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBjcmVhdGUgbmV3IGluc3RhbmNlIHdoZW4gYWNjb3VudCBsaW1pdCBpcyByZWFjaGVkJywgYXN5bmMgKCkgPT4ge1xuICAgIHNpbm9uLmFzc2VydC5tYXRjaChjbGllbnQuc29ja2V0SW5zdGFuY2VzWyd2aW50LWhpbGwnXVswXS5sZW5ndGgsIDEpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTAwOyBpKyspIHtcbiAgICAgIGNsaWVudC5fc29ja2V0SW5zdGFuY2VzQnlBY2NvdW50c1swXVsnYWNjb3VudElkJyArIGldID0gMDtcbiAgICAgIGNsaWVudC5fcmVnaW9uc0J5QWNjb3VudHNbJ2FjY291bnRJZCcgKyBpXSA9IHtyZWdpb246ICd2aW50LWhpbGwnLCBjb25uZWN0aW9uczogMX07XG4gICAgfVxuXG4gICAgaW8ucmVtb3ZlQWxsTGlzdGVuZXJzKCdjb25uZWN0Jyk7XG4gICAgaW8ub24oJ2Nvbm5lY3QnLCBzb2NrZXQgPT4ge1xuICAgICAgc29ja2V0Lm9uKCdyZXF1ZXN0JywgZGF0YSA9PiB7XG4gICAgICAgIGlmIChkYXRhLnR5cGUgPT09ICdzdWJzY3JpYmUnICYmIGRhdGEuYWNjb3VudElkID09PSAnYWNjb3VudElkMTAxJyAmJiBkYXRhLmFwcGxpY2F0aW9uID09PSAnYXBwbGljYXRpb24nICYmXG4gICAgICAgICAgZGF0YS5pbnN0YW5jZUluZGV4ID09PSAwKSB7XG4gICAgICAgICAgc29ja2V0LmVtaXQoJ3Jlc3BvbnNlJywge3R5cGU6ICdyZXNwb25zZScsIGFjY291bnRJZDogZGF0YS5hY2NvdW50SWQsIHJlcXVlc3RJZDogZGF0YS5yZXF1ZXN0SWR9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgY2xpZW50Ll9yZWdpb25zQnlBY2NvdW50cy5hY2NvdW50SWQxMDEgPSB7cmVnaW9uOiAndmludC1oaWxsJywgY29ubmVjdGlvbnM6IDF9O1xuICAgIGF3YWl0IGNsaWVudC5zdWJzY3JpYmUoJ2FjY291bnRJZDEwMScsIDApO1xuICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgNTApKTtcbiAgICBzaW5vbi5hc3NlcnQubWF0Y2goY2xpZW50LnNvY2tldEluc3RhbmNlc1sndmludC1oaWxsJ11bMF0ubGVuZ3RoLCAyKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpV2Vic29ja2V0Q2xpZW50I3N1YnNjcmliZX1cbiAgICovXG4gIGl0KCdzaG91bGQgcmV0dXJuIGVycm9yIGlmIGNvbm5lY3QgdG8gTWV0YVRyYWRlciB0ZXJtaW5hbCBmYWlsZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IHJlcXVlc3RSZWNlaXZlZCA9IGZhbHNlO1xuICAgIHNlcnZlci5vbigncmVxdWVzdCcsIGRhdGEgPT4ge1xuICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ3N1YnNjcmliZScgJiYgZGF0YS5hY2NvdW50SWQgPT09ICdhY2NvdW50SWQnICYmIGRhdGEuYXBwbGljYXRpb24gPT09ICdhcHBsaWNhdGlvbicpIHtcbiAgICAgICAgcmVxdWVzdFJlY2VpdmVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHNlcnZlci5lbWl0KCdwcm9jZXNzaW5nRXJyb3InLCB7XG4gICAgICAgIGlkOiAxLCBlcnJvcjogJ05vdEF1dGhlbnRpY2F0ZWRFcnJvcicsIG1lc3NhZ2U6ICdFcnJvciBtZXNzYWdlJyxcbiAgICAgICAgcmVxdWVzdElkOiBkYXRhLnJlcXVlc3RJZFxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgbGV0IHN1Y2Nlc3MgPSB0cnVlO1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBjbGllbnQuc3Vic2NyaWJlKCdhY2NvdW50SWQnLCAwKTtcbiAgICAgIHN1Y2Nlc3MgPSBmYWxzZTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGVyci5uYW1lLnNob3VsZC5lcXVhbCgnTm90Q29ubmVjdGVkRXJyb3InKTtcbiAgICB9XG4gICAgc3VjY2Vzcy5zaG91bGQuYmUudHJ1ZSgpO1xuICAgIHJlcXVlc3RSZWNlaXZlZC5zaG91bGQuYmUudHJ1ZSgpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlXZWJzb2NrZXRDbGllbnQjZ2V0U3ltYm9sc31cbiAgICovXG4gIGl0KCdzaG91bGQgcmV0cmlldmUgc3ltYm9scyBmcm9tIEFQSScsIGFzeW5jICgpID0+IHtcbiAgICBsZXQgc3ltYm9scyA9IFsnRVVSVVNEJ107XG4gICAgc2VydmVyLm9uKCdyZXF1ZXN0JywgZGF0YSA9PiB7XG4gICAgICBpZiAoZGF0YS50eXBlID09PSAnZ2V0U3ltYm9scycgJiYgZGF0YS5hY2NvdW50SWQgPT09ICdhY2NvdW50SWQnICYmIGRhdGEuYXBwbGljYXRpb24gPT09ICdSUEMnKSB7XG4gICAgICAgIHNlcnZlci5lbWl0KCdyZXNwb25zZScsIHtcbiAgICAgICAgICB0eXBlOiAncmVzcG9uc2UnLCBhY2NvdW50SWQ6IGRhdGEuYWNjb3VudElkLCByZXF1ZXN0SWQ6IGRhdGEucmVxdWVzdElkLCBzeW1ib2xzXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBjbGllbnQuZ2V0U3ltYm9scygnYWNjb3VudElkJyk7XG4gICAgYWN0dWFsLnNob3VsZC5tYXRjaChzeW1ib2xzKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpV2Vic29ja2V0Q2xpZW50I2dldFN5bWJvbFNwZWNpZmljYXRpb259XG4gICAqL1xuICBpdCgnc2hvdWxkIHJldHJpZXZlIHN5bWJvbCBzcGVjaWZpY2F0aW9uIGZyb20gQVBJJywgYXN5bmMgKCkgPT4ge1xuICAgIGxldCBzcGVjaWZpY2F0aW9uID0ge1xuICAgICAgc3ltYm9sOiAnQVVETlpEJyxcbiAgICAgIHRpY2tTaXplOiAwLjAwMDAxLFxuICAgICAgbWluVm9sdW1lOiAwLjAxLFxuICAgICAgbWF4Vm9sdW1lOiAxMDAsXG4gICAgICB2b2x1bWVTdGVwOiAwLjAxXG4gICAgfTtcbiAgICBzZXJ2ZXIub24oJ3JlcXVlc3QnLCBkYXRhID0+IHtcbiAgICAgIGlmIChkYXRhLnR5cGUgPT09ICdnZXRTeW1ib2xTcGVjaWZpY2F0aW9uJyAmJiBkYXRhLmFjY291bnRJZCA9PT0gJ2FjY291bnRJZCcgJiYgZGF0YS5zeW1ib2wgPT09ICdBVUROWkQnICYmXG4gICAgICAgIGRhdGEuYXBwbGljYXRpb24gPT09ICdSUEMnKSB7XG4gICAgICAgIHNlcnZlci5lbWl0KCdyZXNwb25zZScsIHtcbiAgICAgICAgICB0eXBlOiAncmVzcG9uc2UnLCBhY2NvdW50SWQ6IGRhdGEuYWNjb3VudElkLCByZXF1ZXN0SWQ6IGRhdGEucmVxdWVzdElkLFxuICAgICAgICAgIHNwZWNpZmljYXRpb25cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGNsaWVudC5nZXRTeW1ib2xTcGVjaWZpY2F0aW9uKCdhY2NvdW50SWQnLCAnQVVETlpEJyk7XG4gICAgYWN0dWFsLnNob3VsZC5tYXRjaChzcGVjaWZpY2F0aW9uKTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEB0ZXN0IHtNZXRhQXBpV2Vic29ja2V0Q2xpZW50I2dldFN5bWJvbFByaWNlfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCByZXRyaWV2ZSBzeW1ib2wgcHJpY2UgZnJvbSBBUEknLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IHByaWNlID0ge1xuICAgICAgc3ltYm9sOiAnQVVETlpEJyxcbiAgICAgIGJpZDogMS4wNTI5NyxcbiAgICAgIGFzazogMS4wNTMwOSxcbiAgICAgIHByb2ZpdFRpY2tWYWx1ZTogMC41OTczMSxcbiAgICAgIGxvc3NUaWNrVmFsdWU6IDAuNTk3MzZcbiAgICB9O1xuICAgIHNlcnZlci5vbigncmVxdWVzdCcsIGRhdGEgPT4ge1xuICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ2dldFN5bWJvbFByaWNlJyAmJiBkYXRhLmFjY291bnRJZCA9PT0gJ2FjY291bnRJZCcgJiYgZGF0YS5zeW1ib2wgPT09ICdBVUROWkQnICYmXG4gICAgICAgIGRhdGEuYXBwbGljYXRpb24gPT09ICdSUEMnICYmIGRhdGEua2VlcFN1YnNjcmlwdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgICBzZXJ2ZXIuZW1pdCgncmVzcG9uc2UnLCB7dHlwZTogJ3Jlc3BvbnNlJywgYWNjb3VudElkOiBkYXRhLmFjY291bnRJZCwgcmVxdWVzdElkOiBkYXRhLnJlcXVlc3RJZCwgcHJpY2V9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBsZXQgYWN0dWFsID0gYXdhaXQgY2xpZW50LmdldFN5bWJvbFByaWNlKCdhY2NvdW50SWQnLCAnQVVETlpEJywgdHJ1ZSk7XG4gICAgYWN0dWFsLnNob3VsZC5tYXRjaChwcmljZSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaVdlYnNvY2tldENsaWVudCNnZXRDYW5kbGV9XG4gICAqL1xuICBpdCgnc2hvdWxkIHJldHJpZXZlIGNhbmRsZSBmcm9tIEFQSScsIGFzeW5jICgpID0+IHtcbiAgICBsZXQgY2FuZGxlID0ge1xuICAgICAgc3ltYm9sOiAnQVVETlpEJyxcbiAgICAgIHRpbWVmcmFtZTogJzE1bScsXG4gICAgICB0aW1lOiBuZXcgRGF0ZSgnMjAyMC0wNC0wN1QwMzo0NTowMC4wMDBaJyksXG4gICAgICBicm9rZXJUaW1lOiAnMjAyMC0wNC0wNyAwNjo0NTowMC4wMDAnLFxuICAgICAgb3BlbjogMS4wMzI5NyxcbiAgICAgIGhpZ2g6IDEuMDYzMDksXG4gICAgICBsb3c6IDEuMDI3MDUsXG4gICAgICBjbG9zZTogMS4wNDMsXG4gICAgICB0aWNrVm9sdW1lOiAxNDM1LFxuICAgICAgc3ByZWFkOiAxNyxcbiAgICAgIHZvbHVtZTogMzQ1XG4gICAgfTtcbiAgICBzZXJ2ZXIub24oJ3JlcXVlc3QnLCBkYXRhID0+IHtcbiAgICAgIGlmIChkYXRhLnR5cGUgPT09ICdnZXRDYW5kbGUnICYmIGRhdGEuYWNjb3VudElkID09PSAnYWNjb3VudElkJyAmJiBkYXRhLnN5bWJvbCA9PT0gJ0FVRE5aRCcgJiZcbiAgICAgICAgZGF0YS5hcHBsaWNhdGlvbiA9PT0gJ1JQQycgJiYgZGF0YS50aW1lZnJhbWUgPT09ICcxNW0nICYmIGRhdGEua2VlcFN1YnNjcmlwdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgICBzZXJ2ZXIuZW1pdCgncmVzcG9uc2UnLCB7dHlwZTogJ3Jlc3BvbnNlJywgYWNjb3VudElkOiBkYXRhLmFjY291bnRJZCwgcmVxdWVzdElkOiBkYXRhLnJlcXVlc3RJZCwgY2FuZGxlfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbGV0IGFjdHVhbCA9IGF3YWl0IGNsaWVudC5nZXRDYW5kbGUoJ2FjY291bnRJZCcsICdBVUROWkQnLCAnMTVtJywgdHJ1ZSk7XG4gICAgYWN0dWFsLnNob3VsZC5tYXRjaChjYW5kbGUpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlXZWJzb2NrZXRDbGllbnQjZ2V0VGlja31cbiAgICovXG4gIGl0KCdzaG91bGQgcmV0cmlldmUgbGF0ZXN0IHRpY2sgZnJvbSBBUEknLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IHRpY2sgPSB7XG4gICAgICBzeW1ib2w6ICdBVUROWkQnLFxuICAgICAgdGltZTogbmV3IERhdGUoJzIwMjAtMDQtMDdUMDM6NDU6MDAuMDAwWicpLFxuICAgICAgYnJva2VyVGltZTogJzIwMjAtMDQtMDcgMDY6NDU6MDAuMDAwJyxcbiAgICAgIGJpZDogMS4wNTI5NyxcbiAgICAgIGFzazogMS4wNTMwOSxcbiAgICAgIGxhc3Q6IDAuNTI5OCxcbiAgICAgIHZvbHVtZTogMC4xMyxcbiAgICAgIHNpZGU6ICdidXknXG4gICAgfTtcbiAgICBzZXJ2ZXIub24oJ3JlcXVlc3QnLCBkYXRhID0+IHtcbiAgICAgIGlmIChkYXRhLnR5cGUgPT09ICdnZXRUaWNrJyAmJiBkYXRhLmFjY291bnRJZCA9PT0gJ2FjY291bnRJZCcgJiYgZGF0YS5zeW1ib2wgPT09ICdBVUROWkQnICYmXG4gICAgICAgIGRhdGEuYXBwbGljYXRpb24gPT09ICdSUEMnICYmIGRhdGEua2VlcFN1YnNjcmlwdGlvbiA9PT0gdHJ1ZSkge1xuICAgICAgICBzZXJ2ZXIuZW1pdCgncmVzcG9uc2UnLCB7dHlwZTogJ3Jlc3BvbnNlJywgYWNjb3VudElkOiBkYXRhLmFjY291bnRJZCwgcmVxdWVzdElkOiBkYXRhLnJlcXVlc3RJZCwgdGlja30pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGxldCBhY3R1YWwgPSBhd2FpdCBjbGllbnQuZ2V0VGljaygnYWNjb3VudElkJywgJ0FVRE5aRCcsIHRydWUpO1xuICAgIGFjdHVhbC5zaG91bGQubWF0Y2godGljayk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaVdlYnNvY2tldENsaWVudCNnZXRCb29rfVxuICAgKi9cbiAgaXQoJ3Nob3VsZCByZXRyaWV2ZSBsYXRlc3Qgb3JkZXIgYm9vayBmcm9tIEFQSScsIGFzeW5jICgpID0+IHtcbiAgICBsZXQgYm9vayA9IHtcbiAgICAgIHN5bWJvbDogJ0FVRE5aRCcsXG4gICAgICB0aW1lOiBuZXcgRGF0ZSgnMjAyMC0wNC0wN1QwMzo0NTowMC4wMDBaJyksXG4gICAgICBicm9rZXJUaW1lOiAnMjAyMC0wNC0wNyAwNjo0NTowMC4wMDAnLFxuICAgICAgYm9vazogW1xuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogJ0JPT0tfVFlQRV9TRUxMJyxcbiAgICAgICAgICBwcmljZTogMS4wNTMwOSxcbiAgICAgICAgICB2b2x1bWU6IDUuNjdcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6ICdCT09LX1RZUEVfQlVZJyxcbiAgICAgICAgICBwcmljZTogMS4wNTI5NyxcbiAgICAgICAgICB2b2x1bWU6IDMuNDVcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH07XG4gICAgc2VydmVyLm9uKCdyZXF1ZXN0JywgZGF0YSA9PiB7XG4gICAgICBpZiAoZGF0YS50eXBlID09PSAnZ2V0Qm9vaycgJiYgZGF0YS5hY2NvdW50SWQgPT09ICdhY2NvdW50SWQnICYmIGRhdGEuc3ltYm9sID09PSAnQVVETlpEJyAmJlxuICAgICAgICBkYXRhLmFwcGxpY2F0aW9uID09PSAnUlBDJyAmJiBkYXRhLmtlZXBTdWJzY3JpcHRpb24gPT09IHRydWUpIHtcbiAgICAgICAgc2VydmVyLmVtaXQoJ3Jlc3BvbnNlJywge3R5cGU6ICdyZXNwb25zZScsIGFjY291bnRJZDogZGF0YS5hY2NvdW50SWQsIHJlcXVlc3RJZDogZGF0YS5yZXF1ZXN0SWQsIGJvb2t9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBsZXQgYWN0dWFsID0gYXdhaXQgY2xpZW50LmdldEJvb2soJ2FjY291bnRJZCcsICdBVUROWkQnLCB0cnVlKTtcbiAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKGJvb2spO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlXZWJzb2NrZXRDbGllbnQjc2VuZFVwdGltZX1cbiAgICovXG4gIGl0KCdzaG91bGQgc2VudCB1cHRpbWUgc3RhdHMgdG8gdGhlIHNlcnZlcicsIGFzeW5jICgpID0+IHtcbiAgICBzZXJ2ZXIub24oJ3JlcXVlc3QnLCBkYXRhID0+IHtcbiAgICAgIGlmIChkYXRhLnR5cGUgPT09ICdzYXZlVXB0aW1lJyAmJiBkYXRhLmFjY291bnRJZCA9PT0gJ2FjY291bnRJZCcgJiZcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkoZGF0YS51cHRpbWUpID09PSBKU09OLnN0cmluZ2lmeSh7JzFoJzogMTAwfSkgJiZcbiAgICAgICAgZGF0YS5hcHBsaWNhdGlvbiA9PT0gJ2FwcGxpY2F0aW9uJykge1xuICAgICAgICBzZXJ2ZXIuZW1pdCgncmVzcG9uc2UnLCB7dHlwZTogJ3Jlc3BvbnNlJywgYWNjb3VudElkOiBkYXRhLmFjY291bnRJZCwgcmVxdWVzdElkOiBkYXRhLnJlcXVlc3RJZH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGF3YWl0IGNsaWVudC5zYXZlVXB0aW1lKCdhY2NvdW50SWQnLCB7JzFoJzogMTAwfSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaVdlYnNvY2tldENsaWVudCN1bnN1YnNjcmliZX1cbiAgICovXG4gIGRlc2NyaWJlKCd1bnN1YnNjcmlwdGlvbicsICgpID0+IHtcblxuICAgIC8qKlxuICAgICAqIEB0ZXN0IHtNZXRhQXBpV2Vic29ja2V0Q2xpZW50I3Vuc3Vic2NyaWJlfVxuICAgICAqL1xuICAgIGl0KCdzaG91bGQgdW5zdWJzY3JpYmUgZnJvbSBhY2NvdW50IGRhdGEnLCBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgcmVxdWVzdFJlY2VpdmVkID0gZmFsc2U7XG5cbiAgICAgIGxldCByZXNwb25zZSA9IHt0eXBlOiAncmVzcG9uc2UnLCBhY2NvdW50SWQ6ICdhY2NvdW50SWQnfTtcbiAgICAgIHNlcnZlci5vbigncmVxdWVzdCcsIGRhdGEgPT4ge1xuICAgICAgICBpZiAoZGF0YS50eXBlID09PSAndW5zdWJzY3JpYmUnICYmIGRhdGEuYWNjb3VudElkID09PSAnYWNjb3VudElkJykge1xuICAgICAgICAgIHJlcXVlc3RSZWNlaXZlZCA9IHRydWU7XG4gICAgICAgICAgc2VydmVyLmVtaXQoJ3Jlc3BvbnNlJywgT2JqZWN0LmFzc2lnbih7cmVxdWVzdElkOiBkYXRhLnJlcXVlc3RJZH0sIHJlc3BvbnNlKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgYXdhaXQgY2xpZW50LnVuc3Vic2NyaWJlKCdhY2NvdW50SWQnKTtcbiAgICAgIHNpbm9uLmFzc2VydC5tYXRjaChyZXF1ZXN0UmVjZWl2ZWQsIHRydWUpO1xuICAgICAgY2xpZW50LnNvY2tldEluc3RhbmNlc0J5QWNjb3VudHMuc2hvdWxkLm5vdC5oYXZlLnByb3BlcnR5KCdhY2NvdW50SWQnKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5fbGF0ZW5jeVNlcnZpY2Uub25VbnN1YnNjcmliZSwgJ2FjY291bnRJZCcpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHRlc3Qge01ldGFBcGlXZWJzb2NrZXRDbGllbnQjdW5zdWJzY3JpYmV9XG4gICAgICovXG4gICAgaXQoJ3Nob3VsZCBpZ25vcmUgbm90IGZvdW5kIGV4Y2VwdGlvbiBvbiB1bnN1YnNjcmliZScsIGFzeW5jICgpID0+IHtcbiAgICAgIHNlcnZlci5vbigncmVxdWVzdCcsIGRhdGEgPT4ge1xuICAgICAgICBzZXJ2ZXIuZW1pdCgncHJvY2Vzc2luZ0Vycm9yJywge1xuICAgICAgICAgIGlkOiAxLCBlcnJvcjogJ1ZhbGlkYXRpb25FcnJvcicsIG1lc3NhZ2U6ICdWYWxpZGF0aW9uIGZhaWxlZCcsXG4gICAgICAgICAgZGV0YWlsczogW3twYXJhbWV0ZXI6ICd2b2x1bWUnLCBtZXNzYWdlOiAnUmVxdWlyZWQgdmFsdWUuJ31dLCByZXF1ZXN0SWQ6IGRhdGEucmVxdWVzdElkXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBjbGllbnQudW5zdWJzY3JpYmUoJ2FjY291bnRJZCcpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ZhbGlkYXRpb25FcnJvciBleHRlY3RlZCcpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGVyci5uYW1lLnNob3VsZC5lcXVhbCgnVmFsaWRhdGlvbkVycm9yJyk7XG4gICAgICAgIGVyci5kZXRhaWxzLnNob3VsZC5tYXRjaChbe1xuICAgICAgICAgIHBhcmFtZXRlcjogJ3ZvbHVtZScsXG4gICAgICAgICAgbWVzc2FnZTogJ1JlcXVpcmVkIHZhbHVlLidcbiAgICAgICAgfV0pO1xuICAgICAgfVxuICAgICAgc2VydmVyLnJlbW92ZUFsbExpc3RlbmVycygncmVxdWVzdCcpO1xuICAgICAgc2VydmVyLm9uKCdyZXF1ZXN0JywgZGF0YSA9PiB7XG4gICAgICAgIHNlcnZlci5lbWl0KCdwcm9jZXNzaW5nRXJyb3InLCB7XG4gICAgICAgICAgaWQ6IDEsIGVycm9yOiAnTm90Rm91bmRFcnJvcicsIG1lc3NhZ2U6ICdBY2NvdW50IG5vdCBmb3VuZCcsIHJlcXVlc3RJZDogZGF0YS5yZXF1ZXN0SWRcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHNlcnZlcjEub24oJ3JlcXVlc3QnLCBkYXRhID0+IHtcbiAgICAgICAgc2VydmVyMS5lbWl0KCdwcm9jZXNzaW5nRXJyb3InLCB7XG4gICAgICAgICAgaWQ6IDEsIGVycm9yOiAnTm90Rm91bmRFcnJvcicsIG1lc3NhZ2U6ICdBY2NvdW50IG5vdCBmb3VuZCcsIHJlcXVlc3RJZDogZGF0YS5yZXF1ZXN0SWRcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIGF3YWl0IGNsaWVudC51bnN1YnNjcmliZSgnYWNjb3VudElkJyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAdGVzdCB7TWV0YUFwaVdlYnNvY2tldENsaWVudCN1bnN1YnNjcmliZX1cbiAgICAgKi9cbiAgICBpdCgnc2hvdWxkIGlnbm9yZSB0aW1lb3V0IGVycm9yIG9uIHVuc3Vic2NyaWJlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbGV0IHByb21pc2UgPSBjbGllbnQudW5zdWJzY3JpYmUoJ2FjY291bnRJZCcpLmNhdGNoKCgpID0+IHt9KTtcbiAgICAgIGF3YWl0IGNsb2NrLnRpY2tBc3luYygxNTAwMCk7XG4gICAgICBhd2FpdCBwcm9taXNlO1xuICAgIH0pLnRpbWVvdXQoMjAwMDApO1xuXG4gICAgLyoqXG4gICAgICogQHRlc3Qge01ldGFBcGlXZWJzb2NrZXRDbGllbnQjdW5zdWJzY3JpYmV9XG4gICAgICovXG4gICAgaXQoJ3Nob3VsZCByZXBlYXQgdW5zdWJzY3JpcHRpb24gb24gc3luY2hyb25pemF0aW9uIHBhY2tldHMgaWYgYWNjb3VudCBtdXN0IGJlIHVuc3Vic2NyaWJlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGxldCBwcmljZXMgPSBbe1xuICAgICAgICBzeW1ib2w6ICdBVUROWkQnLFxuICAgICAgICBiaWQ6IDEuMDU5MTYsXG4gICAgICAgIGFzazogMS4wNTkyNyxcbiAgICAgICAgcHJvZml0VGlja1ZhbHVlOiAwLjYwMixcbiAgICAgICAgbG9zc1RpY2tWYWx1ZTogMC42MDIwM1xuICAgICAgfV07XG4gICAgICBsZXQgc3Vic2NyaWJlU2VydmVySGFuZGxlciA9IHNhbmRib3guc3R1YigpO1xuICAgICAgbGV0IHVuc3Vic2NyaWJlU2VydmVySGFuZGxlciA9IHNhbmRib3guc3R1YigpO1xuICAgICAgc2VydmVyLm9uKCdyZXF1ZXN0JywgZGF0YSA9PiB7XG4gICAgICAgIGxldCBzZXJ2ZXJIYW5kbGVyO1xuICAgICAgICBpZiAoZGF0YS50eXBlID09PSAnc3Vic2NyaWJlJyAmJiBkYXRhLmFjY291bnRJZCA9PT0gJ2FjY291bnRJZCcpIHtcbiAgICAgICAgICBzZXJ2ZXJIYW5kbGVyID0gc3Vic2NyaWJlU2VydmVySGFuZGxlcjtcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09ICd1bnN1YnNjcmliZScgJiYgZGF0YS5hY2NvdW50SWQgPT09ICdhY2NvdW50SWQnKSB7XG4gICAgICAgICAgc2VydmVySGFuZGxlciA9IHVuc3Vic2NyaWJlU2VydmVySGFuZGxlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VydmVySGFuZGxlcikge1xuICAgICAgICAgIHNlcnZlckhhbmRsZXIoKTtcbiAgICAgICAgICBsZXQgcmVzcG9uc2UgPSB7dHlwZTogJ3Jlc3BvbnNlJywgYWNjb3VudElkOiAnYWNjb3VudElkJ307XG4gICAgICAgICAgc2VydmVyLmVtaXQoJ3Jlc3BvbnNlJywgT2JqZWN0LmFzc2lnbih7cmVxdWVzdElkOiBkYXRhLnJlcXVlc3RJZH0sIHJlc3BvbnNlKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8gU3Vic2NyaWJpbmdcbiAgICAgIGF3YWl0IGNsaWVudC5zdWJzY3JpYmUoJ2FjY291bnRJZCcsIDApO1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCA1MCkpO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZE9uY2Uoc3Vic2NyaWJlU2VydmVySGFuZGxlcik7XG4gICAgICAvLyBVbnN1YnNjcmliaW5nXG4gICAgICBhd2FpdCBjbGllbnQudW5zdWJzY3JpYmUoJ2FjY291bnRJZCcpO1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCA1MCkpO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZE9uY2UodW5zdWJzY3JpYmVTZXJ2ZXJIYW5kbGVyKTtcbiAgICAgIC8vIFNlbmRpbmcgYSBwYWNrZXQsIHNob3VsZCB0aHJvdHRsZSBmaXJzdCByZXBlYXQgdW5zdWJzY3JpYmUgcmVxdWVzdFxuICAgICAgc2VydmVyLmVtaXQoJ3N5bmNocm9uaXphdGlvbicsIHt0eXBlOiAncHJpY2VzJywgYWNjb3VudElkOiAnYWNjb3VudElkJywgaG9zdDogJ3BzLW1wYS0xJyxcbiAgICAgICAgaW5zdGFuY2VJbmRleDogMCwgcHJpY2VzIH0pO1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCA1MCkpO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZE9uY2UodW5zdWJzY3JpYmVTZXJ2ZXJIYW5kbGVyKTtcbiAgICAgIC8vIFJlcGVhdCBhIHBhY2tldCBhZnRlciBhIHdoaWxlLCBzaG91bGQgdW5zdWJzY3JpYmUgYWdhaW5cbiAgICAgIGF3YWl0IGNsb2NrLnRpY2tBc3luYygxMTAwMCk7XG4gICAgICBzZXJ2ZXIuZW1pdCgnc3luY2hyb25pemF0aW9uJywge3R5cGU6ICdwcmljZXMnLCBhY2NvdW50SWQ6ICdhY2NvdW50SWQnLCBob3N0OiAncHMtbXBhLTEnLFxuICAgICAgICBpbnN0YW5jZUluZGV4OiAwLCBwcmljZXMgfSk7XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIDUwKSk7XG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkVHdpY2UodW5zdWJzY3JpYmVTZXJ2ZXJIYW5kbGVyKTtcbiAgICAgIC8vIFJlcGVhdCBhIHBhY2tldCwgc2hvdWxkIHRocm90dGxlIHVuc3Vic2NyaWJlIHJlcXVlc3RcbiAgICAgIHNlcnZlci5lbWl0KCdzeW5jaHJvbml6YXRpb24nLCB7dHlwZTogJ3ByaWNlcycsIGFjY291bnRJZDogJ2FjY291bnRJZCcsIGhvc3Q6ICdwcy1tcGEtMScsXG4gICAgICAgIGluc3RhbmNlSW5kZXg6IDAsIHByaWNlcyB9KTtcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgNTApKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRUd2ljZSh1bnN1YnNjcmliZVNlcnZlckhhbmRsZXIpO1xuICAgICAgLy8gUmVwZWF0IGEgcGFja2V0IGFmdGVyIGEgd2hpbGUsIHNob3VsZCBub3QgdGhyb3R0bGUgdW5zdWJzY3JpYmUgcmVxdWVzdFxuICAgICAgYXdhaXQgY2xvY2sudGlja0FzeW5jKDExMDAwKTtcbiAgICAgIHNlcnZlci5lbWl0KCdzeW5jaHJvbml6YXRpb24nLCB7dHlwZTogJ3ByaWNlcycsIGFjY291bnRJZDogJ2FjY291bnRJZCcsIGhvc3Q6ICdwcy1tcGEtMScsXG4gICAgICAgIGluc3RhbmNlSW5kZXg6IDAsIHByaWNlcyB9KTtcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgNTApKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRUaHJpY2UodW5zdWJzY3JpYmVTZXJ2ZXJIYW5kbGVyKTtcbiAgICB9KTtcblxuICB9KTtcblxuICBkZXNjcmliZSgnZXJyb3IgaGFuZGxpbmcnLCAoKSA9PiB7XG5cbiAgICAvKipcbiAgICAgKiBAdGVzdCB7TWV0YUFwaVdlYnNvY2tldENsaWVudCN0cmFkZX1cbiAgICAgKi9cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBWYWxpZGF0aW9uRXJyb3InLCBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgdHJhZGUgPSB7XG4gICAgICAgIGFjdGlvblR5cGU6ICdPUkRFUl9UWVBFX1NFTEwnLFxuICAgICAgICBzeW1ib2w6ICdBVUROWkQnXG4gICAgICB9O1xuICAgICAgc2VydmVyLm9uKCdyZXF1ZXN0JywgZGF0YSA9PiB7XG4gICAgICAgIHNlcnZlci5lbWl0KCdwcm9jZXNzaW5nRXJyb3InLCB7XG4gICAgICAgICAgaWQ6IDEsIGVycm9yOiAnVmFsaWRhdGlvbkVycm9yJywgbWVzc2FnZTogJ1ZhbGlkYXRpb24gZmFpbGVkJyxcbiAgICAgICAgICBkZXRhaWxzOiBbe3BhcmFtZXRlcjogJ3ZvbHVtZScsIG1lc3NhZ2U6ICdSZXF1aXJlZCB2YWx1ZS4nfV0sIHJlcXVlc3RJZDogZGF0YS5yZXF1ZXN0SWRcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGNsaWVudC50cmFkZSgnYWNjb3VudElkJywgdHJhZGUpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ZhbGlkYXRpb25FcnJvciBleHRlY3RlZCcpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGVyci5uYW1lLnNob3VsZC5lcXVhbCgnVmFsaWRhdGlvbkVycm9yJyk7XG4gICAgICAgIGVyci5kZXRhaWxzLnNob3VsZC5tYXRjaChbe1xuICAgICAgICAgIHBhcmFtZXRlcjogJ3ZvbHVtZScsXG4gICAgICAgICAgbWVzc2FnZTogJ1JlcXVpcmVkIHZhbHVlLidcbiAgICAgICAgfV0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHRlc3Qge01ldGFBcGlXZWJzb2NrZXRDbGllbnQjZ2V0UG9zaXRpb259XG4gICAgICovXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgTm90Rm91bmRFcnJvcicsIGFzeW5jICgpID0+IHtcbiAgICAgIHNlcnZlci5vbigncmVxdWVzdCcsIGRhdGEgPT4ge1xuICAgICAgICBzZXJ2ZXIuZW1pdCgncHJvY2Vzc2luZ0Vycm9yJywge1xuICAgICAgICAgIGlkOiAxLCBlcnJvcjogJ05vdEZvdW5kRXJyb3InLCBtZXNzYWdlOiAnUG9zaXRpb24gaWQgMTIzNCBub3QgZm91bmQnLFxuICAgICAgICAgIHJlcXVlc3RJZDogZGF0YS5yZXF1ZXN0SWRcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGNsaWVudC5nZXRQb3NpdGlvbignYWNjb3VudElkJywgJzEyMzQnKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb3RGb3VuZEVycm9yIGV4dGVjdGVkJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgZXJyLm5hbWUuc2hvdWxkLmVxdWFsKCdOb3RGb3VuZEVycm9yJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAdGVzdCB7TWV0YUFwaVdlYnNvY2tldENsaWVudCNnZXRQb3NpdGlvbn1cbiAgICAgKi9cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBOb3RTeW5jaHJvbml6ZWRFcnJvcicsIGFzeW5jICgpID0+IHtcbiAgICAgIHNlcnZlci5vbigncmVxdWVzdCcsIGRhdGEgPT4ge1xuICAgICAgICBzZXJ2ZXIuZW1pdCgncHJvY2Vzc2luZ0Vycm9yJywge1xuICAgICAgICAgIGlkOiAxLCBlcnJvcjogJ05vdFN5bmNocm9uaXplZEVycm9yJywgbWVzc2FnZTogJ0Vycm9yIG1lc3NhZ2UnLFxuICAgICAgICAgIHJlcXVlc3RJZDogZGF0YS5yZXF1ZXN0SWRcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGNsaWVudC5nZXRQb3NpdGlvbignYWNjb3VudElkJywgJzEyMzQnKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb3RTeW5jaHJvbml6ZWRFcnJvciBleHRlY3RlZCcpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGVyci5uYW1lLnNob3VsZC5lcXVhbCgnTm90U3luY2hyb25pemVkRXJyb3InKTtcbiAgICAgIH1cbiAgICB9KS50aW1lb3V0KDgwMDApO1xuXG4gICAgLyoqXG4gICAgICogQHRlc3Qge01ldGFBcGlXZWJzb2NrZXRDbGllbnQjZ2V0UG9zaXRpb259XG4gICAgICovXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgTm90Q29ubmVjdGVkRXJyb3InLCBhc3luYyAoKSA9PiB7XG4gICAgICBzZXJ2ZXIub24oJ3JlcXVlc3QnLCBkYXRhID0+IHtcbiAgICAgICAgc2VydmVyLmVtaXQoJ3Byb2Nlc3NpbmdFcnJvcicsIHtcbiAgICAgICAgICBpZDogMSwgZXJyb3I6ICdOb3RBdXRoZW50aWNhdGVkRXJyb3InLCBtZXNzYWdlOiAnRXJyb3IgbWVzc2FnZScsXG4gICAgICAgICAgcmVxdWVzdElkOiBkYXRhLnJlcXVlc3RJZFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgY2xpZW50LmdldFBvc2l0aW9uKCdhY2NvdW50SWQnLCAnMTIzNCcpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdENvbm5lY3RlZEVycm9yIGV4dGVjdGVkJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgZXJyLm5hbWUuc2hvdWxkLmVxdWFsKCdOb3RDb25uZWN0ZWRFcnJvcicpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHRlc3Qge01ldGFBcGlXZWJzb2NrZXRDbGllbnQjZ2V0UG9zaXRpb259XG4gICAgICovXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgb3RoZXIgZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgc2VydmVyLm9uKCdyZXF1ZXN0JywgZGF0YSA9PiB7XG4gICAgICAgIHNlcnZlci5lbWl0KCdwcm9jZXNzaW5nRXJyb3InLCB7XG4gICAgICAgICAgaWQ6IDEsIGVycm9yOiAnRXJyb3InLCBtZXNzYWdlOiAnRXJyb3IgbWVzc2FnZScsXG4gICAgICAgICAgcmVxdWVzdElkOiBkYXRhLnJlcXVlc3RJZFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgY2xpZW50LmdldFBvc2l0aW9uKCdhY2NvdW50SWQnLCAnMTIzNCcpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludGVybmFsRXJyb3IgZXh0ZWN0ZWQnKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBlcnIubmFtZS5zaG91bGQuZXF1YWwoJ0ludGVybmFsRXJyb3InKTtcbiAgICAgIH1cbiAgICB9KS50aW1lb3V0KDgwMDApO1xuXG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdjb25uZWN0aW9uIHN0YXR1cyBzeW5jaHJvbml6YXRpb24nLCAoKSA9PiB7XG5cbiAgICBsZXQgc2Vzc2lvbklkO1xuXG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICBzYW5kYm94LnN0dWIoY2xpZW50Ll9zdWJzY3JpcHRpb25NYW5hZ2VyLCAnaXNTdWJzY3JpcHRpb25BY3RpdmUnKS5yZXR1cm5zKHRydWUpO1xuICAgICAgc2Vzc2lvbklkID0gY2xpZW50LnNvY2tldEluc3RhbmNlc1sndmludC1oaWxsJ11bMF0uc2Vzc2lvbklkO1xuICAgICAgY2xpZW50Ll9zb2NrZXRJbnN0YW5jZXNCeUFjY291bnRzID0gezA6IHthY2NvdW50SWQ6IDB9LCAxOiB7YWNjb3VudElkOiAwfX07XG4gICAgfSk7XG5cbiAgICBhZnRlckVhY2goKCkgPT4ge1xuICAgICAgY2xpZW50LnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBwcm9jZXNzIGF1dGhlbnRpY2F0ZWQgc3luY2hyb25pemF0aW9uIGV2ZW50JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbGV0IGxpc3RlbmVyID0ge1xuICAgICAgICBvbkNvbm5lY3RlZDogKCkgPT4ge1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgc2FuZGJveC5zdHViKGxpc3RlbmVyLCAnb25Db25uZWN0ZWQnKS5yZXNvbHZlcygpO1xuICAgICAgY2xpZW50LmFkZFN5bmNocm9uaXphdGlvbkxpc3RlbmVyKCdhY2NvdW50SWQnLCBsaXN0ZW5lcik7XG4gICAgICBzZXJ2ZXIuZW1pdCgnc3luY2hyb25pemF0aW9uJywge3R5cGU6ICdhdXRoZW50aWNhdGVkJywgYWNjb3VudElkOiAnYWNjb3VudElkJywgaG9zdDogJ3BzLW1wYS0xJyxcbiAgICAgICAgaW5zdGFuY2VJbmRleDogMCwgcmVwbGljYXM6IDJ9KTtcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgNTApKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGxpc3RlbmVyLm9uQ29ubmVjdGVkLCAndmludC1oaWxsOjA6cHMtbXBhLTEnLCAyKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5fbGF0ZW5jeVNlcnZpY2Uub25Db25uZWN0ZWQsICdhY2NvdW50SWQ6dmludC1oaWxsOjA6cHMtbXBhLTEnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc2VuZCB0cmFkZSByZXF1ZXN0cyB0byBib3RoIGluc3RhbmNlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGxldCBsaXN0ZW5lciA9IHtcbiAgICAgICAgb25Db25uZWN0ZWQ6ICgpID0+IHtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGxldCBpbnN0YW5jZUNhbGxlZDAgPSBmYWxzZTtcbiAgICAgIGxldCBpbnN0YW5jZUNhbGxlZDEgPSBmYWxzZTtcbiAgICAgIGxldCB0cmFkZSA9IHtcbiAgICAgICAgYWN0aW9uVHlwZTogJ09SREVSX1RZUEVfU0VMTCcsXG4gICAgICAgIHN5bWJvbDogJ0FVRE5aRCcsXG4gICAgICAgIHZvbHVtZTogMC4wN1xuICAgICAgfTtcbiAgICAgIGxldCByZXNwb25zZSA9IHtcbiAgICAgICAgbnVtZXJpY0NvZGU6IDEwMDA5LFxuICAgICAgICBzdHJpbmdDb2RlOiAnVFJBREVfUkVUQ09ERV9ET05FJyxcbiAgICAgICAgbWVzc2FnZTogJ1JlcXVlc3QgY29tcGxldGVkJyxcbiAgICAgICAgb3JkZXJJZDogJzQ2ODcwNDcyJ1xuICAgICAgfTtcbiAgICAgIHNlcnZlci5vbigncmVxdWVzdCcsIGRhdGEgPT4ge1xuICAgICAgICBpZiAoZGF0YS50eXBlID09PSAndHJhZGUnICYmIGRhdGEuYWNjb3VudElkID09PSAnYWNjb3VudElkJyAmJiBkYXRhLmFwcGxpY2F0aW9uID09PSAnYXBwbGljYXRpb24nKSB7XG4gICAgICAgICAgaW5zdGFuY2VDYWxsZWQwID0gdHJ1ZTtcbiAgICAgICAgICBzZXJ2ZXIuZW1pdCgncmVzcG9uc2UnLCB7dHlwZTogJ3Jlc3BvbnNlJywgYWNjb3VudElkOiBkYXRhLmFjY291bnRJZCwgcmVxdWVzdElkOiBkYXRhLnJlcXVlc3RJZCwgcmVzcG9uc2V9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBzZXJ2ZXIxLm9uKCdyZXF1ZXN0JywgZGF0YSA9PiB7XG4gICAgICAgIGlmIChkYXRhLnR5cGUgPT09ICd0cmFkZScgJiYgZGF0YS5hY2NvdW50SWQgPT09ICdhY2NvdW50SWQnICYmIGRhdGEuYXBwbGljYXRpb24gPT09ICdhcHBsaWNhdGlvbicpIHtcbiAgICAgICAgICBpbnN0YW5jZUNhbGxlZDEgPSB0cnVlO1xuICAgICAgICAgIHNlcnZlcjEuZW1pdCgncmVzcG9uc2UnLCB7dHlwZTogJ3Jlc3BvbnNlJywgYWNjb3VudElkOiBkYXRhLmFjY291bnRJZCwgcmVxdWVzdElkOiBkYXRhLnJlcXVlc3RJZCwgcmVzcG9uc2V9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBzYW5kYm94LnN0dWIobGlzdGVuZXIsICdvbkNvbm5lY3RlZCcpLnJlc29sdmVzKCk7XG4gICAgICBjbGllbnQuYWRkU3luY2hyb25pemF0aW9uTGlzdGVuZXIoJ2FjY291bnRJZCcsIGxpc3RlbmVyKTtcbiAgICAgIGF3YWl0IGNsaWVudC50cmFkZSgnYWNjb3VudElkJywgdHJhZGUsIHVuZGVmaW5lZCwgJ2hpZ2gnKTtcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgMTAwKSk7XG4gICAgICBzaW5vbi5hc3NlcnQubWF0Y2goaW5zdGFuY2VDYWxsZWQwLCB0cnVlKTtcbiAgICAgIHNpbm9uLmFzc2VydC5tYXRjaChpbnN0YW5jZUNhbGxlZDEsIHRydWUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBub3Qgc2VuZCByZXF1ZXN0cyB0byBtaXNtYXRjaGluZyBpbnN0YW5jZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgcmVxdWVzdFJlY2VpdmVkQXNzaWduZWQwID0gZmFsc2U7XG4gICAgICBsZXQgcmVxdWVzdFJlY2VpdmVkQXNzaWduZWQxID0gZmFsc2U7XG4gICAgICBzZXJ2ZXIub24oJ3JlcXVlc3QnLCBkYXRhID0+IHtcbiAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ3N1YnNjcmliZScgJiYgZGF0YS5hY2NvdW50SWQgPT09ICdhY2NvdW50SWQnICYmIGRhdGEuYXBwbGljYXRpb24gPT09ICdhcHBsaWNhdGlvbidcbiAgICAgICAgJiYgZGF0YS5pbnN0YW5jZUluZGV4ID09PSAwKSB7XG4gICAgICAgICAgcmVxdWVzdFJlY2VpdmVkQXNzaWduZWQwID0gdHJ1ZTtcbiAgICAgICAgICBzZXJ2ZXIuZW1pdCgncmVzcG9uc2UnLCB7dHlwZTogJ3Jlc3BvbnNlJywgYWNjb3VudElkOiBkYXRhLmFjY291bnRJZCwgcmVxdWVzdElkOiBkYXRhLnJlcXVlc3RJZH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHNlcnZlcjEub24oJ3JlcXVlc3QnLCBkYXRhID0+IHtcbiAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ3N1YnNjcmliZScgJiYgZGF0YS5hY2NvdW50SWQgPT09ICdhY2NvdW50SWQnICYmIGRhdGEuYXBwbGljYXRpb24gPT09ICdhcHBsaWNhdGlvbicgXG4gICAgICAgICYmIGRhdGEuaW5zdGFuY2VJbmRleCA9PT0gMSkge1xuICAgICAgICAgIHJlcXVlc3RSZWNlaXZlZEFzc2lnbmVkMSA9IHRydWU7XG4gICAgICAgICAgc2VydmVyMS5lbWl0KCdyZXNwb25zZScsIHt0eXBlOiAncmVzcG9uc2UnLCBhY2NvdW50SWQ6IGRhdGEuYWNjb3VudElkLCByZXF1ZXN0SWQ6IGRhdGEucmVxdWVzdElkfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgYXdhaXQgY2xpZW50LnN1YnNjcmliZSgnYWNjb3VudElkJywgMCk7XG4gICAgICBzaW5vbi5hc3NlcnQubWF0Y2gocmVxdWVzdFJlY2VpdmVkQXNzaWduZWQwLCB0cnVlKTtcbiAgICAgIGF3YWl0IGNsaWVudC5zdWJzY3JpYmUoJ2FjY291bnRJZCcsIDEpO1xuICAgICAgc2lub24uYXNzZXJ0Lm1hdGNoKHJlcXVlc3RSZWNlaXZlZEFzc2lnbmVkMSwgdHJ1ZSk7XG5cbiAgICAgIGxldCByZXF1ZXN0UmVjZWl2ZWRBdXRoZW50aWNhdGVkMCA9IGZhbHNlO1xuICAgICAgbGV0IHJlcXVlc3RSZWNlaXZlZEF1dGhlbnRpY2F0ZWQxID0gZmFsc2U7XG4gICAgICBzZXJ2ZXIub24oJ3JlcXVlc3QnLCBkYXRhID0+IHtcbiAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ3JlbW92ZUFwcGxpY2F0aW9uJyAmJiBkYXRhLmFjY291bnRJZCA9PT0gJ2FjY291bnRJZCcgJiYgZGF0YS5hcHBsaWNhdGlvbiA9PT0gJ2FwcGxpY2F0aW9uJ1xuICAgICAgICAmJiBkYXRhLmluc3RhbmNlSW5kZXggPT09IDApIHtcbiAgICAgICAgICByZXF1ZXN0UmVjZWl2ZWRBdXRoZW50aWNhdGVkMCA9IHRydWU7XG4gICAgICAgICAgc2VydmVyLmVtaXQoJ3Jlc3BvbnNlJywge3R5cGU6ICdyZXNwb25zZScsIGFjY291bnRJZDogZGF0YS5hY2NvdW50SWQsIHJlcXVlc3RJZDogZGF0YS5yZXF1ZXN0SWR9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBzZXJ2ZXIxLm9uKCdyZXF1ZXN0JywgZGF0YSA9PiB7XG4gICAgICAgIGlmIChkYXRhLnR5cGUgPT09ICdyZW1vdmVBcHBsaWNhdGlvbicgJiYgZGF0YS5hY2NvdW50SWQgPT09ICdhY2NvdW50SWQnICYmIGRhdGEuYXBwbGljYXRpb24gPT09ICdhcHBsaWNhdGlvbidcbiAgICAgICAgJiYgZGF0YS5pbnN0YW5jZUluZGV4ID09PSAxKSB7XG4gICAgICAgICAgcmVxdWVzdFJlY2VpdmVkQXV0aGVudGljYXRlZDEgPSB0cnVlO1xuICAgICAgICAgIHNlcnZlcjEuZW1pdCgncmVzcG9uc2UnLCB7dHlwZTogJ3Jlc3BvbnNlJywgYWNjb3VudElkOiBkYXRhLmFjY291bnRJZCwgcmVxdWVzdElkOiBkYXRhLnJlcXVlc3RJZH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGF3YWl0IGNsaWVudC5yZW1vdmVBcHBsaWNhdGlvbignYWNjb3VudElkJyk7XG4gICAgICBzaW5vbi5hc3NlcnQubWF0Y2gocmVxdWVzdFJlY2VpdmVkQXV0aGVudGljYXRlZDAsIHRydWUpO1xuICAgICAgc2lub24uYXNzZXJ0Lm1hdGNoKHJlcXVlc3RSZWNlaXZlZEF1dGhlbnRpY2F0ZWQxLCBmYWxzZSk7XG5cbiAgICAgIHJlcXVlc3RSZWNlaXZlZEF1dGhlbnRpY2F0ZWQwID0gZmFsc2U7XG4gICAgICBnZXRBY3RpdmVJbnN0YW5jZXNTdHViLnJldHVybnMoWydhY2NvdW50SWQ6dmludC1oaWxsOjE6cHMtbXBhLTEnXSk7XG4gICAgICBhd2FpdCBjbGllbnQucmVtb3ZlQXBwbGljYXRpb24oJ2FjY291bnRJZCcpO1xuICAgICAgc2lub24uYXNzZXJ0Lm1hdGNoKHJlcXVlc3RSZWNlaXZlZEF1dGhlbnRpY2F0ZWQwLCBmYWxzZSk7XG4gICAgICBzaW5vbi5hc3NlcnQubWF0Y2gocmVxdWVzdFJlY2VpdmVkQXV0aGVudGljYXRlZDEsIHRydWUpO1xuXG4gICAgICBsZXQgbGlzdGVuZXIgPSB7XG4gICAgICAgIG9uQ29ubmVjdGVkOiAoKSA9PiB7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBsZXQgaW5zdGFuY2VDYWxsZWRUcmFkZTAgPSBmYWxzZTtcbiAgICAgIGxldCBpbnN0YW5jZUNhbGxlZFRyYWRlMSA9IGZhbHNlO1xuICAgICAgbGV0IHRyYWRlID0ge1xuICAgICAgICBhY3Rpb25UeXBlOiAnT1JERVJfVFlQRV9TRUxMJyxcbiAgICAgICAgc3ltYm9sOiAnQVVETlpEJyxcbiAgICAgICAgdm9sdW1lOiAwLjA3XG4gICAgICB9O1xuICAgICAgbGV0IHJlc3BvbnNlID0ge1xuICAgICAgICBudW1lcmljQ29kZTogMTAwMDksXG4gICAgICAgIHN0cmluZ0NvZGU6ICdUUkFERV9SRVRDT0RFX0RPTkUnLFxuICAgICAgICBtZXNzYWdlOiAnUmVxdWVzdCBjb21wbGV0ZWQnLFxuICAgICAgICBvcmRlcklkOiAnNDY4NzA0NzInXG4gICAgICB9O1xuICAgICAgc2VydmVyLm9uKCdyZXF1ZXN0JywgZGF0YSA9PiB7XG4gICAgICAgIGlmIChkYXRhLnR5cGUgPT09ICd0cmFkZScgJiYgZGF0YS5hY2NvdW50SWQgPT09ICdhY2NvdW50SWQnICYmIGRhdGEuYXBwbGljYXRpb24gPT09ICdhcHBsaWNhdGlvbicpIHtcbiAgICAgICAgICBpbnN0YW5jZUNhbGxlZFRyYWRlMCA9IHRydWU7XG4gICAgICAgICAgc2VydmVyLmVtaXQoJ3Jlc3BvbnNlJywge3R5cGU6ICdyZXNwb25zZScsIGFjY291bnRJZDogZGF0YS5hY2NvdW50SWQsIHJlcXVlc3RJZDogZGF0YS5yZXF1ZXN0SWQsIHJlc3BvbnNlfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgc2VydmVyMS5vbigncmVxdWVzdCcsIGRhdGEgPT4ge1xuICAgICAgICBpZiAoZGF0YS50eXBlID09PSAndHJhZGUnICYmIGRhdGEuYWNjb3VudElkID09PSAnYWNjb3VudElkJyAmJiBkYXRhLmFwcGxpY2F0aW9uID09PSAnYXBwbGljYXRpb24nKSB7XG4gICAgICAgICAgaW5zdGFuY2VDYWxsZWRUcmFkZTEgPSB0cnVlO1xuICAgICAgICAgIHNlcnZlcjEuZW1pdCgncmVzcG9uc2UnLCB7dHlwZTogJ3Jlc3BvbnNlJywgYWNjb3VudElkOiBkYXRhLmFjY291bnRJZCwgcmVxdWVzdElkOiBkYXRhLnJlcXVlc3RJZCwgcmVzcG9uc2V9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBnZXRBY3RpdmVJbnN0YW5jZXNTdHViLnJldHVybnMoWydhY2NvdW50SWQ6dmludC1oaWxsOjA6cHMtbXBhLTEnXSk7XG4gICAgICBzYW5kYm94LnN0dWIobGlzdGVuZXIsICdvbkNvbm5lY3RlZCcpLnJlc29sdmVzKCk7XG4gICAgICBjbGllbnQuYWRkU3luY2hyb25pemF0aW9uTGlzdGVuZXIoJ2FjY291bnRJZCcsIGxpc3RlbmVyKTtcbiAgICAgIGF3YWl0IGNsaWVudC50cmFkZSgnYWNjb3VudElkJywgdHJhZGUsIHVuZGVmaW5lZCwgJ3JlZ3VsYXInKTtcbiAgICAgIHNpbm9uLmFzc2VydC5tYXRjaChpbnN0YW5jZUNhbGxlZFRyYWRlMCwgdHJ1ZSk7XG4gICAgICBzaW5vbi5hc3NlcnQubWF0Y2goaW5zdGFuY2VDYWxsZWRUcmFkZTEsIGZhbHNlKTtcblxuICAgICAgaW5zdGFuY2VDYWxsZWRUcmFkZTAgPSBmYWxzZTtcbiAgICAgIGdldEFjdGl2ZUluc3RhbmNlc1N0dWIucmV0dXJucyhbJ2FjY291bnRJZDp2aW50LWhpbGw6MTpwcy1tcGEtMSddKTtcbiAgICAgIGF3YWl0IGNsaWVudC50cmFkZSgnYWNjb3VudElkJywgdHJhZGUsIHVuZGVmaW5lZCwgJ3JlZ3VsYXInKTtcbiAgICAgIHNpbm9uLmFzc2VydC5tYXRjaChpbnN0YW5jZUNhbGxlZFRyYWRlMCwgZmFsc2UpO1xuICAgICAgc2lub24uYXNzZXJ0Lm1hdGNoKGluc3RhbmNlQ2FsbGVkVHJhZGUxLCB0cnVlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcHJvY2VzcyBhdXRoZW50aWNhdGVkIHN5bmNocm9uaXphdGlvbiBldmVudCB3aXRoIHNlc3Npb24gaWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgbGlzdGVuZXIgPSB7XG4gICAgICAgIG9uQ29ubmVjdGVkOiAoKSA9PiB7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBzYW5kYm94LnN0dWIobGlzdGVuZXIsICdvbkNvbm5lY3RlZCcpLnJlc29sdmVzKCk7XG4gICAgICBjbGllbnQuYWRkU3luY2hyb25pemF0aW9uTGlzdGVuZXIoJ2FjY291bnRJZCcsIGxpc3RlbmVyKTtcbiAgICAgIHNlcnZlci5lbWl0KCdzeW5jaHJvbml6YXRpb24nLCB7dHlwZTogJ2F1dGhlbnRpY2F0ZWQnLCBhY2NvdW50SWQ6ICdhY2NvdW50SWQnLCBob3N0OiAncHMtbXBhLTInLFxuICAgICAgICBpbnN0YW5jZUluZGV4OiAwLCByZXBsaWNhczogMSwgc2Vzc2lvbklkOiAnd3JvbmcnfSk7XG4gICAgICBzZXJ2ZXIuZW1pdCgnc3luY2hyb25pemF0aW9uJywge3R5cGU6ICdhdXRoZW50aWNhdGVkJywgYWNjb3VudElkOiAnYWNjb3VudElkJywgaG9zdDogJ3BzLW1wYS0xJyxcbiAgICAgICAgaW5zdGFuY2VJbmRleDogMCwgcmVwbGljYXM6IDIsIHNlc3Npb25JZCB9KTtcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgNTApKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsQ291bnQobGlzdGVuZXIub25Db25uZWN0ZWQsIDEpO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgobGlzdGVuZXIub25Db25uZWN0ZWQsICd2aW50LWhpbGw6MDpwcy1tcGEtMScsIDIpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjYW5jZWwgc3Vic2NyaWJlIG9uIGF1dGhlbnRpY2F0ZWQgZXZlbnQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgbGlzdGVuZXIgPSB7XG4gICAgICAgIG9uQ29ubmVjdGVkOiAoKSA9PiB7fVxuICAgICAgfTtcbiAgICAgIHNhbmRib3guc3R1YihsaXN0ZW5lciwgJ29uQ29ubmVjdGVkJykucmVzb2x2ZXMoKTtcbiAgICAgIGNvbnN0IGNhbmNlbFN1YnNjcmliZVN0dWIgPSBzYW5kYm94LnN0dWIoY2xpZW50Ll9zdWJzY3JpcHRpb25NYW5hZ2VyLCAnY2FuY2VsU3Vic2NyaWJlJyk7XG4gICAgICBjb25zdCBjYW5jZWxBY2NvdW50U3R1YiA9IHNhbmRib3guc3R1YihjbGllbnQuX3N1YnNjcmlwdGlvbk1hbmFnZXIsICdjYW5jZWxBY2NvdW50Jyk7XG4gICAgICBjbGllbnQuYWRkU3luY2hyb25pemF0aW9uTGlzdGVuZXIoJ2FjY291bnRJZCcsIGxpc3RlbmVyKTtcbiAgICAgIGNsaWVudC5fc29ja2V0SW5zdGFuY2VzQnlBY2NvdW50c1swXS5hY2NvdW50SWQyID0gMDtcbiAgICAgIGNsaWVudC5fc29ja2V0SW5zdGFuY2VzQnlBY2NvdW50c1sxXS5hY2NvdW50SWQyID0gMDtcbiAgICAgIGNsaWVudC5fcmVnaW9uc0J5QWNjb3VudHMuYWNjb3VudElkMiA9IHtyZWdpb246ICd2aW50LWhpbGwnLCBjb25uZWN0aW9uczogMX07XG4gICAgICBzZXJ2ZXIuZW1pdCgnc3luY2hyb25pemF0aW9uJywge3R5cGU6ICdhdXRoZW50aWNhdGVkJywgYWNjb3VudElkOiAnYWNjb3VudElkJywgaG9zdDogJ3BzLW1wYS0xJyxcbiAgICAgICAgaW5zdGFuY2VJbmRleDogMCwgcmVwbGljYXM6IDIsIHNlc3Npb25JZCB9KTtcbiAgICAgIHNlcnZlci5lbWl0KCdzeW5jaHJvbml6YXRpb24nLCB7dHlwZTogJ2F1dGhlbnRpY2F0ZWQnLCBhY2NvdW50SWQ6ICdhY2NvdW50SWQyJywgaG9zdDogJ3BzLW1wYS0yJyxcbiAgICAgICAgaW5zdGFuY2VJbmRleDogMCwgcmVwbGljYXM6IDEsIHNlc3Npb25JZCB9KTtcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgNTApKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNhbmNlbFN1YnNjcmliZVN0dWIsICdhY2NvdW50SWQ6MCcpO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2FuY2VsQWNjb3VudFN0dWIsICdhY2NvdW50SWQyJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHByb2Nlc3MgYnJva2VyIGNvbm5lY3Rpb24gc3RhdHVzIGV2ZW50JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbGV0IGxpc3RlbmVyID0ge1xuICAgICAgICBvbkNvbm5lY3RlZDogKCkgPT4ge30sXG4gICAgICAgIG9uQnJva2VyQ29ubmVjdGlvblN0YXR1c0NoYW5nZWQ6ICgpID0+IHt9XG4gICAgICB9O1xuICAgICAgc2FuZGJveC5zdHViKGxpc3RlbmVyLCAnb25Ccm9rZXJDb25uZWN0aW9uU3RhdHVzQ2hhbmdlZCcpLnJlc29sdmVzKCk7XG4gICAgICBjbGllbnQuYWRkU3luY2hyb25pemF0aW9uTGlzdGVuZXIoJ2FjY291bnRJZCcsIGxpc3RlbmVyKTtcbiAgICAgIHNlcnZlci5lbWl0KCdzeW5jaHJvbml6YXRpb24nLCB7dHlwZTogJ2F1dGhlbnRpY2F0ZWQnLCBhY2NvdW50SWQ6ICdhY2NvdW50SWQnLCBob3N0OiAncHMtbXBhLTEnLFxuICAgICAgICBpbnN0YW5jZUluZGV4OiAwfSk7XG4gICAgICBzZXJ2ZXIuZW1pdCgnc3luY2hyb25pemF0aW9uJywge3R5cGU6ICdzdGF0dXMnLCBhY2NvdW50SWQ6ICdhY2NvdW50SWQnLCBob3N0OiAncHMtbXBhLTEnLCBjb25uZWN0ZWQ6IHRydWUsXG4gICAgICAgIGluc3RhbmNlSW5kZXg6IDB9KTtcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgNTApKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGxpc3RlbmVyLm9uQnJva2VyQ29ubmVjdGlvblN0YXR1c0NoYW5nZWQsICd2aW50LWhpbGw6MDpwcy1tcGEtMScsIHRydWUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjYWxsIGFuIG9uRGlzY29ubmVjdCBpZiB0aGVyZSB3YXMgbm8gc2lnbmFsIGZvciBhIGxvbmcgdGltZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGxldCBsaXN0ZW5lciA9IHtcbiAgICAgICAgb25Db25uZWN0ZWQ6ICgpID0+IHt9LFxuICAgICAgICBvbkRpc2Nvbm5lY3RlZDogKCkgPT4ge30sXG4gICAgICAgIG9uQnJva2VyQ29ubmVjdGlvblN0YXR1c0NoYW5nZWQ6ICgpID0+IHt9LFxuICAgICAgICBvblN0cmVhbUNsb3NlZDogKCkgPT4ge30sXG4gICAgICB9O1xuICAgICAgc2FuZGJveC5zdHViKGxpc3RlbmVyLCAnb25EaXNjb25uZWN0ZWQnKS5yZXNvbHZlcygpO1xuICAgICAgY2xpZW50LmFkZFN5bmNocm9uaXphdGlvbkxpc3RlbmVyKCdhY2NvdW50SWQnLCBsaXN0ZW5lcik7XG4gICAgICBzZXJ2ZXIuZW1pdCgnc3luY2hyb25pemF0aW9uJywge3R5cGU6ICdhdXRoZW50aWNhdGVkJywgYWNjb3VudElkOiAnYWNjb3VudElkJywgaG9zdDogJ3BzLW1wYS0xJyxcbiAgICAgICAgaW5zdGFuY2VJbmRleDogMCwgcmVwbGljYXM6IDJ9KTtcbiAgICAgIHNlcnZlci5lbWl0KCdzeW5jaHJvbml6YXRpb24nLCB7dHlwZTogJ3N0YXR1cycsIGFjY291bnRJZDogJ2FjY291bnRJZCcsIGhvc3Q6ICdwcy1tcGEtMScsIGNvbm5lY3RlZDogdHJ1ZSxcbiAgICAgICAgaW5zdGFuY2VJbmRleDogMH0pO1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCA1MCkpO1xuICAgICAgYXdhaXQgY2xvY2sudGlja0FzeW5jKDEwMDAwKTtcbiAgICAgIGF3YWl0IHNlcnZlci5lbWl0KCdzeW5jaHJvbml6YXRpb24nLCB7dHlwZTogJ3N0YXR1cycsIGFjY291bnRJZDogJ2FjY291bnRJZCcsIGhvc3Q6ICdwcy1tcGEtMScsIGNvbm5lY3RlZDogdHJ1ZSxcbiAgICAgICAgaW5zdGFuY2VJbmRleDogMH0pO1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCA1MCkpO1xuICAgICAgYXdhaXQgY2xvY2sudGlja0FzeW5jKDU1MDAwKTtcbiAgICAgIHNpbm9uLmFzc2VydC5ub3RDYWxsZWQobGlzdGVuZXIub25EaXNjb25uZWN0ZWQpO1xuICAgICAgc2VydmVyLmVtaXQoJ3N5bmNocm9uaXphdGlvbicsIHt0eXBlOiAnYXV0aGVudGljYXRlZCcsIGFjY291bnRJZDogJ2FjY291bnRJZCcsIGhvc3Q6ICdwcy1tcGEtMScsXG4gICAgICAgIGluc3RhbmNlSW5kZXg6IDAsIHJlcGxpY2FzOiAyfSk7XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIDUwKSk7XG4gICAgICBhd2FpdCBjbG9jay50aWNrQXN5bmMoMTAwMDApO1xuICAgICAgc2lub24uYXNzZXJ0Lm5vdENhbGxlZChsaXN0ZW5lci5vbkRpc2Nvbm5lY3RlZCk7XG4gICAgICBhd2FpdCBjbG9jay50aWNrQXN5bmMoNTUwMDApO1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCA1MCkpO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgobGlzdGVuZXIub25EaXNjb25uZWN0ZWQsICd2aW50LWhpbGw6MDpwcy1tcGEtMScpO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50Ll9sYXRlbmN5U2VydmljZS5vbkRpc2Nvbm5lY3RlZCwgJ2FjY291bnRJZDp2aW50LWhpbGw6MDpwcy1tcGEtMScpO1xuICAgICAgYXdhaXQgY2xvY2sudGlja0FzeW5jKDEwMDAwKTtcbiAgICAgIGNsb2NrLnJlc3RvcmUoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY2xvc2Ugc3RyZWFtIG9uIHRpbWVvdXQgaWYgYW5vdGhlciBzdHJlYW0gZXhpc3RzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbGV0IGxpc3RlbmVyID0ge1xuICAgICAgICBvbkNvbm5lY3RlZDogKCkgPT4ge30sXG4gICAgICAgIG9uRGlzY29ubmVjdGVkOiAoKSA9PiB7fSxcbiAgICAgICAgb25TdHJlYW1DbG9zZWQ6ICgpID0+IHt9LFxuICAgICAgICBvbkJyb2tlckNvbm5lY3Rpb25TdGF0dXNDaGFuZ2VkOiAoKSA9PiB7fVxuICAgICAgfTtcbiAgICAgIGNvbnN0IG9uVGltZW91dFN0dWIgPSBzYW5kYm94LnN0dWIoY2xpZW50Ll9zdWJzY3JpcHRpb25NYW5hZ2VyLCAnb25UaW1lb3V0JykucmVzb2x2ZXMoKTtcbiAgICAgIGNvbnN0IG9uU3RyZWFtQ2xvc2VkU3R1YiA9IHNhbmRib3guc3R1YihsaXN0ZW5lciwgJ29uU3RyZWFtQ2xvc2VkJykucmVzb2x2ZXMoKTtcbiAgICAgIGNvbnN0IG9uRGlzY29ubmVjdGVkU3R1YiA9IHNhbmRib3guc3R1YihsaXN0ZW5lciwgJ29uRGlzY29ubmVjdGVkJykucmVzb2x2ZXMoKTtcbiAgICAgIHNhbmRib3guc3R1YihjbGllbnQuX3N1YnNjcmlwdGlvbk1hbmFnZXIsICdvbkRpc2Nvbm5lY3RlZCcpLnJlc29sdmVzKCk7XG4gICAgICBjbGllbnQuYWRkU3luY2hyb25pemF0aW9uTGlzdGVuZXIoJ2FjY291bnRJZCcsIGxpc3RlbmVyKTtcbiAgICAgIHNlcnZlci5lbWl0KCdzeW5jaHJvbml6YXRpb24nLCB7dHlwZTogJ2F1dGhlbnRpY2F0ZWQnLCBhY2NvdW50SWQ6ICdhY2NvdW50SWQnLCBob3N0OiAncHMtbXBhLTEnLFxuICAgICAgICBpbnN0YW5jZUluZGV4OiAwLCByZXBsaWNhczogMn0pO1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCA1MCkpO1xuICAgICAgYXdhaXQgY2xvY2sudGlja0FzeW5jKDE1MDAwKTtcbiAgICAgIHNlcnZlci5lbWl0KCdzeW5jaHJvbml6YXRpb24nLCB7dHlwZTogJ2F1dGhlbnRpY2F0ZWQnLCBhY2NvdW50SWQ6ICdhY2NvdW50SWQnLCBob3N0OiAncHMtbXBhLTInLFxuICAgICAgICBpbnN0YW5jZUluZGV4OiAwLCByZXBsaWNhczogMn0pO1xuICAgICAgc2VydmVyLmVtaXQoJ3N5bmNocm9uaXphdGlvbicsIHt0eXBlOiAnc3RhdHVzJywgYWNjb3VudElkOiAnYWNjb3VudElkJywgaG9zdDogJ3BzLW1wYS0xJywgY29ubmVjdGVkOiB0cnVlLFxuICAgICAgICBpbnN0YW5jZUluZGV4OiAwfSk7XG4gICAgICBzZXJ2ZXIuZW1pdCgnc3luY2hyb25pemF0aW9uJywge3R5cGU6ICdzdGF0dXMnLCBhY2NvdW50SWQ6ICdhY2NvdW50SWQnLCBob3N0OiAncHMtbXBhLTInLCBjb25uZWN0ZWQ6IHRydWUsXG4gICAgICAgIGluc3RhbmNlSW5kZXg6IDB9KTtcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgNTApKTtcbiAgICAgIGF3YWl0IGNsb2NrLnRpY2tBc3luYygxNTAwMCk7XG4gICAgICBzZXJ2ZXIuZW1pdCgnc3luY2hyb25pemF0aW9uJywge3R5cGU6ICdzdGF0dXMnLCBhY2NvdW50SWQ6ICdhY2NvdW50SWQnLCBob3N0OiAncHMtbXBhLTEnLCBjb25uZWN0ZWQ6IHRydWUsXG4gICAgICAgIGluc3RhbmNlSW5kZXg6IDB9KTtcbiAgICAgIHNlcnZlci5lbWl0KCdzeW5jaHJvbml6YXRpb24nLCB7dHlwZTogJ3N0YXR1cycsIGFjY291bnRJZDogJ2FjY291bnRJZCcsIGhvc3Q6ICdwcy1tcGEtMicsIGNvbm5lY3RlZDogdHJ1ZSxcbiAgICAgICAgaW5zdGFuY2VJbmRleDogMH0pO1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCA1MCkpO1xuICAgICAgYXdhaXQgY2xvY2sudGlja0FzeW5jKDU1MDAwKTtcbiAgICAgIHNpbm9uLmFzc2VydC5ub3RDYWxsZWQob25EaXNjb25uZWN0ZWRTdHViKTtcbiAgICAgIHNlcnZlci5lbWl0KCdzeW5jaHJvbml6YXRpb24nLCB7dHlwZTogJ3N0YXR1cycsIGFjY291bnRJZDogJ2FjY291bnRJZCcsIGhvc3Q6ICdwcy1tcGEtMScsIGNvbm5lY3RlZDogdHJ1ZSxcbiAgICAgICAgaW5zdGFuY2VJbmRleDogMH0pO1xuICAgICAgc2VydmVyLmVtaXQoJ3N5bmNocm9uaXphdGlvbicsIHt0eXBlOiAnc3RhdHVzJywgYWNjb3VudElkOiAnYWNjb3VudElkJywgaG9zdDogJ3BzLW1wYS0yJywgY29ubmVjdGVkOiB0cnVlLFxuICAgICAgICBpbnN0YW5jZUluZGV4OiAwfSk7XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIDUwKSk7XG4gICAgICBhd2FpdCBjbG9jay50aWNrQXN5bmMoMTUwMDApO1xuICAgICAgc2VydmVyLmVtaXQoJ3N5bmNocm9uaXphdGlvbicsIHt0eXBlOiAnc3RhdHVzJywgYWNjb3VudElkOiAnYWNjb3VudElkJywgaG9zdDogJ3BzLW1wYS0yJywgY29ubmVjdGVkOiB0cnVlLFxuICAgICAgICBpbnN0YW5jZUluZGV4OiAwfSk7XG4gICAgICBzaW5vbi5hc3NlcnQubm90Q2FsbGVkKG9uRGlzY29ubmVjdGVkU3R1Yik7XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIDUwKSk7XG4gICAgICBhd2FpdCBjbG9jay50aWNrQXN5bmMoNTUwMDApO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgob25TdHJlYW1DbG9zZWRTdHViLCAndmludC1oaWxsOjA6cHMtbXBhLTEnKTtcbiAgICAgIHNpbm9uLmFzc2VydC5ub3RDYWxsZWQob25EaXNjb25uZWN0ZWRTdHViKTtcbiAgICAgIHNpbm9uLmFzc2VydC5ub3RDYWxsZWQob25UaW1lb3V0U3R1Yik7XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIDUwKSk7XG4gICAgICBhd2FpdCBjbG9jay50aWNrQXN5bmMoMTUwMDApO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgob25EaXNjb25uZWN0ZWRTdHViLCAndmludC1oaWxsOjA6cHMtbXBhLTInKTtcbiAgICAgIHNpbm9uLmFzc2VydC5ub3RDYWxsZWQoY2xpZW50Ll9zdWJzY3JpcHRpb25NYW5hZ2VyLm9uRGlzY29ubmVjdGVkKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKG9uVGltZW91dFN0dWIsICdhY2NvdW50SWQnLCAwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcHJvY2VzcyBzZXJ2ZXItc2lkZSBoZWFsdGggc3RhdHVzIGV2ZW50JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbGV0IGxpc3RlbmVyID0ge1xuICAgICAgICBvbkNvbm5lY3RlZDogKCkgPT4ge30sXG4gICAgICAgIG9uQnJva2VyQ29ubmVjdGlvblN0YXR1c0NoYW5nZWQ6ICgpID0+IHt9LFxuICAgICAgICBvbkhlYWx0aFN0YXR1czogKCkgPT4ge31cbiAgICAgIH07XG4gICAgICBzYW5kYm94LnN0dWIobGlzdGVuZXIsICdvbkhlYWx0aFN0YXR1cycpLnJlc29sdmVzKCk7XG4gICAgICBjbGllbnQuYWRkU3luY2hyb25pemF0aW9uTGlzdGVuZXIoJ2FjY291bnRJZCcsIGxpc3RlbmVyKTtcbiAgICAgIHNlcnZlci5lbWl0KCdzeW5jaHJvbml6YXRpb24nLCB7dHlwZTogJ2F1dGhlbnRpY2F0ZWQnLCBhY2NvdW50SWQ6ICdhY2NvdW50SWQnLCBob3N0OiAncHMtbXBhLTEnLFxuICAgICAgICBpbnN0YW5jZUluZGV4OiAwfSk7XG4gICAgICBzZXJ2ZXIuZW1pdCgnc3luY2hyb25pemF0aW9uJywge3R5cGU6ICdzdGF0dXMnLCBhY2NvdW50SWQ6ICdhY2NvdW50SWQnLCBob3N0OiAncHMtbXBhLTEnLCBjb25uZWN0ZWQ6IHRydWUsXG4gICAgICAgIGhlYWx0aFN0YXR1czoge3Jlc3RBcGlIZWFsdGh5OiB0cnVlfSwgaW5zdGFuY2VJbmRleDogMH0pO1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCA1MCkpO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgobGlzdGVuZXIub25IZWFsdGhTdGF0dXMsICd2aW50LWhpbGw6MDpwcy1tcGEtMScsIHtyZXN0QXBpSGVhbHRoeTogdHJ1ZX0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBwcm9jZXNzIGRpc2Nvbm5lY3RlZCBzeW5jaHJvbml6YXRpb24gZXZlbnQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgbGlzdGVuZXIgPSB7XG4gICAgICAgIG9uQ29ubmVjdGVkOiAoKSA9PiB7fSxcbiAgICAgICAgb25EaXNjb25uZWN0ZWQ6ICgpID0+IHt9LFxuICAgICAgICBvblN0cmVhbUNsb3NlZDogKCkgPT4ge30sXG4gICAgICB9O1xuICAgICAgc2FuZGJveC5zdHViKGxpc3RlbmVyLCAnb25EaXNjb25uZWN0ZWQnKS5yZXNvbHZlcygpO1xuICAgICAgc2FuZGJveC5zdHViKGxpc3RlbmVyLCAnb25TdHJlYW1DbG9zZWQnKS5yZXNvbHZlcygpO1xuICAgICAgc2FuZGJveC5zdHViKGNsaWVudC5fc3Vic2NyaXB0aW9uTWFuYWdlciwgJ29uRGlzY29ubmVjdGVkJykucmVzb2x2ZXMoKTtcbiAgICAgIGNsaWVudC5hZGRTeW5jaHJvbml6YXRpb25MaXN0ZW5lcignYWNjb3VudElkJywgbGlzdGVuZXIpO1xuICAgICAgc2VydmVyLmVtaXQoJ3N5bmNocm9uaXphdGlvbicsIHt0eXBlOiAnYXV0aGVudGljYXRlZCcsIGFjY291bnRJZDogJ2FjY291bnRJZCcsIGhvc3Q6ICdwcy1tcGEtMScsXG4gICAgICAgIGluc3RhbmNlSW5kZXg6IDB9KTtcbiAgICAgIHNlcnZlci5lbWl0KCdzeW5jaHJvbml6YXRpb24nLCB7dHlwZTogJ2Rpc2Nvbm5lY3RlZCcsIGFjY291bnRJZDogJ2FjY291bnRJZCcsIGhvc3Q6ICdwcy1tcGEtMScsXG4gICAgICAgIGluc3RhbmNlSW5kZXg6IDB9KTtcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgNTApKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGxpc3RlbmVyLm9uRGlzY29ubmVjdGVkLCAndmludC1oaWxsOjA6cHMtbXBhLTEnKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5fc3Vic2NyaXB0aW9uTWFuYWdlci5vbkRpc2Nvbm5lY3RlZCwgJ2FjY291bnRJZCcsIDApO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgobGlzdGVuZXIub25TdHJlYW1DbG9zZWQsICd2aW50LWhpbGw6MDpwcy1tcGEtMScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjbG9zZSB0aGUgc3RyZWFtIGlmIGhvc3QgbmFtZSBkaXNjb25uZWN0ZWQgYW5kIGFub3RoZXIgc3RyZWFtIGV4aXN0cycsIGFzeW5jICgpID0+IHtcbiAgICAgIGxldCBsaXN0ZW5lciA9IHtcbiAgICAgICAgb25Db25uZWN0ZWQ6ICgpID0+IHt9LFxuICAgICAgICBvbkRpc2Nvbm5lY3RlZDogKCkgPT4ge30sXG4gICAgICAgIG9uU3RyZWFtQ2xvc2VkOiAoKSA9PiB7fSxcbiAgICAgIH07XG4gICAgICBzYW5kYm94LnN0dWIobGlzdGVuZXIsICdvbkRpc2Nvbm5lY3RlZCcpLnJlc29sdmVzKCk7XG4gICAgICBzYW5kYm94LnN0dWIobGlzdGVuZXIsICdvblN0cmVhbUNsb3NlZCcpLnJlc29sdmVzKCk7XG4gICAgICBjb25zdCBvbkRpc2Nvbm5lY3RlZFN0dWIgPSBzYW5kYm94LnN0dWIoY2xpZW50Ll9zdWJzY3JpcHRpb25NYW5hZ2VyLCAnb25EaXNjb25uZWN0ZWQnKS5yZXNvbHZlcygpO1xuICAgICAgY2xpZW50LmFkZFN5bmNocm9uaXphdGlvbkxpc3RlbmVyKCdhY2NvdW50SWQnLCBsaXN0ZW5lcik7XG4gICAgICBzZXJ2ZXIuZW1pdCgnc3luY2hyb25pemF0aW9uJywge3R5cGU6ICdhdXRoZW50aWNhdGVkJywgYWNjb3VudElkOiAnYWNjb3VudElkJywgaG9zdDogJ3BzLW1wYS0xJyxcbiAgICAgICAgaW5zdGFuY2VJbmRleDogMCwgcmVwbGljYXM6IDJ9KTtcbiAgICAgIHNlcnZlci5lbWl0KCdzeW5jaHJvbml6YXRpb24nLCB7dHlwZTogJ2F1dGhlbnRpY2F0ZWQnLCBhY2NvdW50SWQ6ICdhY2NvdW50SWQnLCBob3N0OiAncHMtbXBhLTInLFxuICAgICAgICBpbnN0YW5jZUluZGV4OiAwLCByZXBsaWNhczogMn0pO1xuICAgICAgc2VydmVyLmVtaXQoJ3N5bmNocm9uaXphdGlvbicsIHt0eXBlOiAnZGlzY29ubmVjdGVkJywgYWNjb3VudElkOiAnYWNjb3VudElkJywgaG9zdDogJ3BzLW1wYS0xJyxcbiAgICAgICAgaW5zdGFuY2VJbmRleDogMH0pO1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCA1MCkpO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgobGlzdGVuZXIub25TdHJlYW1DbG9zZWQsICd2aW50LWhpbGw6MDpwcy1tcGEtMScpO1xuICAgICAgc2lub24uYXNzZXJ0Lm5vdENhbGxlZChsaXN0ZW5lci5vbkRpc2Nvbm5lY3RlZCk7XG4gICAgICBzaW5vbi5hc3NlcnQubm90Q2FsbGVkKG9uRGlzY29ubmVjdGVkU3R1Yik7XG4gICAgICBzZXJ2ZXIuZW1pdCgnc3luY2hyb25pemF0aW9uJywge3R5cGU6ICdkaXNjb25uZWN0ZWQnLCBhY2NvdW50SWQ6ICdhY2NvdW50SWQnLCBob3N0OiAncHMtbXBhLTInLFxuICAgICAgICBpbnN0YW5jZUluZGV4OiAwfSk7XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIDUwKSk7XG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkT25jZShsaXN0ZW5lci5vbkRpc2Nvbm5lY3RlZCk7XG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChvbkRpc2Nvbm5lY3RlZFN0dWIsICdhY2NvdW50SWQnLCAwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3Rlcm1pbmFsIHN0YXRlIHN5bmNocm9uaXphdGlvbicsICgpID0+IHtcblxuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgc2FuZGJveC5zdHViKGNsaWVudC5fc3Vic2NyaXB0aW9uTWFuYWdlciwgJ2lzU3Vic2NyaXB0aW9uQWN0aXZlJykucmV0dXJucyh0cnVlKTtcbiAgICB9KTtcblxuICAgIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgICBjbGllbnQucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIG9ubHkgYWNjZXB0IHBhY2tldHMgd2l0aCBvd24gc3luY2hyb25pemF0aW9uIGlkcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGxldCBsaXN0ZW5lciA9IHtcbiAgICAgICAgb25BY2NvdW50SW5mb3JtYXRpb25VcGRhdGVkOiAoKSA9PiB7fSxcbiAgICAgICAgb25TeW5jaHJvbml6YXRpb25TdGFydGVkOiAoKSA9PiB7fVxuICAgICAgfTtcbiAgICAgIHNhbmRib3guc3R1YihsaXN0ZW5lciwgJ29uQWNjb3VudEluZm9ybWF0aW9uVXBkYXRlZCcpLnJlc29sdmVzKCk7XG4gICAgICBjbGllbnQuYWRkU3luY2hyb25pemF0aW9uTGlzdGVuZXIoJ2FjY291bnRJZCcsIGxpc3RlbmVyKTtcbiAgICAgIHNhbmRib3guc3R1YihjbGllbnQuX3NvY2tldEluc3RhbmNlc1sndmludC1oaWxsJ11bMF1bMF0uc3luY2hyb25pemF0aW9uVGhyb3R0bGVyLCBcbiAgICAgICAgJ2FjdGl2ZVN5bmNocm9uaXphdGlvbklkcycpLmdldCgoKSA9PiBbJ3N5bmNocm9uaXphdGlvbklkJ10pO1xuICAgICAgc2VydmVyLmVtaXQoJ3N5bmNocm9uaXphdGlvbicsIHt0eXBlOiAnYWNjb3VudEluZm9ybWF0aW9uJywgYWNjb3VudElkOiAnYWNjb3VudElkJywgXG4gICAgICAgIGFjY291bnRJbmZvcm1hdGlvbjoge30sIGluc3RhbmNlSW5kZXg6IDB9KTtcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgNTApKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsQ291bnQobGlzdGVuZXIub25BY2NvdW50SW5mb3JtYXRpb25VcGRhdGVkLCAxKTtcbiAgICAgIHNlcnZlci5lbWl0KCdzeW5jaHJvbml6YXRpb24nLCB7dHlwZTogJ3N5bmNocm9uaXphdGlvblN0YXJ0ZWQnLCBhY2NvdW50SWQ6ICdhY2NvdW50SWQnLFxuICAgICAgICBpbnN0YW5jZUluZGV4OiAwLCBzeW5jaHJvbml6YXRpb25JZDogJ3N5bmNocm9uaXphdGlvbklkJ30pO1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCA1MCkpO1xuICAgICAgc2VydmVyLmVtaXQoJ3N5bmNocm9uaXphdGlvbicsIHt0eXBlOiAnYWNjb3VudEluZm9ybWF0aW9uJywgYWNjb3VudElkOiAnYWNjb3VudElkJyxcbiAgICAgICAgYWNjb3VudEluZm9ybWF0aW9uOiB7fSwgaW5zdGFuY2VJbmRleDogMCwgc3luY2hyb25pemF0aW9uSWQ6ICd3cm9uZyd9KTtcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgNTApKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsQ291bnQobGlzdGVuZXIub25BY2NvdW50SW5mb3JtYXRpb25VcGRhdGVkLCAxKTtcbiAgICAgIHNlcnZlci5lbWl0KCdzeW5jaHJvbml6YXRpb24nLCB7dHlwZTogJ2FjY291bnRJbmZvcm1hdGlvbicsIGFjY291bnRJZDogJ2FjY291bnRJZCcsIFxuICAgICAgICBhY2NvdW50SW5mb3JtYXRpb246IHt9LCBpbnN0YW5jZUluZGV4OiAwLCBzeW5jaHJvbml6YXRpb25JZDogJ3N5bmNocm9uaXphdGlvbklkJ30pO1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCA1MCkpO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxDb3VudChsaXN0ZW5lci5vbkFjY291bnRJbmZvcm1hdGlvblVwZGF0ZWQsIDIpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHRlc3Qge01ldGFBcGlXZWJzb2NrZXRDbGllbnQjc3luY2hyb25pemV9XG4gICAgICovXG4gICAgaXQoJ3Nob3VsZCBzeW5jaHJvbml6ZSB3aXRoIE1ldGFUcmFkZXIgdGVybWluYWwnLCBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgcmVxdWVzdFJlY2VpdmVkID0gZmFsc2U7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuICAgICAgc2VydmVyLm9uKCdyZXF1ZXN0JywgZGF0YSA9PiB7XG4gICAgICAgIGlmIChkYXRhLnR5cGUgPT09ICdzeW5jaHJvbml6ZScgJiYgZGF0YS5hY2NvdW50SWQgPT09ICdhY2NvdW50SWQnICYmXG4gICAgICAgICAgZGF0YS5ob3N0ID09PSAncHMtbXBhLTEnICYmXG4gICAgICAgICAgZGF0YS5zdGFydGluZ0hpc3RvcnlPcmRlclRpbWUgPT09ICcyMDIwLTAxLTAxVDAwOjAwOjAwLjAwMFonICYmXG4gICAgICAgICAgZGF0YS5zdGFydGluZ0RlYWxUaW1lID09PSAnMjAyMC0wMS0wMlQwMDowMDowMC4wMDBaJyAmJiBkYXRhLnJlcXVlc3RJZCA9PT0gJ3N5bmNocm9uaXphdGlvbklkJyAmJlxuICAgICAgICAgIGRhdGEuYXBwbGljYXRpb24gPT09ICdhcHBsaWNhdGlvbicgJiYgZGF0YS5pbnN0YW5jZUluZGV4ID09PSAwKSB7XG4gICAgICAgICAgcmVxdWVzdFJlY2VpdmVkID0gdHJ1ZTtcbiAgICAgICAgICBzZXJ2ZXIuZW1pdCgncmVzcG9uc2UnLCB7dHlwZTogJ3Jlc3BvbnNlJywgYWNjb3VudElkOiBkYXRhLmFjY291bnRJZCwgcmVxdWVzdElkOiBkYXRhLnJlcXVlc3RJZH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGF3YWl0IGNsaWVudC5zeW5jaHJvbml6ZSgnYWNjb3VudElkJywgMCwgJ3BzLW1wYS0xJywgJ3N5bmNocm9uaXphdGlvbklkJywgbmV3IERhdGUoJzIwMjAtMDEtMDFUMDA6MDA6MDAuMDAwWicpLFxuICAgICAgICBuZXcgRGF0ZSgnMjAyMC0wMS0wMlQwMDowMDowMC4wMDBaJyksICgpID0+ICh7XG4gICAgICAgICAgc3BlY2lmaWNhdGlvbnNNZDU6ICcxMTExJyxcbiAgICAgICAgICBwb3NpdGlvbnNNZDU6ICcyMjIyJyxcbiAgICAgICAgICBvcmRlcnNNZDU6ICczMzMzJ1xuICAgICAgICB9KSk7XG4gICAgICByZXF1ZXN0UmVjZWl2ZWQuc2hvdWxkLmJlLnRydWUoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcHJvY2VzcyBzeW5jaHJvbml6YXRpb24gc3RhcnRlZCBldmVudCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNsaWVudC5fc29ja2V0SW5zdGFuY2VzWyd2aW50LWhpbGwnXVswXVswXS5zeW5jaHJvbml6YXRpb25UaHJvdHRsZXIgPSBzeW5jaHJvbml6YXRpb25UaHJvdHRsZXI7XG4gICAgICBsZXQgbGlzdGVuZXIgPSB7XG4gICAgICAgIG9uU3luY2hyb25pemF0aW9uU3RhcnRlZDogKCkgPT4ge30sXG4gICAgICAgIG9uUG9zaXRpb25zU3luY2hyb25pemVkOiAoKSA9PiB7fSxcbiAgICAgICAgb25QZW5kaW5nT3JkZXJzU3luY2hyb25pemVkOiAoKSA9PiB7fSxcbiAgICAgICAgb25BY2NvdW50SW5mb3JtYXRpb25VcGRhdGVkOiAoKSA9PiB7fSxcbiAgICAgIH07XG4gICAgICBzYW5kYm94LnN0dWIobGlzdGVuZXIsICdvblN5bmNocm9uaXphdGlvblN0YXJ0ZWQnKS5yZXNvbHZlcygpO1xuICAgICAgc2FuZGJveC5zdHViKGxpc3RlbmVyLCAnb25Qb3NpdGlvbnNTeW5jaHJvbml6ZWQnKS5yZXNvbHZlcygpO1xuICAgICAgc2FuZGJveC5zdHViKGxpc3RlbmVyLCAnb25QZW5kaW5nT3JkZXJzU3luY2hyb25pemVkJykucmVzb2x2ZXMoKTtcbiAgICAgIGNsaWVudC5hZGRTeW5jaHJvbml6YXRpb25MaXN0ZW5lcignYWNjb3VudElkJywgbGlzdGVuZXIpO1xuICAgICAgc2VydmVyLmVtaXQoJ3N5bmNocm9uaXphdGlvbicsIHt0eXBlOiAnc3luY2hyb25pemF0aW9uU3RhcnRlZCcsIGFjY291bnRJZDogJ2FjY291bnRJZCcsIGluc3RhbmNlSW5kZXg6IDAsXG4gICAgICAgIHN5bmNocm9uaXphdGlvbklkOiAnc3luY2hyb25pemF0aW9uSWQnLCBob3N0OiAncHMtbXBhLTEnfSk7XG4gICAgICBzZXJ2ZXIuZW1pdCgnc3luY2hyb25pemF0aW9uJywge3R5cGU6ICdhY2NvdW50SW5mb3JtYXRpb24nLCBhY2NvdW50SWQ6ICdhY2NvdW50SWQnLCBcbiAgICAgICAgYWNjb3VudEluZm9ybWF0aW9uLCBpbnN0YW5jZUluZGV4OiAwLCBob3N0OiAncHMtbXBhLTEnLCBzeW5jaHJvbml6YXRpb25JZDogJ3N5bmNocm9uaXphdGlvbklkJ30pO1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCAxMDApKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGxpc3RlbmVyLm9uU3luY2hyb25pemF0aW9uU3RhcnRlZCwgJ3ZpbnQtaGlsbDowOnBzLW1wYS0xJywgdHJ1ZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICBzaW5vbi5hc3NlcnQubm90Q2FsbGVkKGxpc3RlbmVyLm9uUG9zaXRpb25zU3luY2hyb25pemVkKTtcbiAgICAgIHNpbm9uLmFzc2VydC5ub3RDYWxsZWQobGlzdGVuZXIub25QZW5kaW5nT3JkZXJzU3luY2hyb25pemVkKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcHJvY2VzcyBzeW5jaHJvbml6YXRpb24gc3RhcnRlZCBldmVudCB3aXRoIG5vIHVwZGF0ZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjbGllbnQuX3NvY2tldEluc3RhbmNlc1sndmludC1oaWxsJ11bMF1bMF0uc3luY2hyb25pemF0aW9uVGhyb3R0bGVyID0gc3luY2hyb25pemF0aW9uVGhyb3R0bGVyO1xuICAgICAgbGV0IGxpc3RlbmVyID0ge1xuICAgICAgICBvblN5bmNocm9uaXphdGlvblN0YXJ0ZWQ6ICgpID0+IHt9LFxuICAgICAgICBvblBvc2l0aW9uc1N5bmNocm9uaXplZDogKCkgPT4ge30sXG4gICAgICAgIG9uUGVuZGluZ09yZGVyc1N5bmNocm9uaXplZDogKCkgPT4ge30sXG4gICAgICAgIG9uQWNjb3VudEluZm9ybWF0aW9uVXBkYXRlZDogKCkgPT4ge30sXG4gICAgICB9O1xuICAgICAgc2FuZGJveC5zdHViKGxpc3RlbmVyLCAnb25TeW5jaHJvbml6YXRpb25TdGFydGVkJykucmVzb2x2ZXMoKTtcbiAgICAgIHNhbmRib3guc3R1YihsaXN0ZW5lciwgJ29uUG9zaXRpb25zU3luY2hyb25pemVkJykucmVzb2x2ZXMoKTtcbiAgICAgIHNhbmRib3guc3R1YihsaXN0ZW5lciwgJ29uUGVuZGluZ09yZGVyc1N5bmNocm9uaXplZCcpLnJlc29sdmVzKCk7XG4gICAgICBjbGllbnQuYWRkU3luY2hyb25pemF0aW9uTGlzdGVuZXIoJ2FjY291bnRJZCcsIGxpc3RlbmVyKTtcbiAgICAgIHNlcnZlci5lbWl0KCdzeW5jaHJvbml6YXRpb24nLCB7dHlwZTogJ3N5bmNocm9uaXphdGlvblN0YXJ0ZWQnLCBhY2NvdW50SWQ6ICdhY2NvdW50SWQnLCBpbnN0YW5jZUluZGV4OiAwLFxuICAgICAgICBzcGVjaWZpY2F0aW9uc1VwZGF0ZWQ6IGZhbHNlLCBwb3NpdGlvbnNVcGRhdGVkOiBmYWxzZSwgb3JkZXJzVXBkYXRlZDogZmFsc2UsXG4gICAgICAgIHN5bmNocm9uaXphdGlvbklkOiAnc3luY2hyb25pemF0aW9uSWQnLCBob3N0OiAncHMtbXBhLTEnfSk7XG4gICAgICBzZXJ2ZXIuZW1pdCgnc3luY2hyb25pemF0aW9uJywge3R5cGU6ICdhY2NvdW50SW5mb3JtYXRpb24nLCBhY2NvdW50SWQ6ICdhY2NvdW50SWQnLCBcbiAgICAgICAgYWNjb3VudEluZm9ybWF0aW9uLCBpbnN0YW5jZUluZGV4OiAwLCBob3N0OiAncHMtbXBhLTEnLCBzeW5jaHJvbml6YXRpb25JZDogJ3N5bmNocm9uaXphdGlvbklkJ30pO1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCA1MCkpO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgobGlzdGVuZXIub25TeW5jaHJvbml6YXRpb25TdGFydGVkLCAndmludC1oaWxsOjA6cHMtbXBhLTEnLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGxpc3RlbmVyLm9uUG9zaXRpb25zU3luY2hyb25pemVkLCAndmludC1oaWxsOjA6cHMtbXBhLTEnLCAnc3luY2hyb25pemF0aW9uSWQnKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGxpc3RlbmVyLm9uUGVuZGluZ09yZGVyc1N5bmNocm9uaXplZCwgJ3ZpbnQtaGlsbDowOnBzLW1wYS0xJywgJ3N5bmNocm9uaXphdGlvbklkJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHByb2Nlc3Mgc3luY2hyb25pemF0aW9uIHN0YXJ0ZWQgZXZlbnQgd2l0aG91dCB1cGRhdGluZyBwb3NpdGlvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgb3JkZXJzID0gW3tcbiAgICAgICAgaWQ6ICc0Njg3MTI4NCcsXG4gICAgICAgIHR5cGU6ICdPUkRFUl9UWVBFX0JVWV9MSU1JVCcsXG4gICAgICAgIHN0YXRlOiAnT1JERVJfU1RBVEVfUExBQ0VEJyxcbiAgICAgICAgc3ltYm9sOiAnQVVETlpEJyxcbiAgICAgICAgbWFnaWM6IDEyMzQ1NixcbiAgICAgICAgcGxhdGZvcm06ICdtdDUnLFxuICAgICAgICB0aW1lOiBuZXcgRGF0ZSgnMjAyMC0wNC0yMFQwODozODo1OC4yNzBaJyksXG4gICAgICAgIG9wZW5QcmljZTogMS4wMyxcbiAgICAgICAgY3VycmVudFByaWNlOiAxLjA1MjA2LFxuICAgICAgICB2b2x1bWU6IDAuMDEsXG4gICAgICAgIGN1cnJlbnRWb2x1bWU6IDAuMDEsXG4gICAgICAgIGNvbW1lbnQ6ICdDT01NRU5UMidcbiAgICAgIH1dO1xuICAgICAgY2xpZW50Ll9zb2NrZXRJbnN0YW5jZXNbJ3ZpbnQtaGlsbCddWzBdWzBdLnN5bmNocm9uaXphdGlvblRocm90dGxlciA9IHN5bmNocm9uaXphdGlvblRocm90dGxlcjtcbiAgICAgIGxldCBsaXN0ZW5lciA9IHtcbiAgICAgICAgb25TeW5jaHJvbml6YXRpb25TdGFydGVkOiAoKSA9PiB7fSxcbiAgICAgICAgb25Qb3NpdGlvbnNTeW5jaHJvbml6ZWQ6ICgpID0+IHt9LFxuICAgICAgICBvblBlbmRpbmdPcmRlcnNTeW5jaHJvbml6ZWQ6ICgpID0+IHt9LFxuICAgICAgICBvblBlbmRpbmdPcmRlcnNSZXBsYWNlZDogKCkgPT4ge30sXG4gICAgICAgIG9uQWNjb3VudEluZm9ybWF0aW9uVXBkYXRlZDogKCkgPT4ge30sXG4gICAgICB9O1xuICAgICAgc2FuZGJveC5zdHViKGxpc3RlbmVyLCAnb25TeW5jaHJvbml6YXRpb25TdGFydGVkJykucmVzb2x2ZXMoKTtcbiAgICAgIHNhbmRib3guc3R1YihsaXN0ZW5lciwgJ29uUG9zaXRpb25zU3luY2hyb25pemVkJykucmVzb2x2ZXMoKTtcbiAgICAgIHNhbmRib3guc3R1YihsaXN0ZW5lciwgJ29uUGVuZGluZ09yZGVyc1N5bmNocm9uaXplZCcpLnJlc29sdmVzKCk7XG4gICAgICBjbGllbnQuYWRkU3luY2hyb25pemF0aW9uTGlzdGVuZXIoJ2FjY291bnRJZCcsIGxpc3RlbmVyKTtcbiAgICAgIHNlcnZlci5lbWl0KCdzeW5jaHJvbml6YXRpb24nLCB7dHlwZTogJ3N5bmNocm9uaXphdGlvblN0YXJ0ZWQnLCBhY2NvdW50SWQ6ICdhY2NvdW50SWQnLCBpbnN0YW5jZUluZGV4OiAwLFxuICAgICAgICBzeW5jaHJvbml6YXRpb25JZDogJ3N5bmNocm9uaXphdGlvbklkJywgaG9zdDogJ3BzLW1wYS0xJywgcG9zaXRpb25zVXBkYXRlZDogZmFsc2UsXG4gICAgICAgIG9yZGVyc1VwZGF0ZWQ6IHRydWV9KTtcbiAgICAgIHNlcnZlci5lbWl0KCdzeW5jaHJvbml6YXRpb24nLCB7dHlwZTogJ2FjY291bnRJbmZvcm1hdGlvbicsIGFjY291bnRJZDogJ2FjY291bnRJZCcsIFxuICAgICAgICBhY2NvdW50SW5mb3JtYXRpb24sIGluc3RhbmNlSW5kZXg6IDAsIGhvc3Q6ICdwcy1tcGEtMScsIHN5bmNocm9uaXphdGlvbklkOiAnc3luY2hyb25pemF0aW9uSWQnfSk7XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIDEwMCkpO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgobGlzdGVuZXIub25TeW5jaHJvbml6YXRpb25TdGFydGVkLCAndmludC1oaWxsOjA6cHMtbXBhLTEnLCB0cnVlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChsaXN0ZW5lci5vblBvc2l0aW9uc1N5bmNocm9uaXplZCwgJ3ZpbnQtaGlsbDowOnBzLW1wYS0xJywgJ3N5bmNocm9uaXphdGlvbklkJyk7XG4gICAgICBzaW5vbi5hc3NlcnQubm90Q2FsbGVkKGxpc3RlbmVyLm9uUGVuZGluZ09yZGVyc1N5bmNocm9uaXplZCk7XG4gICAgICBzZXJ2ZXIuZW1pdCgnc3luY2hyb25pemF0aW9uJywge3R5cGU6ICdvcmRlcnMnLCBhY2NvdW50SWQ6ICdhY2NvdW50SWQnLCBvcmRlcnMsIGluc3RhbmNlSW5kZXg6IDAsXG4gICAgICAgIHN5bmNocm9uaXphdGlvbklkOiAnc3luY2hyb25pemF0aW9uSWQnLCBob3N0OiAncHMtbXBhLTEnfSk7XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIDEwMCkpO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgobGlzdGVuZXIub25QZW5kaW5nT3JkZXJzU3luY2hyb25pemVkLCAndmludC1oaWxsOjA6cHMtbXBhLTEnLCAnc3luY2hyb25pemF0aW9uSWQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcHJvY2VzcyBzeW5jaHJvbml6YXRpb24gc3RhcnRlZCBldmVudCB3aXRob3V0IHVwZGF0aW5nIG9yZGVycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGxldCBwb3NpdGlvbnMgPSBbe1xuICAgICAgICBpZDogJzQ2MjE0NjkyJyxcbiAgICAgICAgdHlwZTogJ1BPU0lUSU9OX1RZUEVfQlVZJyxcbiAgICAgICAgc3ltYm9sOiAnR0JQVVNEJyxcbiAgICAgICAgbWFnaWM6IDEwMDAsXG4gICAgICAgIHRpbWU6ICcyMDIwLTA0LTE1VDAyOjQ1OjA2LjUyMVonLFxuICAgICAgICB1cGRhdGVUaW1lOiAnMjAyMC0wNC0xNVQwMjo0NTowNi41MjFaJyxcbiAgICAgICAgb3BlblByaWNlOiAxLjI2MTAxLFxuICAgICAgICBjdXJyZW50UHJpY2U6IDEuMjQ4ODMsXG4gICAgICAgIGN1cnJlbnRUaWNrVmFsdWU6IDEsXG4gICAgICAgIHZvbHVtZTogMC4wNyxcbiAgICAgICAgc3dhcDogMCxcbiAgICAgICAgcHJvZml0OiAtODUuMjU5OTk5OTk5OTk5NjYsXG4gICAgICAgIGNvbW1pc3Npb246IC0wLjI1LFxuICAgICAgICBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJyxcbiAgICAgICAgc3RvcExvc3M6IDEuMTc3MjEsXG4gICAgICAgIHVucmVhbGl6ZWRQcm9maXQ6IC04NS4yNTk5OTk5OTk5OTkwMSxcbiAgICAgICAgcmVhbGl6ZWRQcm9maXQ6IC02LjUzNjk5MzE2ODk5MjkyMmUtMTNcbiAgICAgIH1dO1xuXG4gICAgICBjbGllbnQuX3NvY2tldEluc3RhbmNlc1sndmludC1oaWxsJ11bMF1bMF0uc3luY2hyb25pemF0aW9uVGhyb3R0bGVyID0gc3luY2hyb25pemF0aW9uVGhyb3R0bGVyO1xuICAgICAgbGV0IGxpc3RlbmVyID0ge1xuICAgICAgICBvblN5bmNocm9uaXphdGlvblN0YXJ0ZWQ6ICgpID0+IHt9LFxuICAgICAgICBvblBvc2l0aW9uc1N5bmNocm9uaXplZDogKCkgPT4ge30sXG4gICAgICAgIG9uUGVuZGluZ09yZGVyc1N5bmNocm9uaXplZDogKCkgPT4ge30sXG4gICAgICAgIG9uUG9zaXRpb25zUmVwbGFjZWQ6ICgpID0+IHt9LFxuICAgICAgICBvbkFjY291bnRJbmZvcm1hdGlvblVwZGF0ZWQ6ICgpID0+IHt9LFxuICAgICAgfTtcbiAgICAgIHNhbmRib3guc3R1YihsaXN0ZW5lciwgJ29uU3luY2hyb25pemF0aW9uU3RhcnRlZCcpLnJlc29sdmVzKCk7XG4gICAgICBzYW5kYm94LnN0dWIobGlzdGVuZXIsICdvblBvc2l0aW9uc1N5bmNocm9uaXplZCcpLnJlc29sdmVzKCk7XG4gICAgICBzYW5kYm94LnN0dWIobGlzdGVuZXIsICdvblBlbmRpbmdPcmRlcnNTeW5jaHJvbml6ZWQnKS5yZXNvbHZlcygpO1xuICAgICAgY2xpZW50LmFkZFN5bmNocm9uaXphdGlvbkxpc3RlbmVyKCdhY2NvdW50SWQnLCBsaXN0ZW5lcik7XG4gICAgICBzZXJ2ZXIuZW1pdCgnc3luY2hyb25pemF0aW9uJywge3R5cGU6ICdzeW5jaHJvbml6YXRpb25TdGFydGVkJywgYWNjb3VudElkOiAnYWNjb3VudElkJywgaW5zdGFuY2VJbmRleDogMCxcbiAgICAgICAgc3luY2hyb25pemF0aW9uSWQ6ICdzeW5jaHJvbml6YXRpb25JZCcsIGhvc3Q6ICdwcy1tcGEtMScsIHBvc2l0aW9uc1VwZGF0ZWQ6IHRydWUsXG4gICAgICAgIG9yZGVyc1VwZGF0ZWQ6IGZhbHNlfSk7XG4gICAgICBzZXJ2ZXIuZW1pdCgnc3luY2hyb25pemF0aW9uJywge3R5cGU6ICdhY2NvdW50SW5mb3JtYXRpb24nLCBhY2NvdW50SWQ6ICdhY2NvdW50SWQnLCBcbiAgICAgICAgYWNjb3VudEluZm9ybWF0aW9uLCBpbnN0YW5jZUluZGV4OiAwLCBob3N0OiAncHMtbXBhLTEnLCBzeW5jaHJvbml6YXRpb25JZDogJ3N5bmNocm9uaXphdGlvbklkJ30pO1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCAxMDApKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGxpc3RlbmVyLm9uU3luY2hyb25pemF0aW9uU3RhcnRlZCwgJ3ZpbnQtaGlsbDowOnBzLW1wYS0xJywgdHJ1ZSwgdHJ1ZSwgZmFsc2UpO1xuICAgICAgc2lub24uYXNzZXJ0Lm5vdENhbGxlZChsaXN0ZW5lci5vblBvc2l0aW9uc1N5bmNocm9uaXplZCk7XG4gICAgICBzaW5vbi5hc3NlcnQubm90Q2FsbGVkKGxpc3RlbmVyLm9uUGVuZGluZ09yZGVyc1N5bmNocm9uaXplZCk7XG4gICAgICBzZXJ2ZXIuZW1pdCgnc3luY2hyb25pemF0aW9uJywge3R5cGU6ICdwb3NpdGlvbnMnLCBhY2NvdW50SWQ6ICdhY2NvdW50SWQnLCBwb3NpdGlvbnMsIGluc3RhbmNlSW5kZXg6IDAsXG4gICAgICAgIHN5bmNocm9uaXphdGlvbklkOiAnc3luY2hyb25pemF0aW9uSWQnLCBob3N0OiAncHMtbXBhLTEnfSk7XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIDUwKSk7XG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChsaXN0ZW5lci5vblBvc2l0aW9uc1N5bmNocm9uaXplZCwgJ3ZpbnQtaGlsbDowOnBzLW1wYS0xJywgJ3N5bmNocm9uaXphdGlvbklkJyk7XG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChsaXN0ZW5lci5vblBlbmRpbmdPcmRlcnNTeW5jaHJvbml6ZWQsICd2aW50LWhpbGw6MDpwcy1tcGEtMScsICdzeW5jaHJvbml6YXRpb25JZCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzeW5jaHJvbml6ZSBhY2NvdW50IGluZm9ybWF0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbGV0IGxpc3RlbmVyID0ge1xuICAgICAgICBvbkFjY291bnRJbmZvcm1hdGlvblVwZGF0ZWQ6ICgpID0+IHtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHNhbmRib3guc3R1YihsaXN0ZW5lciwgJ29uQWNjb3VudEluZm9ybWF0aW9uVXBkYXRlZCcpLnJlc29sdmVzKCk7XG4gICAgICBjbGllbnQuYWRkU3luY2hyb25pemF0aW9uTGlzdGVuZXIoJ2FjY291bnRJZCcsIGxpc3RlbmVyKTtcbiAgICAgIHNlcnZlci5lbWl0KCdzeW5jaHJvbml6YXRpb24nLCB7dHlwZTogJ2FjY291bnRJbmZvcm1hdGlvbicsIGFjY291bnRJZDogJ2FjY291bnRJZCcsXG4gICAgICAgIGhvc3Q6ICdwcy1tcGEtMScsIGFjY291bnRJbmZvcm1hdGlvbiwgaW5zdGFuY2VJbmRleDogMH0pO1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCA1MCkpO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgobGlzdGVuZXIub25BY2NvdW50SW5mb3JtYXRpb25VcGRhdGVkLCAndmludC1oaWxsOjA6cHMtbXBhLTEnLCBhY2NvdW50SW5mb3JtYXRpb24pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzeW5jaHJvbml6ZSBwb3NpdGlvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgcG9zaXRpb25zID0gW3tcbiAgICAgICAgaWQ6ICc0NjIxNDY5MicsXG4gICAgICAgIHR5cGU6ICdQT1NJVElPTl9UWVBFX0JVWScsXG4gICAgICAgIHN5bWJvbDogJ0dCUFVTRCcsXG4gICAgICAgIG1hZ2ljOiAxMDAwLFxuICAgICAgICB0aW1lOiBuZXcgRGF0ZSgnMjAyMC0wNC0xNVQwMjo0NTowNi41MjFaJyksXG4gICAgICAgIHVwZGF0ZVRpbWU6IG5ldyBEYXRlKCcyMDIwLTA0LTE1VDAyOjQ1OjA2LjUyMVonKSxcbiAgICAgICAgb3BlblByaWNlOiAxLjI2MTAxLFxuICAgICAgICBjdXJyZW50UHJpY2U6IDEuMjQ4ODMsXG4gICAgICAgIGN1cnJlbnRUaWNrVmFsdWU6IDEsXG4gICAgICAgIHZvbHVtZTogMC4wNyxcbiAgICAgICAgc3dhcDogMCxcbiAgICAgICAgcHJvZml0OiAtODUuMjU5OTk5OTk5OTk5NjYsXG4gICAgICAgIGNvbW1pc3Npb246IC0wLjI1LFxuICAgICAgICBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJyxcbiAgICAgICAgc3RvcExvc3M6IDEuMTc3MjEsXG4gICAgICAgIHVucmVhbGl6ZWRQcm9maXQ6IC04NS4yNTk5OTk5OTk5OTkwMSxcbiAgICAgICAgcmVhbGl6ZWRQcm9maXQ6IC02LjUzNjk5MzE2ODk5MjkyMmUtMTNcbiAgICAgIH1dO1xuICAgICAgY2xpZW50Ll9zb2NrZXRJbnN0YW5jZXNbJ3ZpbnQtaGlsbCddWzBdWzBdLnN5bmNocm9uaXphdGlvblRocm90dGxlciA9IHN5bmNocm9uaXphdGlvblRocm90dGxlcjtcbiAgICAgIGxldCBsaXN0ZW5lciA9IHtcbiAgICAgICAgb25Qb3NpdGlvbnNSZXBsYWNlZDogKCkgPT4ge30sXG4gICAgICAgIG9uUG9zaXRpb25zU3luY2hyb25pemVkOiAoKSA9PiB7fSxcbiAgICAgICAgb25TeW5jaHJvbml6YXRpb25TdGFydGVkOiAoKSA9PiB7fVxuICAgICAgfTtcbiAgICAgIHNhbmRib3guc3R1YihsaXN0ZW5lciwgJ29uUG9zaXRpb25zUmVwbGFjZWQnKS5yZXNvbHZlcygpO1xuICAgICAgc2FuZGJveC5zdHViKGxpc3RlbmVyLCAnb25Qb3NpdGlvbnNTeW5jaHJvbml6ZWQnKS5yZXNvbHZlcygpO1xuICAgICAgY2xpZW50LmFkZFN5bmNocm9uaXphdGlvbkxpc3RlbmVyKCdhY2NvdW50SWQnLCBsaXN0ZW5lcik7XG4gICAgICBzZXJ2ZXIuZW1pdCgnc3luY2hyb25pemF0aW9uJywge3R5cGU6ICdzeW5jaHJvbml6YXRpb25TdGFydGVkJywgYWNjb3VudElkOiAnYWNjb3VudElkJyxcbiAgICAgICAgaW5zdGFuY2VJbmRleDogMCwgc3luY2hyb25pemF0aW9uSWQ6ICdzeW5jaHJvbml6YXRpb25JZCcsIGhvc3Q6ICdwcy1tcGEtMSd9KTtcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgNTApKTtcbiAgICAgIHNlcnZlci5lbWl0KCdzeW5jaHJvbml6YXRpb24nLCB7dHlwZTogJ3Bvc2l0aW9ucycsIGFjY291bnRJZDogJ2FjY291bnRJZCcsIHBvc2l0aW9ucywgaW5zdGFuY2VJbmRleDogMCxcbiAgICAgICAgc3luY2hyb25pemF0aW9uSWQ6ICdzeW5jaHJvbml6YXRpb25JZCcsIGhvc3Q6ICdwcy1tcGEtMSd9KTtcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgNTApKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGxpc3RlbmVyLm9uUG9zaXRpb25zUmVwbGFjZWQsICd2aW50LWhpbGw6MDpwcy1tcGEtMScsIHBvc2l0aW9ucyk7XG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChsaXN0ZW5lci5vblBvc2l0aW9uc1N5bmNocm9uaXplZCwgJ3ZpbnQtaGlsbDowOnBzLW1wYS0xJywgJ3N5bmNocm9uaXphdGlvbklkJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHN5bmNocm9uaXplIG9yZGVycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGxldCBvcmRlcnMgPSBbe1xuICAgICAgICBpZDogJzQ2ODcxMjg0JyxcbiAgICAgICAgdHlwZTogJ09SREVSX1RZUEVfQlVZX0xJTUlUJyxcbiAgICAgICAgc3RhdGU6ICdPUkRFUl9TVEFURV9QTEFDRUQnLFxuICAgICAgICBzeW1ib2w6ICdBVUROWkQnLFxuICAgICAgICBtYWdpYzogMTIzNDU2LFxuICAgICAgICBwbGF0Zm9ybTogJ210NScsXG4gICAgICAgIHRpbWU6IG5ldyBEYXRlKCcyMDIwLTA0LTIwVDA4OjM4OjU4LjI3MFonKSxcbiAgICAgICAgb3BlblByaWNlOiAxLjAzLFxuICAgICAgICBjdXJyZW50UHJpY2U6IDEuMDUyMDYsXG4gICAgICAgIHZvbHVtZTogMC4wMSxcbiAgICAgICAgY3VycmVudFZvbHVtZTogMC4wMSxcbiAgICAgICAgY29tbWVudDogJ0NPTU1FTlQyJ1xuICAgICAgfV07XG4gICAgICBsZXQgbGlzdGVuZXIgPSB7XG4gICAgICAgIG9uUGVuZGluZ09yZGVyc1JlcGxhY2VkOiAoKSA9PiB7fSxcbiAgICAgICAgb25QZW5kaW5nT3JkZXJzU3luY2hyb25pemVkOiAoKSA9PiB7fSxcbiAgICAgICAgb25TeW5jaHJvbml6YXRpb25TdGFydGVkOiAoKSA9PiB7fVxuICAgICAgfTtcbiAgICAgIGNsaWVudC5fc29ja2V0SW5zdGFuY2VzWyd2aW50LWhpbGwnXVswXVswXS5zeW5jaHJvbml6YXRpb25UaHJvdHRsZXIgPSBzeW5jaHJvbml6YXRpb25UaHJvdHRsZXI7XG4gICAgICBzYW5kYm94LnN0dWIobGlzdGVuZXIsICdvblBlbmRpbmdPcmRlcnNSZXBsYWNlZCcpLnJlc29sdmVzKCk7XG4gICAgICBzYW5kYm94LnN0dWIobGlzdGVuZXIsICdvblBlbmRpbmdPcmRlcnNTeW5jaHJvbml6ZWQnKS5yZXNvbHZlcygpO1xuICAgICAgY2xpZW50LmFkZFN5bmNocm9uaXphdGlvbkxpc3RlbmVyKCdhY2NvdW50SWQnLCBsaXN0ZW5lcik7XG4gICAgICBzZXJ2ZXIuZW1pdCgnc3luY2hyb25pemF0aW9uJywge3R5cGU6ICdzeW5jaHJvbml6YXRpb25TdGFydGVkJywgYWNjb3VudElkOiAnYWNjb3VudElkJyxcbiAgICAgICAgaW5zdGFuY2VJbmRleDogMCwgc3luY2hyb25pemF0aW9uSWQ6ICdzeW5jaHJvbml6YXRpb25JZCcsIGhvc3Q6ICdwcy1tcGEtMSd9KTtcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgNTApKTtcbiAgICAgIHNlcnZlci5lbWl0KCdzeW5jaHJvbml6YXRpb24nLCB7dHlwZTogJ29yZGVycycsIGFjY291bnRJZDogJ2FjY291bnRJZCcsIG9yZGVycywgaW5zdGFuY2VJbmRleDogMCxcbiAgICAgICAgc3luY2hyb25pemF0aW9uSWQ6ICdzeW5jaHJvbml6YXRpb25JZCcsIGhvc3Q6ICdwcy1tcGEtMSd9KTtcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgMTAwKSk7XG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChsaXN0ZW5lci5vblBlbmRpbmdPcmRlcnNSZXBsYWNlZCwgJ3ZpbnQtaGlsbDowOnBzLW1wYS0xJywgb3JkZXJzKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGxpc3RlbmVyLm9uUGVuZGluZ09yZGVyc1N5bmNocm9uaXplZCwgJ3ZpbnQtaGlsbDowOnBzLW1wYS0xJywgJ3N5bmNocm9uaXphdGlvbklkJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHN5bmNocm9uaXplIGhpc3Rvcnkgb3JkZXJzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbGV0IGhpc3RvcnlPcmRlcnMgPSBbe1xuICAgICAgICBjbGllbnRJZDogJ1RFX0dCUFVTRF83aHlJTldxQWxFJyxcbiAgICAgICAgY3VycmVudFByaWNlOiAxLjI2MSxcbiAgICAgICAgY3VycmVudFZvbHVtZTogMCxcbiAgICAgICAgZG9uZVRpbWU6IG5ldyBEYXRlKCcyMDIwLTA0LTE1VDAyOjQ1OjA2LjUyMVonKSxcbiAgICAgICAgaWQ6ICc0NjIxNDY5MicsXG4gICAgICAgIG1hZ2ljOiAxMDAwLFxuICAgICAgICBwbGF0Zm9ybTogJ210NScsXG4gICAgICAgIHBvc2l0aW9uSWQ6ICc0NjIxNDY5MicsXG4gICAgICAgIHN0YXRlOiAnT1JERVJfU1RBVEVfRklMTEVEJyxcbiAgICAgICAgc3ltYm9sOiAnR0JQVVNEJyxcbiAgICAgICAgdGltZTogbmV3IERhdGUoJzIwMjAtMDQtMTVUMDI6NDU6MDYuMjYwWicpLFxuICAgICAgICB0eXBlOiAnT1JERVJfVFlQRV9CVVknLFxuICAgICAgICB2b2x1bWU6IDAuMDdcbiAgICAgIH1dO1xuICAgICAgbGV0IGxpc3RlbmVyID0ge1xuICAgICAgICBvbkhpc3RvcnlPcmRlckFkZGVkOiAoKSA9PiB7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBzYW5kYm94LnN0dWIobGlzdGVuZXIsICdvbkhpc3RvcnlPcmRlckFkZGVkJykucmVzb2x2ZXMoKTtcbiAgICAgIGNsaWVudC5hZGRTeW5jaHJvbml6YXRpb25MaXN0ZW5lcignYWNjb3VudElkJywgbGlzdGVuZXIpO1xuICAgICAgc2VydmVyLmVtaXQoJ3N5bmNocm9uaXphdGlvbicsIHt0eXBlOiAnaGlzdG9yeU9yZGVycycsIGFjY291bnRJZDogJ2FjY291bnRJZCcsIGhpc3RvcnlPcmRlcnMsXG4gICAgICAgIGluc3RhbmNlSW5kZXg6IDAsIGhvc3Q6ICdwcy1tcGEtMSd9KTtcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgNTApKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGxpc3RlbmVyLm9uSGlzdG9yeU9yZGVyQWRkZWQsICd2aW50LWhpbGw6MDpwcy1tcGEtMScsIGhpc3RvcnlPcmRlcnNbMF0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzeW5jaHJvbml6ZSBkZWFscycsIGFzeW5jICgpID0+IHtcbiAgICAgIGxldCBkZWFscyA9IFt7XG4gICAgICAgIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnLFxuICAgICAgICBjb21taXNzaW9uOiAtMC4yNSxcbiAgICAgICAgZW50cnlUeXBlOiAnREVBTF9FTlRSWV9JTicsXG4gICAgICAgIGlkOiAnMzMyMzAwOTknLFxuICAgICAgICBtYWdpYzogMTAwMCxcbiAgICAgICAgcGxhdGZvcm06ICdtdDUnLFxuICAgICAgICBvcmRlcklkOiAnNDYyMTQ2OTInLFxuICAgICAgICBwb3NpdGlvbklkOiAnNDYyMTQ2OTInLFxuICAgICAgICBwcmljZTogMS4yNjEwMSxcbiAgICAgICAgcHJvZml0OiAwLFxuICAgICAgICBzd2FwOiAwLFxuICAgICAgICBzeW1ib2w6ICdHQlBVU0QnLFxuICAgICAgICB0aW1lOiBuZXcgRGF0ZSgnMjAyMC0wNC0xNVQwMjo0NTowNi41MjFaJyksXG4gICAgICAgIHR5cGU6ICdERUFMX1RZUEVfQlVZJyxcbiAgICAgICAgdm9sdW1lOiAwLjA3XG4gICAgICB9XTtcbiAgICAgIGxldCBsaXN0ZW5lciA9IHtcbiAgICAgICAgb25EZWFsQWRkZWQ6ICgpID0+IHtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHNhbmRib3guc3R1YihsaXN0ZW5lciwgJ29uRGVhbEFkZGVkJykucmVzb2x2ZXMoKTtcbiAgICAgIGNsaWVudC5hZGRTeW5jaHJvbml6YXRpb25MaXN0ZW5lcignYWNjb3VudElkJywgbGlzdGVuZXIpO1xuICAgICAgc2VydmVyLmVtaXQoJ3N5bmNocm9uaXphdGlvbicsIHt0eXBlOiAnZGVhbHMnLCBhY2NvdW50SWQ6ICdhY2NvdW50SWQnLCBkZWFscywgaW5zdGFuY2VJbmRleDogMCxcbiAgICAgICAgaG9zdDogJ3BzLW1wYS0xJ30pO1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCA1MCkpO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgobGlzdGVuZXIub25EZWFsQWRkZWQsICd2aW50LWhpbGw6MDpwcy1tcGEtMScsIGRlYWxzWzBdKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcHJvY2VzcyBzeW5jaHJvbml6YXRpb24gdXBkYXRlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGxldCB1cGRhdGUgPSB7XG4gICAgICAgIGFjY291bnRJbmZvcm1hdGlvbjoge1xuICAgICAgICAgIGJyb2tlcjogJ1RydWUgRUNOIFRyYWRpbmcgTHRkJyxcbiAgICAgICAgICBjdXJyZW5jeTogJ1VTRCcsXG4gICAgICAgICAgc2VydmVyOiAnSUNNYXJrZXRzU0MtRGVtbycsXG4gICAgICAgICAgYmFsYW5jZTogNzMxOS45LFxuICAgICAgICAgIGVxdWl0eTogNzMwNi42NDk5MTMyMDAwMDEsXG4gICAgICAgICAgbWFyZ2luOiAxODQuMSxcbiAgICAgICAgICBmcmVlTWFyZ2luOiA3MTIwLjIyLFxuICAgICAgICAgIGxldmVyYWdlOiAxMDAsXG4gICAgICAgICAgbWFyZ2luTGV2ZWw6IDM5NjcuNTgyODM1NDJcbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlZFBvc2l0aW9uczogW3tcbiAgICAgICAgICBpZDogJzQ2MjE0NjkyJyxcbiAgICAgICAgICB0eXBlOiAnUE9TSVRJT05fVFlQRV9CVVknLFxuICAgICAgICAgIHN5bWJvbDogJ0dCUFVTRCcsXG4gICAgICAgICAgbWFnaWM6IDEwMDAsXG4gICAgICAgICAgdGltZTogbmV3IERhdGUoJzIwMjAtMDQtMTVUMDI6NDU6MDYuNTIxWicpLFxuICAgICAgICAgIHVwZGF0ZVRpbWU6IG5ldyBEYXRlKCcyMDIwLTA0LTE1VDAyOjQ1OjA2LjUyMVonKSxcbiAgICAgICAgICBvcGVuUHJpY2U6IDEuMjYxMDEsXG4gICAgICAgICAgY3VycmVudFByaWNlOiAxLjI0ODgzLFxuICAgICAgICAgIGN1cnJlbnRUaWNrVmFsdWU6IDEsXG4gICAgICAgICAgdm9sdW1lOiAwLjA3LFxuICAgICAgICAgIHN3YXA6IDAsXG4gICAgICAgICAgcHJvZml0OiAtODUuMjU5OTk5OTk5OTk5NjYsXG4gICAgICAgICAgY29tbWlzc2lvbjogLTAuMjUsXG4gICAgICAgICAgY2xpZW50SWQ6ICdURV9HQlBVU0RfN2h5SU5XcUFsRScsXG4gICAgICAgICAgc3RvcExvc3M6IDEuMTc3MjEsXG4gICAgICAgICAgdW5yZWFsaXplZFByb2ZpdDogLTg1LjI1OTk5OTk5OTk5OTAxLFxuICAgICAgICAgIHJlYWxpemVkUHJvZml0OiAtNi41MzY5OTMxNjg5OTI5MjJlLTEzXG4gICAgICAgIH1dLFxuICAgICAgICByZW1vdmVkUG9zaXRpb25JZHM6IFsnMTIzNCddLFxuICAgICAgICB1cGRhdGVkT3JkZXJzOiBbe1xuICAgICAgICAgIGlkOiAnNDY4NzEyODQnLFxuICAgICAgICAgIHR5cGU6ICdPUkRFUl9UWVBFX0JVWV9MSU1JVCcsXG4gICAgICAgICAgc3RhdGU6ICdPUkRFUl9TVEFURV9QTEFDRUQnLFxuICAgICAgICAgIHN5bWJvbDogJ0FVRE5aRCcsXG4gICAgICAgICAgbWFnaWM6IDEyMzQ1NixcbiAgICAgICAgICBwbGF0Zm9ybTogJ210NScsXG4gICAgICAgICAgdGltZTogbmV3IERhdGUoJzIwMjAtMDQtMjBUMDg6Mzg6NTguMjcwWicpLFxuICAgICAgICAgIG9wZW5QcmljZTogMS4wMyxcbiAgICAgICAgICBjdXJyZW50UHJpY2U6IDEuMDUyMDYsXG4gICAgICAgICAgdm9sdW1lOiAwLjAxLFxuICAgICAgICAgIGN1cnJlbnRWb2x1bWU6IDAuMDEsXG4gICAgICAgICAgY29tbWVudDogJ0NPTU1FTlQyJ1xuICAgICAgICB9XSxcbiAgICAgICAgY29tcGxldGVkT3JkZXJJZHM6IFsnMjM0NSddLFxuICAgICAgICBoaXN0b3J5T3JkZXJzOiBbe1xuICAgICAgICAgIGNsaWVudElkOiAnVEVfR0JQVVNEXzdoeUlOV3FBbEUnLFxuICAgICAgICAgIGN1cnJlbnRQcmljZTogMS4yNjEsXG4gICAgICAgICAgY3VycmVudFZvbHVtZTogMCxcbiAgICAgICAgICBkb25lVGltZTogbmV3IERhdGUoJzIwMjAtMDQtMTVUMDI6NDU6MDYuNTIxWicpLFxuICAgICAgICAgIGlkOiAnNDYyMTQ2OTInLFxuICAgICAgICAgIG1hZ2ljOiAxMDAwLFxuICAgICAgICAgIHBsYXRmb3JtOiAnbXQ1JyxcbiAgICAgICAgICBwb3NpdGlvbklkOiAnNDYyMTQ2OTInLFxuICAgICAgICAgIHN0YXRlOiAnT1JERVJfU1RBVEVfRklMTEVEJyxcbiAgICAgICAgICBzeW1ib2w6ICdHQlBVU0QnLFxuICAgICAgICAgIHRpbWU6IG5ldyBEYXRlKCcyMDIwLTA0LTE1VDAyOjQ1OjA2LjI2MFonKSxcbiAgICAgICAgICB0eXBlOiAnT1JERVJfVFlQRV9CVVknLFxuICAgICAgICAgIHZvbHVtZTogMC4wN1xuICAgICAgICB9XSxcbiAgICAgICAgZGVhbHM6IFt7XG4gICAgICAgICAgY2xpZW50SWQ6ICdURV9HQlBVU0RfN2h5SU5XcUFsRScsXG4gICAgICAgICAgY29tbWlzc2lvbjogLTAuMjUsXG4gICAgICAgICAgZW50cnlUeXBlOiAnREVBTF9FTlRSWV9JTicsXG4gICAgICAgICAgaWQ6ICczMzIzMDA5OScsXG4gICAgICAgICAgbWFnaWM6IDEwMDAsXG4gICAgICAgICAgcGxhdGZvcm06ICdtdDUnLFxuICAgICAgICAgIG9yZGVySWQ6ICc0NjIxNDY5MicsXG4gICAgICAgICAgcG9zaXRpb25JZDogJzQ2MjE0NjkyJyxcbiAgICAgICAgICBwcmljZTogMS4yNjEwMSxcbiAgICAgICAgICBwcm9maXQ6IDAsXG4gICAgICAgICAgc3dhcDogMCxcbiAgICAgICAgICBzeW1ib2w6ICdHQlBVU0QnLFxuICAgICAgICAgIHRpbWU6IG5ldyBEYXRlKCcyMDIwLTA0LTE1VDAyOjQ1OjA2LjUyMVonKSxcbiAgICAgICAgICB0eXBlOiAnREVBTF9UWVBFX0JVWScsXG4gICAgICAgICAgdm9sdW1lOiAwLjA3XG4gICAgICAgIH1dXG4gICAgICB9O1xuICAgICAgbGV0IGxpc3RlbmVyID0ge1xuICAgICAgICBvbkFjY291bnRJbmZvcm1hdGlvblVwZGF0ZWQ6ICgpID0+IHt9LFxuICAgICAgICBvblBvc2l0aW9uVXBkYXRlZDogKCkgPT4ge30sXG4gICAgICAgIG9uUG9zaXRpb25SZW1vdmVkOiAoKSA9PiB7fSxcbiAgICAgICAgb25QZW5kaW5nT3JkZXJVcGRhdGVkOiAoKSA9PiB7fSxcbiAgICAgICAgb25QZW5kaW5nT3JkZXJDb21wbGV0ZWQ6ICgpID0+IHt9LFxuICAgICAgICBvbkhpc3RvcnlPcmRlckFkZGVkOiAoKSA9PiB7fSxcbiAgICAgICAgb25EZWFsQWRkZWQ6ICgpID0+IHt9XG4gICAgICB9O1xuICAgICAgc2FuZGJveC5zdHViKGxpc3RlbmVyLCAnb25BY2NvdW50SW5mb3JtYXRpb25VcGRhdGVkJykucmVzb2x2ZXMoKTtcbiAgICAgIHNhbmRib3guc3R1YihsaXN0ZW5lciwgJ29uUG9zaXRpb25VcGRhdGVkJykucmVzb2x2ZXMoKTtcbiAgICAgIHNhbmRib3guc3R1YihsaXN0ZW5lciwgJ29uUG9zaXRpb25SZW1vdmVkJykucmVzb2x2ZXMoKTtcbiAgICAgIHNhbmRib3guc3R1YihsaXN0ZW5lciwgJ29uUGVuZGluZ09yZGVyVXBkYXRlZCcpLnJlc29sdmVzKCk7XG4gICAgICBzYW5kYm94LnN0dWIobGlzdGVuZXIsICdvblBlbmRpbmdPcmRlckNvbXBsZXRlZCcpLnJlc29sdmVzKCk7XG4gICAgICBzYW5kYm94LnN0dWIobGlzdGVuZXIsICdvbkhpc3RvcnlPcmRlckFkZGVkJykucmVzb2x2ZXMoKTtcbiAgICAgIHNhbmRib3guc3R1YihsaXN0ZW5lciwgJ29uRGVhbEFkZGVkJykucmVzb2x2ZXMoKTtcbiAgICAgIGNsaWVudC5hZGRTeW5jaHJvbml6YXRpb25MaXN0ZW5lcignYWNjb3VudElkJywgbGlzdGVuZXIpO1xuICAgICAgc2VydmVyLmVtaXQoJ3N5bmNocm9uaXphdGlvbicsIE9iamVjdC5hc3NpZ24oe3R5cGU6ICd1cGRhdGUnLCBhY2NvdW50SWQ6ICdhY2NvdW50SWQnLCBpbnN0YW5jZUluZGV4OiAwLFxuICAgICAgICBob3N0OiAncHMtbXBhLTEnfSwgdXBkYXRlKSk7XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIDEwMCkpO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgobGlzdGVuZXIub25BY2NvdW50SW5mb3JtYXRpb25VcGRhdGVkLCAndmludC1oaWxsOjA6cHMtbXBhLTEnLCB1cGRhdGUuYWNjb3VudEluZm9ybWF0aW9uKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGxpc3RlbmVyLm9uUG9zaXRpb25VcGRhdGVkLCAndmludC1oaWxsOjA6cHMtbXBhLTEnLCB1cGRhdGUudXBkYXRlZFBvc2l0aW9uc1swXSk7XG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChsaXN0ZW5lci5vblBvc2l0aW9uUmVtb3ZlZCwgJ3ZpbnQtaGlsbDowOnBzLW1wYS0xJywgdXBkYXRlLnJlbW92ZWRQb3NpdGlvbklkc1swXSk7XG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChsaXN0ZW5lci5vblBlbmRpbmdPcmRlclVwZGF0ZWQsICd2aW50LWhpbGw6MDpwcy1tcGEtMScsIHVwZGF0ZS51cGRhdGVkT3JkZXJzWzBdKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGxpc3RlbmVyLm9uUGVuZGluZ09yZGVyQ29tcGxldGVkLCAndmludC1oaWxsOjA6cHMtbXBhLTEnLCB1cGRhdGUuY29tcGxldGVkT3JkZXJJZHNbMF0pO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgobGlzdGVuZXIub25IaXN0b3J5T3JkZXJBZGRlZCwgJ3ZpbnQtaGlsbDowOnBzLW1wYS0xJywgdXBkYXRlLmhpc3RvcnlPcmRlcnNbMF0pO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgobGlzdGVuZXIub25EZWFsQWRkZWQsICd2aW50LWhpbGw6MDpwcy1tcGEtMScsIHVwZGF0ZS5kZWFsc1swXSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAdGVzdCB7TWV0YUFwaVdlYnNvY2tldENsaWVudCNnZXRTZXJ2ZXJUaW1lfVxuICAgICAqL1xuICAgIGl0KCdzaG91bGQgcmV0cmlldmUgc2VydmVyIHRpbWUgZnJvbSBBUEknLCBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgc2VydmVyVGltZSA9IHtcbiAgICAgICAgdGltZTogbmV3IERhdGUoJzIwMjItMDEtMDFUMDA6MDA6MDAuMDAwWicpLFxuICAgICAgICBicm9rZXJUaW1lOiAnMjAyMi0wMS0wMSAwMjowMDowMC4wMDBaJ1xuICAgICAgfTtcbiAgICAgIHNlcnZlci5vbigncmVxdWVzdCcsIGRhdGEgPT4ge1xuICAgICAgICBpZiAoZGF0YS50eXBlID09PSAnZ2V0U2VydmVyVGltZScgJiYgZGF0YS5hY2NvdW50SWQgPT09ICdhY2NvdW50SWQnICYmXG4gICAgICAgICAgZGF0YS5hcHBsaWNhdGlvbiA9PT0gJ1JQQycpIHtcbiAgICAgICAgICBzZXJ2ZXIuZW1pdCgncmVzcG9uc2UnLCB7XG4gICAgICAgICAgICB0eXBlOiAncmVzcG9uc2UnLCBhY2NvdW50SWQ6IGRhdGEuYWNjb3VudElkLCByZXF1ZXN0SWQ6IGRhdGEucmVxdWVzdElkLFxuICAgICAgICAgICAgc2VydmVyVGltZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGxldCBhY3R1YWwgPSBhd2FpdCBjbGllbnQuZ2V0U2VydmVyVGltZSgnYWNjb3VudElkJyk7XG4gICAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKHNlcnZlclRpbWUpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHRlc3Qge01ldGFBcGlXZWJzb2NrZXRDbGllbnQjY2FsY3VsYXRlTWFyZ2lufVxuICAgICAqL1xuICAgIGl0KCdzaG91bGQgY2FsY3VsYXRlIG1hcmdpbicsIGFzeW5jICgpID0+IHtcbiAgICAgIGxldCBtYXJnaW4gPSB7XG4gICAgICAgIG1hcmdpbjogMTEwXG4gICAgICB9O1xuICAgICAgbGV0IG9yZGVyID0ge1xuICAgICAgICBzeW1ib2w6ICdFVVJVU0QnLFxuICAgICAgICB0eXBlOiAnT1JERVJfVFlQRV9CVVknLFxuICAgICAgICB2b2x1bWU6IDAuMSxcbiAgICAgICAgb3BlblByaWNlOiAxLjFcbiAgICAgIH07XG4gICAgICBzZXJ2ZXIub24oJ3JlcXVlc3QnLCBkYXRhID0+IHtcbiAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ2NhbGN1bGF0ZU1hcmdpbicgJiYgZGF0YS5hY2NvdW50SWQgPT09ICdhY2NvdW50SWQnICYmXG4gICAgICAgICAgZGF0YS5hcHBsaWNhdGlvbiA9PT0gJ01ldGFBcGknICYmIEpTT04uc3RyaW5naWZ5KGRhdGEub3JkZXIpID09PSBKU09OLnN0cmluZ2lmeShvcmRlcikpIHtcbiAgICAgICAgICBzZXJ2ZXIuZW1pdCgncmVzcG9uc2UnLCB7XG4gICAgICAgICAgICB0eXBlOiAncmVzcG9uc2UnLCBhY2NvdW50SWQ6IGRhdGEuYWNjb3VudElkLCByZXF1ZXN0SWQ6IGRhdGEucmVxdWVzdElkLFxuICAgICAgICAgICAgbWFyZ2luXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgbGV0IGFjdHVhbCA9IGF3YWl0IGNsaWVudC5jYWxjdWxhdGVNYXJnaW4oJ2FjY291bnRJZCcsICdNZXRhQXBpJywgJ2hpZ2gnLCBvcmRlcik7XG4gICAgICBhY3R1YWwuc2hvdWxkLm1hdGNoKG1hcmdpbik7XG4gICAgfSk7XG5cbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ21hcmtldCBkYXRhIHN5bmNocm9uaXphdGlvbicsICgpID0+IHtcblxuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgc2FuZGJveC5zdHViKGNsaWVudC5fc3Vic2NyaXB0aW9uTWFuYWdlciwgJ2lzU3Vic2NyaXB0aW9uQWN0aXZlJykucmV0dXJucyh0cnVlKTtcbiAgICB9KTtcblxuICAgIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgICBjbGllbnQucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAdGVzdCB7TWV0YUFwaVdlYnNvY2tldENsaWVudCNycGNSZXF1ZXN0fVxuICAgICAqL1xuICAgIGl0KCdzaG91bGQgcmV0cnkgcmVxdWVzdCBvbiBmYWlsdXJlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbGV0IHJlcXVlc3RDb3VudGVyID0gMDtcbiAgICAgIGxldCBvcmRlciA9IHtcbiAgICAgICAgaWQ6ICc0Njg3MTI4NCcsXG4gICAgICAgIHR5cGU6ICdPUkRFUl9UWVBFX0JVWV9MSU1JVCcsXG4gICAgICAgIHN0YXRlOiAnT1JERVJfU1RBVEVfUExBQ0VEJyxcbiAgICAgICAgc3ltYm9sOiAnQVVETlpEJyxcbiAgICAgICAgbWFnaWM6IDEyMzQ1NixcbiAgICAgICAgcGxhdGZvcm06ICdtdDUnLFxuICAgICAgICB0aW1lOiBuZXcgRGF0ZSgnMjAyMC0wNC0yMFQwODozODo1OC4yNzBaJyksXG4gICAgICAgIG9wZW5QcmljZTogMS4wMyxcbiAgICAgICAgY3VycmVudFByaWNlOiAxLjA1MjA2LFxuICAgICAgICB2b2x1bWU6IDAuMDEsXG4gICAgICAgIGN1cnJlbnRWb2x1bWU6IDAuMDEsXG4gICAgICAgIGNvbW1lbnQ6ICdDT01NRU5UMidcbiAgICAgIH07XG4gICAgICBzZXJ2ZXIub24oJ3JlcXVlc3QnLCBkYXRhID0+IHtcbiAgICAgICAgaWYgKHJlcXVlc3RDb3VudGVyID4gMSAmJiBkYXRhLnR5cGUgPT09ICdnZXRPcmRlcicgJiYgZGF0YS5hY2NvdW50SWQgPT09ICdhY2NvdW50SWQnICYmXG4gICAgICAgICAgZGF0YS5vcmRlcklkID09PSAnNDY4NzEyODQnICYmIGRhdGEuYXBwbGljYXRpb24gPT09ICdSUEMnKSB7XG4gICAgICAgICAgc2VydmVyLmVtaXQoJ3Jlc3BvbnNlJywge3R5cGU6ICdyZXNwb25zZScsIGFjY291bnRJZDogZGF0YS5hY2NvdW50SWQsIHJlcXVlc3RJZDogZGF0YS5yZXF1ZXN0SWQsIG9yZGVyfSk7XG4gICAgICAgIH0gXG4gICAgICAgIHJlcXVlc3RDb3VudGVyKys7XG4gICAgICB9KTtcbiAgICAgIGxldCBhY3R1YWwgPSBhd2FpdCBjbGllbnQuZ2V0T3JkZXIoJ2FjY291bnRJZCcsICc0Njg3MTI4NCcpO1xuICAgICAgYWN0dWFsLnNob3VsZC5tYXRjaChvcmRlcik7XG4gICAgfSkudGltZW91dCgyMDAwMCk7XG5cbiAgICAvKipcbiAgICAgKiBAdGVzdCB7TWV0YUFwaVdlYnNvY2tldENsaWVudCNycGNSZXF1ZXN0fVxuICAgICAqL1xuICAgIGl0KCdzaG91bGQgd2FpdCBzcGVjaWZpZWQgYW1vdW50IG9mIHRpbWUgb24gdG9vIG1hbnkgcmVxdWVzdHMgZXJyb3InLCBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgcmVxdWVzdENvdW50ZXIgPSAwO1xuICAgICAgbGV0IG9yZGVyID0ge1xuICAgICAgICBpZDogJzQ2ODcxMjg0JyxcbiAgICAgICAgdHlwZTogJ09SREVSX1RZUEVfQlVZX0xJTUlUJyxcbiAgICAgICAgc3RhdGU6ICdPUkRFUl9TVEFURV9QTEFDRUQnLFxuICAgICAgICBzeW1ib2w6ICdBVUROWkQnLFxuICAgICAgICBtYWdpYzogMTIzNDU2LFxuICAgICAgICBwbGF0Zm9ybTogJ210NScsXG4gICAgICAgIHRpbWU6IG5ldyBEYXRlKCcyMDIwLTA0LTIwVDA4OjM4OjU4LjI3MFonKSxcbiAgICAgICAgb3BlblByaWNlOiAxLjAzLFxuICAgICAgICBjdXJyZW50UHJpY2U6IDEuMDUyMDYsXG4gICAgICAgIHZvbHVtZTogMC4wMSxcbiAgICAgICAgY3VycmVudFZvbHVtZTogMC4wMSxcbiAgICAgICAgY29tbWVudDogJ0NPTU1FTlQyJ1xuICAgICAgfTtcbiAgICAgIHNlcnZlci5vbigncmVxdWVzdCcsIGRhdGEgPT4ge1xuICAgICAgICBpZiAocmVxdWVzdENvdW50ZXIgPiAwICYmIGRhdGEudHlwZSA9PT0gJ2dldE9yZGVyJyAmJiBkYXRhLmFjY291bnRJZCA9PT0gJ2FjY291bnRJZCcgJiZcbiAgICAgICAgICBkYXRhLm9yZGVySWQgPT09ICc0Njg3MTI4NCcgJiYgZGF0YS5hcHBsaWNhdGlvbiA9PT0gJ1JQQycpIHtcbiAgICAgICAgICBzZXJ2ZXIuZW1pdCgncmVzcG9uc2UnLCB7dHlwZTogJ3Jlc3BvbnNlJywgYWNjb3VudElkOiBkYXRhLmFjY291bnRJZCwgcmVxdWVzdElkOiBkYXRhLnJlcXVlc3RJZCwgb3JkZXJ9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXJ2ZXIuZW1pdCgncHJvY2Vzc2luZ0Vycm9yJywge1xuICAgICAgICAgICAgaWQ6IDEsIGVycm9yOiAnVG9vTWFueVJlcXVlc3RzRXJyb3InLCByZXF1ZXN0SWQ6IGRhdGEucmVxdWVzdElkLFxuICAgICAgICAgICAgbWVzc2FnZTogJ1RoZSBBUEkgYWxsb3dzIDEwMDAwIHJlcXVlc3RzIHBlciA2MCBtaW51dGVzIHRvIGF2b2lkIG92ZXJsb2FkaW5nIG91ciBzZXJ2ZXJzLicsXG4gICAgICAgICAgICBzdGF0dXNfY29kZTogNDI5LCBtZXRhZGF0YToge1xuICAgICAgICAgICAgICBwZXJpb2RJbk1pbnV0ZXM6IDYwLCBtYXhSZXF1ZXN0c0ZvclBlcmlvZDogMTAwMDAsIFxuICAgICAgICAgICAgICByZWNvbW1lbmRlZFJldHJ5VGltZTogbmV3IERhdGUoRGF0ZS5ub3coKSArIDEwMDApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmVxdWVzdENvdW50ZXIrKztcbiAgICAgIH0pO1xuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgIGxldCBhY3R1YWwgPSBhd2FpdCBjbGllbnQuZ2V0T3JkZXIoJ2FjY291bnRJZCcsICc0Njg3MTI4NCcpO1xuICAgICAgYWN0dWFsLnNob3VsZC5tYXRjaChvcmRlcik7XG4gICAgICAoRGF0ZS5ub3coKSAtIHN0YXJ0VGltZSkuc2hvdWxkLmJlLmFwcHJveGltYXRlbHkoMTAwMCwgMTAwKTtcbiAgICB9KS50aW1lb3V0KDEwMDAwKTtcblxuICAgIC8qKlxuICAgICAqIEB0ZXN0IHtNZXRhQXBpV2Vic29ja2V0Q2xpZW50I3JwY1JlcXVlc3R9XG4gICAgICovXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gdG9vIG1hbnkgcmVxdWVzdHMgZXhjZXB0aW9uIGlmIHJlY29tbWVuZGVkIHRpbWUgaXMgYmV5b25kIG1heCByZXF1ZXN0IHRpbWUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgcmVxdWVzdENvdW50ZXIgPSAwO1xuICAgICAgbGV0IG9yZGVyID0ge1xuICAgICAgICBpZDogJzQ2ODcxMjg0JyxcbiAgICAgICAgdHlwZTogJ09SREVSX1RZUEVfQlVZX0xJTUlUJyxcbiAgICAgICAgc3RhdGU6ICdPUkRFUl9TVEFURV9QTEFDRUQnLFxuICAgICAgICBzeW1ib2w6ICdBVUROWkQnLFxuICAgICAgICBtYWdpYzogMTIzNDU2LFxuICAgICAgICBwbGF0Zm9ybTogJ210NScsXG4gICAgICAgIHRpbWU6IG5ldyBEYXRlKCcyMDIwLTA0LTIwVDA4OjM4OjU4LjI3MFonKSxcbiAgICAgICAgb3BlblByaWNlOiAxLjAzLFxuICAgICAgICBjdXJyZW50UHJpY2U6IDEuMDUyMDYsXG4gICAgICAgIHZvbHVtZTogMC4wMSxcbiAgICAgICAgY3VycmVudFZvbHVtZTogMC4wMSxcbiAgICAgICAgY29tbWVudDogJ0NPTU1FTlQyJ1xuICAgICAgfTtcbiAgICAgIHNlcnZlci5vbigncmVxdWVzdCcsIGRhdGEgPT4ge1xuICAgICAgICBpZiAocmVxdWVzdENvdW50ZXIgPiAwICYmIGRhdGEudHlwZSA9PT0gJ2dldE9yZGVyJyAmJiBkYXRhLmFjY291bnRJZCA9PT0gJ2FjY291bnRJZCcgJiZcbiAgICAgICAgICAgICAgZGF0YS5vcmRlcklkID09PSAnNDY4NzEyODQnICYmIGRhdGEuYXBwbGljYXRpb24gPT09ICdSUEMnKSB7XG4gICAgICAgICAgc2VydmVyLmVtaXQoJ3Jlc3BvbnNlJywge3R5cGU6ICdyZXNwb25zZScsIGFjY291bnRJZDogZGF0YS5hY2NvdW50SWQsIHJlcXVlc3RJZDogZGF0YS5yZXF1ZXN0SWQsIG9yZGVyfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VydmVyLmVtaXQoJ3Byb2Nlc3NpbmdFcnJvcicsIHtcbiAgICAgICAgICAgIGlkOiAxLCBlcnJvcjogJ1Rvb01hbnlSZXF1ZXN0c0Vycm9yJywgcmVxdWVzdElkOiBkYXRhLnJlcXVlc3RJZCxcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdUaGUgQVBJIGFsbG93cyAxMDAwMCByZXF1ZXN0cyBwZXIgNjAgbWludXRlcyB0byBhdm9pZCBvdmVybG9hZGluZyBvdXIgc2VydmVycy4nLFxuICAgICAgICAgICAgc3RhdHVzX2NvZGU6IDQyOSwgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgICAgcGVyaW9kSW5NaW51dGVzOiA2MCwgbWF4UmVxdWVzdHNGb3JQZXJpb2Q6IDEwMDAwLCBcbiAgICAgICAgICAgICAgcmVjb21tZW5kZWRSZXRyeVRpbWU6IG5ldyBEYXRlKERhdGUubm93KCkgKyA2MDAwMClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXF1ZXN0Q291bnRlcisrO1xuICAgICAgfSk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGNsaWVudC5nZXRPcmRlcignYWNjb3VudElkJywgJzQ2ODcxMjg0Jyk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVG9vTWFueVJlcXVlc3RzRXJyb3IgZXhwZWN0ZWQnKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBlcnIubmFtZS5zaG91bGQuZXF1YWwoJ1Rvb01hbnlSZXF1ZXN0c0Vycm9yJyk7XG4gICAgICB9XG4gICAgfSkudGltZW91dCgxMDAwMCk7ICAgIFxuXG4gICAgLyoqXG4gICAgICogQHRlc3Qge01ldGFBcGlXZWJzb2NrZXRDbGllbnQjcnBjUmVxdWVzdH1cbiAgICAgKi9cbiAgICBpdCgnc2hvdWxkIG5vdCByZXRyeSByZXF1ZXN0IG9uIHZhbGlkYXRpb24gZXJyb3InLCBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgcmVxdWVzdENvdW50ZXIgPSAwO1xuICAgICAgc2VydmVyLm9uKCdyZXF1ZXN0JywgZGF0YSA9PiB7XG4gICAgICAgIGlmIChyZXF1ZXN0Q291bnRlciA+IDAgJiYgZGF0YS50eXBlID09PSAnc3Vic2NyaWJlVG9NYXJrZXREYXRhJyAmJiBkYXRhLmFjY291bnRJZCA9PT0gJ2FjY291bnRJZCcgJiZcbiAgICAgICAgICBkYXRhLnN5bWJvbCA9PT0gJ0VVUlVTRCcgJiYgZGF0YS5hcHBsaWNhdGlvbiA9PT0gJ2FwcGxpY2F0aW9uJyAmJiBkYXRhLmluc3RhbmNlSW5kZXggPT09IDApIHtcbiAgICAgICAgICBzZXJ2ZXIuZW1pdCgncmVzcG9uc2UnLCB7dHlwZTogJ3Jlc3BvbnNlJywgYWNjb3VudElkOiBkYXRhLmFjY291bnRJZCwgcmVxdWVzdElkOiBkYXRhLnJlcXVlc3RJZH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlcnZlci5lbWl0KCdwcm9jZXNzaW5nRXJyb3InLCB7XG4gICAgICAgICAgICBpZDogMSwgZXJyb3I6ICdWYWxpZGF0aW9uRXJyb3InLCBtZXNzYWdlOiAnRXJyb3IgbWVzc2FnZScsIHJlcXVlc3RJZDogZGF0YS5yZXF1ZXN0SWRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXF1ZXN0Q291bnRlciArKztcbiAgICAgIH0pO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgY2xpZW50LnN1YnNjcmliZVRvTWFya2V0RGF0YSgnYWNjb3VudElkJywgJ0VVUlVTRCcsICdyZWd1bGFyJyk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVmFsaWRhdGlvbkVycm9yIGV4cGVjdGVkJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgZXJyLm5hbWUuc2hvdWxkLmVxdWFsKCdWYWxpZGF0aW9uRXJyb3InKTtcbiAgICAgIH1cbiAgICAgIHNpbm9uLmFzc2VydC5tYXRjaChyZXF1ZXN0Q291bnRlciwgMSk7XG4gICAgfSkudGltZW91dCg2MDAwKTtcbiAgICBcbiAgICAvKipcbiAgICAgKiBAdGVzdCB7TWV0YUFwaVdlYnNvY2tldENsaWVudCNycGNSZXF1ZXN0fVxuICAgICAqL1xuICAgIGl0KCdzaG91bGQgbm90IHJldHJ5IHRyYWRlIHJlcXVlc3RzIG9uIGZhaWwnLCBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgcmVxdWVzdENvdW50ZXIgPSAwO1xuICAgICAgbGV0IHRyYWRlID0ge1xuICAgICAgICBhY3Rpb25UeXBlOiAnT1JERVJfVFlQRV9TRUxMJyxcbiAgICAgICAgc3ltYm9sOiAnQVVETlpEJyxcbiAgICAgICAgdm9sdW1lOiAwLjA3XG4gICAgICB9O1xuICAgICAgc2VydmVyLm9uKCdyZXF1ZXN0JywgZGF0YSA9PiB7XG4gICAgICAgIGlmIChkYXRhLnR5cGUgPT09ICd0cmFkZScgJiYgZGF0YS5hY2NvdW50SWQgPT09ICdhY2NvdW50SWQnICYmIGRhdGEuYXBwbGljYXRpb24gPT09ICdhcHBsaWNhdGlvbicpIHtcbiAgICAgICAgICBpZihyZXF1ZXN0Q291bnRlciA+IDApIHtcbiAgICAgICAgICAgIHNpbm9uLmFzc2VydC5mYWlsKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlcXVlc3RDb3VudGVyKys7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgY2xpZW50LnRyYWRlKCdhY2NvdW50SWQnLCB0cmFkZSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGltZW91dEVycm9yIGV4cGVjdGVkJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgZXJyLm5hbWUuc2hvdWxkLmVxdWFsKCdUaW1lb3V0RXJyb3InKTtcbiAgICAgIH1cbiAgICB9KS50aW1lb3V0KDYwMDApO1xuXG4gICAgLyoqXG4gICAgICogQHRlc3Qge01ldGFBcGlXZWJzb2NrZXRDbGllbnQjcnBjUmVxdWVzdH1cbiAgICAgKi9cbiAgICBpdCgnc2hvdWxkIG5vdCByZXRyeSByZXF1ZXN0IGlmIGNvbm5lY3Rpb24gY2xvc2VkIGJldHdlZW4gcmV0cmllcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGxldCByZXF1ZXN0Q291bnRlciA9IDA7XG4gICAgICBsZXQgcmVzcG9uc2UgPSB7dHlwZTogJ3Jlc3BvbnNlJywgYWNjb3VudElkOiAnYWNjb3VudElkJ307XG4gICAgICBzZXJ2ZXIub24oJ3JlcXVlc3QnLCBhc3luYyBkYXRhID0+IHtcbiAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ3Vuc3Vic2NyaWJlJyAmJiBkYXRhLmFjY291bnRJZCA9PT0gJ2FjY291bnRJZCcpIHtcbiAgICAgICAgICBzZXJ2ZXIuZW1pdCgncmVzcG9uc2UnLCBPYmplY3QuYXNzaWduKHtyZXF1ZXN0SWQ6IGRhdGEucmVxdWVzdElkfSwgcmVzcG9uc2UpKTtcbiAgICAgICAgfVxuICBcbiAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ2dldE9yZGVycycgJiYgZGF0YS5hY2NvdW50SWQgPT09ICdhY2NvdW50SWQnICYmIGRhdGEuYXBwbGljYXRpb24gPT09ICdSUEMnKSB7XG4gICAgICAgICAgcmVxdWVzdENvdW50ZXIrKztcbiAgICAgICAgICBzZXJ2ZXIuZW1pdCgncHJvY2Vzc2luZ0Vycm9yJywge1xuICAgICAgICAgICAgaWQ6IDEsIGVycm9yOiAnTm90U3luY2hyb25pemVkRXJyb3InLCBtZXNzYWdlOiAnRXJyb3IgbWVzc2FnZScsXG4gICAgICAgICAgICByZXF1ZXN0SWQ6IGRhdGEucmVxdWVzdElkXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY2xpZW50LnVuc3Vic2NyaWJlKCdhY2NvdW50SWQnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGNsaWVudC5nZXRPcmRlcnMoJ2FjY291bnRJZCcpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdFN5bmNocm9uaXplZEVycm9yIGV4cGVjdGVkJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgZXJyLm5hbWUuc2hvdWxkLmVxdWFsKCdOb3RTeW5jaHJvbml6ZWRFcnJvcicpO1xuICAgICAgfVxuICAgICAgcmVxdWVzdENvdW50ZXIuc2hvdWxkLmVxdWFsKDEpO1xuICAgICAgY2xpZW50LnNvY2tldEluc3RhbmNlc0J5QWNjb3VudHMuc2hvdWxkLm5vdC5oYXZlLnByb3BlcnR5KCdhY2NvdW50SWQnKTtcbiAgICB9KTtcbiAgXG4gICAgLyoqXG4gICAgICogQHRlc3Qge01ldGFBcGlXZWJzb2NrZXRDbGllbnQjcnBjUmVxdWVzdH1cbiAgICAgKi9cbiAgICBpdCgnc2hvdWxkIHJldHVybiB0aW1lb3V0IGVycm9yIGlmIG5vIHNlcnZlciByZXNwb25zZSByZWNlaXZlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGxldCB0cmFkZSA9IHtcbiAgICAgICAgYWN0aW9uVHlwZTogJ09SREVSX1RZUEVfU0VMTCcsXG4gICAgICAgIHN5bWJvbDogJ0FVRE5aRCcsXG4gICAgICAgIHZvbHVtZTogMC4wN1xuICAgICAgfTtcbiAgICAgIHNlcnZlci5vbigncmVxdWVzdCcsIGRhdGEgPT4ge1xuICAgICAgfSk7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBjbGllbnQudHJhZGUoJ2FjY291bnRJZCcsIHRyYWRlKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaW1lb3V0RXJyb3IgZXh0ZWN0ZWQnKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBlcnIubmFtZS5zaG91bGQuZXF1YWwoJ1RpbWVvdXRFcnJvcicpO1xuICAgICAgfVxuICAgIH0pLnRpbWVvdXQoMjAwMDApO1xuXG4gICAgLyoqXG4gICAgICogQHRlc3Qge01ldGFBcGlXZWJzb2NrZXRDbGllbnQjc3Vic2NyaWJlVG9NYXJrZXREYXRhfVxuICAgICAqL1xuICAgIGl0KCdzaG91bGQgc3Vic2NyaWJlIHRvIG1hcmtldCBkYXRhIHdpdGggTWV0YVRyYWRlciB0ZXJtaW5hbCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGxldCByZXF1ZXN0UmVjZWl2ZWQgPSBmYWxzZTtcbiAgICAgIHNlcnZlci5lbWl0KCdzeW5jaHJvbml6YXRpb24nLCB7dHlwZTogJ2F1dGhlbnRpY2F0ZWQnLCBhY2NvdW50SWQ6ICdhY2NvdW50SWQnLCBob3N0OiAncHMtbXBhLTEnLFxuICAgICAgICBpbnN0YW5jZUluZGV4OiAwLCByZXBsaWNhczogMX0pO1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCA1MCkpO1xuICAgICAgc2VydmVyLm9uKCdyZXF1ZXN0JywgZGF0YSA9PiB7XG4gICAgICAgIGlmIChkYXRhLnR5cGUgPT09ICdzdWJzY3JpYmVUb01hcmtldERhdGEnICYmIGRhdGEuYWNjb3VudElkID09PSAnYWNjb3VudElkJyAmJiBkYXRhLnN5bWJvbCA9PT0gJ0VVUlVTRCcgJiZcbiAgICAgICAgICBkYXRhLmFwcGxpY2F0aW9uID09PSAnYXBwbGljYXRpb24nICYmIGRhdGEuaW5zdGFuY2VJbmRleCA9PT0gMCAmJlxuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KGRhdGEuc3Vic2NyaXB0aW9ucykgPT09IEpTT04uc3RyaW5naWZ5KFt7dHlwZTogJ3F1b3Rlcyd9XSkpIHtcbiAgICAgICAgICByZXF1ZXN0UmVjZWl2ZWQgPSB0cnVlO1xuICAgICAgICAgIHNlcnZlci5lbWl0KCdyZXNwb25zZScsIHt0eXBlOiAncmVzcG9uc2UnLCBhY2NvdW50SWQ6IGRhdGEuYWNjb3VudElkLCByZXF1ZXN0SWQ6IGRhdGEucmVxdWVzdElkfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgYXdhaXQgY2xpZW50LnN1YnNjcmliZVRvTWFya2V0RGF0YSgnYWNjb3VudElkJywgJ0VVUlVTRCcsIFt7dHlwZTogJ3F1b3Rlcyd9XSwgJ3JlZ3VsYXInKTtcbiAgICAgIHJlcXVlc3RSZWNlaXZlZC5zaG91bGQuYmUudHJ1ZSgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHRlc3Qge01ldGFBcGlXZWJzb2NrZXRDbGllbnQjc3Vic2NyaWJlVG9NYXJrZXREYXRhfVxuICAgICAqL1xuICAgIGl0KCdzaG91bGQgc3Vic2NyaWJlIHRvIG1hcmtldCBkYXRhIHdpdGggTWV0YVRyYWRlciB0ZXJtaW5hbCBmb3IgaGlnaCByZWxpYWJpbGl0eSBhY2NvdW50JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbGV0IHJlcXVlc3RSZWNlaXZlZCA9IGZhbHNlO1xuICAgICAgbGV0IHJlcXVlc3RSZWNlaXZlZDEgPSBmYWxzZTtcbiAgICAgIHNlcnZlci5vbigncmVxdWVzdCcsIGRhdGEgPT4ge1xuICAgICAgICBpZiAoZGF0YS50eXBlID09PSAnc3Vic2NyaWJlVG9NYXJrZXREYXRhJyAmJiBkYXRhLmFjY291bnRJZCA9PT0gJ2FjY291bnRJZCcgJiYgZGF0YS5zeW1ib2wgPT09ICdFVVJVU0QnICYmXG4gICAgICAgICAgICAgIGRhdGEuYXBwbGljYXRpb24gPT09ICdhcHBsaWNhdGlvbicgJiYgZGF0YS5pbnN0YW5jZUluZGV4ID09PSAwICYmXG4gICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KGRhdGEuc3Vic2NyaXB0aW9ucykgPT09IEpTT04uc3RyaW5naWZ5KFt7dHlwZTogJ3F1b3Rlcyd9XSkpIHtcbiAgICAgICAgICByZXF1ZXN0UmVjZWl2ZWQgPSB0cnVlO1xuICAgICAgICAgIHNlcnZlci5lbWl0KCdyZXNwb25zZScsIHt0eXBlOiAncmVzcG9uc2UnLCBhY2NvdW50SWQ6IGRhdGEuYWNjb3VudElkLCByZXF1ZXN0SWQ6IGRhdGEucmVxdWVzdElkfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgc2VydmVyMS5vbigncmVxdWVzdCcsIGRhdGEgPT4ge1xuICAgICAgICBpZiAoZGF0YS50eXBlID09PSAnc3Vic2NyaWJlVG9NYXJrZXREYXRhJyAmJiBkYXRhLmFjY291bnRJZCA9PT0gJ2FjY291bnRJZCcgJiYgZGF0YS5zeW1ib2wgPT09ICdFVVJVU0QnICYmXG4gICAgICAgICAgICAgIGRhdGEuYXBwbGljYXRpb24gPT09ICdhcHBsaWNhdGlvbicgJiYgZGF0YS5pbnN0YW5jZUluZGV4ID09PSAxICYmXG4gICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KGRhdGEuc3Vic2NyaXB0aW9ucykgPT09IEpTT04uc3RyaW5naWZ5KFt7dHlwZTogJ3F1b3Rlcyd9XSkpIHtcbiAgICAgICAgICByZXF1ZXN0UmVjZWl2ZWQxID0gdHJ1ZTtcbiAgICAgICAgICBzZXJ2ZXIuZW1pdCgncmVzcG9uc2UnLCB7dHlwZTogJ3Jlc3BvbnNlJywgYWNjb3VudElkOiBkYXRhLmFjY291bnRJZCwgcmVxdWVzdElkOiBkYXRhLnJlcXVlc3RJZH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGF3YWl0IGNsaWVudC5zdWJzY3JpYmVUb01hcmtldERhdGEoJ2FjY291bnRJZCcsICdFVVJVU0QnLCBbe3R5cGU6ICdxdW90ZXMnfV0sICdoaWdoJyk7XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIDEwMCkpO1xuICAgICAgcmVxdWVzdFJlY2VpdmVkLnNob3VsZC5iZS50cnVlKCk7XG4gICAgICByZXF1ZXN0UmVjZWl2ZWQxLnNob3VsZC5iZS50cnVlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAdGVzdCB7TWV0YUFwaVdlYnNvY2tldENsaWVudCNyZWZyZXNoTWFya2V0RGF0YVN1YnNjcmlwdGlvbnN9XG4gICAgICovXG4gICAgaXQoJ3Nob3VsZCByZWZyZXNoIG1hcmtldCBkYXRhIHN1YnNjcmlwdGlvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgcmVxdWVzdFJlY2VpdmVkID0gZmFsc2U7XG4gICAgICBzZXJ2ZXIub24oJ3JlcXVlc3QnLCBkYXRhID0+IHtcbiAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ3JlZnJlc2hNYXJrZXREYXRhU3Vic2NyaXB0aW9ucycgJiYgZGF0YS5hY2NvdW50SWQgPT09ICdhY2NvdW50SWQnICYmIFxuICAgICAgICAgIGRhdGEuYXBwbGljYXRpb24gPT09ICdhcHBsaWNhdGlvbicgJiYgZGF0YS5pbnN0YW5jZUluZGV4ID09PSAwICYmXG4gICAgICAgICAgSlNPTi5zdHJpbmdpZnkoZGF0YS5zdWJzY3JpcHRpb25zKSA9PT0gSlNPTi5zdHJpbmdpZnkoW3tzeW1ib2w6ICdFVVJVU0QnfV0pKSB7XG4gICAgICAgICAgcmVxdWVzdFJlY2VpdmVkID0gdHJ1ZTtcbiAgICAgICAgICBzZXJ2ZXIuZW1pdCgncmVzcG9uc2UnLCB7dHlwZTogJ3Jlc3BvbnNlJywgYWNjb3VudElkOiBkYXRhLmFjY291bnRJZCwgcmVxdWVzdElkOiBkYXRhLnJlcXVlc3RJZH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGF3YWl0IGNsaWVudC5yZWZyZXNoTWFya2V0RGF0YVN1YnNjcmlwdGlvbnMoJ2FjY291bnRJZCcsIDAsIFt7c3ltYm9sOiAnRVVSVVNEJ31dKTtcbiAgICAgIHJlcXVlc3RSZWNlaXZlZC5zaG91bGQuYmUudHJ1ZSgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHRlc3Qge01ldGFBcGlXZWJzb2NrZXRDbGllbnQjdW5zdWJzY3JpYmVGcm9tTWFya2V0RGF0YX1cbiAgICAgKi9cbiAgICBpdCgnc2hvdWxkIHVuc3Vic2NyaWJlIGZyb20gbWFya2V0IGRhdGEgd2l0aCBNZXRhVHJhZGVyIHRlcm1pbmFsJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbGV0IHJlcXVlc3RSZWNlaXZlZCA9IGZhbHNlO1xuICAgICAgc2VydmVyLmVtaXQoJ3N5bmNocm9uaXphdGlvbicsIHt0eXBlOiAnYXV0aGVudGljYXRlZCcsIGFjY291bnRJZDogJ2FjY291bnRJZCcsIGhvc3Q6ICdwcy1tcGEtMScsXG4gICAgICAgIGluc3RhbmNlSW5kZXg6IDAsIHJlcGxpY2FzOiAxfSk7XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIDUwKSk7XG4gICAgICBzZXJ2ZXIub24oJ3JlcXVlc3QnLCBkYXRhID0+IHtcbiAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ3Vuc3Vic2NyaWJlRnJvbU1hcmtldERhdGEnICYmIGRhdGEuYWNjb3VudElkID09PSAnYWNjb3VudElkJyAmJiBkYXRhLnN5bWJvbCA9PT0gJ0VVUlVTRCcgJiZcbiAgICAgICAgICBkYXRhLmFwcGxpY2F0aW9uID09PSAnYXBwbGljYXRpb24nICYmIGRhdGEuaW5zdGFuY2VJbmRleCA9PT0gMCAmJlxuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KGRhdGEuc3Vic2NyaXB0aW9ucykgPT09IEpTT04uc3RyaW5naWZ5KFt7dHlwZTogJ3F1b3Rlcyd9XSkpIHtcbiAgICAgICAgICByZXF1ZXN0UmVjZWl2ZWQgPSB0cnVlO1xuICAgICAgICAgIHNlcnZlci5lbWl0KCdyZXNwb25zZScsIHt0eXBlOiAncmVzcG9uc2UnLCBhY2NvdW50SWQ6IGRhdGEuYWNjb3VudElkLCByZXF1ZXN0SWQ6IGRhdGEucmVxdWVzdElkfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgYXdhaXQgY2xpZW50LnVuc3Vic2NyaWJlRnJvbU1hcmtldERhdGEoJ2FjY291bnRJZCcsICdFVVJVU0QnLCBbe3R5cGU6ICdxdW90ZXMnfV0sICdyZWd1bGFyJyk7XG4gICAgICByZXF1ZXN0UmVjZWl2ZWQuc2hvdWxkLmJlLnRydWUoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZmluaXNoIHN5bmNocm9uaXppbmcgZGVhbHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjbGllbnQuX3NvY2tldEluc3RhbmNlc1sndmludC1oaWxsJ11bMF1bMF0uc3luY2hyb25pemF0aW9uVGhyb3R0bGVyID0gc3luY2hyb25pemF0aW9uVGhyb3R0bGVyO1xuICAgICAgc2FuZGJveC5zdHViKHN5bmNocm9uaXphdGlvblRocm90dGxlciwgJ2FjdGl2ZVN5bmNocm9uaXphdGlvbklkcycpLmdldCgoKSA9PiBbJ0FCQyddKTtcbiAgICAgIGxldCBsaXN0ZW5lciA9IHtcbiAgICAgICAgb25TeW5jaHJvbml6YXRpb25TdGFydGVkOiAoKSA9PiB7fSxcbiAgICAgICAgb25EZWFsc1N5bmNocm9uaXplZDogKCkgPT4ge31cbiAgICAgIH07XG4gICAgICBjb25zdCBzeW5jU3R1YiA9IHNhbmRib3guc3R1YihsaXN0ZW5lciwgJ29uRGVhbHNTeW5jaHJvbml6ZWQnKS5yZXNvbHZlcygpO1xuICAgICAgc2FuZGJveC5zdHViKHN5bmNocm9uaXphdGlvblRocm90dGxlciwgJ3JlbW92ZVN5bmNocm9uaXphdGlvbklkJykucmV0dXJucygpO1xuICAgICAgY2xpZW50LmFkZFN5bmNocm9uaXphdGlvbkxpc3RlbmVyKCdhY2NvdW50SWQnLCBsaXN0ZW5lcik7XG4gICAgICBzZXJ2ZXIuZW1pdCgnc3luY2hyb25pemF0aW9uJywge3R5cGU6ICdzeW5jaHJvbml6YXRpb25TdGFydGVkJywgYWNjb3VudElkOiAnYWNjb3VudElkJywgaG9zdDogJ3BzLW1wYS0xJyxcbiAgICAgICAgaW5zdGFuY2VJbmRleDogMCwgc3luY2hyb25pemF0aW9uSWQ6ICdBQkMnfSk7XG4gICAgICBzZXJ2ZXIuZW1pdCgnc3luY2hyb25pemF0aW9uJywge3R5cGU6ICdkZWFsU3luY2hyb25pemF0aW9uRmluaXNoZWQnLCBhY2NvdW50SWQ6ICdhY2NvdW50SWQnLCBob3N0OiAncHMtbXBhLTEnLFxuICAgICAgICBpbnN0YW5jZUluZGV4OiAwLCBzeW5jaHJvbml6YXRpb25JZDogJ0FCQyd9KTtcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgNTApKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKHN5bmNTdHViLCAndmludC1oaWxsOjA6cHMtbXBhLTEnLCAnQUJDJyk7XG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChjbGllbnQuX2xhdGVuY3lTZXJ2aWNlLm9uRGVhbHNTeW5jaHJvbml6ZWQsICdhY2NvdW50SWQ6dmludC1oaWxsOjA6cHMtbXBhLTEnKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKHN5bmNocm9uaXphdGlvblRocm90dGxlci5yZW1vdmVTeW5jaHJvbml6YXRpb25JZCwgJ0FCQycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBmaW5pc2ggc3luY2hyb25pemluZyBvcmRlcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjbGllbnQuX3NvY2tldEluc3RhbmNlc1sndmludC1oaWxsJ11bMF1bMF0uc3luY2hyb25pemF0aW9uVGhyb3R0bGVyID0gc3luY2hyb25pemF0aW9uVGhyb3R0bGVyO1xuICAgICAgc2FuZGJveC5zdHViKHN5bmNocm9uaXphdGlvblRocm90dGxlciwgJ2FjdGl2ZVN5bmNocm9uaXphdGlvbklkcycpLmdldCgoKSA9PiBbJ0FCQyddKTtcbiAgICAgIGxldCBsaXN0ZW5lciA9IHtcbiAgICAgICAgb25TeW5jaHJvbml6YXRpb25TdGFydGVkOiAoKSA9PiB7fSxcbiAgICAgICAgb25IaXN0b3J5T3JkZXJzU3luY2hyb25pemVkOiAoKSA9PiB7fVxuICAgICAgfTtcbiAgICAgIGNvbnN0IHN5bmNTdHViID0gc2FuZGJveC5zdHViKGxpc3RlbmVyLCAnb25IaXN0b3J5T3JkZXJzU3luY2hyb25pemVkJykucmVzb2x2ZXMoKTtcbiAgICAgIGNsaWVudC5hZGRTeW5jaHJvbml6YXRpb25MaXN0ZW5lcignYWNjb3VudElkJywgbGlzdGVuZXIpO1xuICAgICAgc2VydmVyLmVtaXQoJ3N5bmNocm9uaXphdGlvbicsIHt0eXBlOiAnc3luY2hyb25pemF0aW9uU3RhcnRlZCcsIGFjY291bnRJZDogJ2FjY291bnRJZCcsIGhvc3Q6ICdwcy1tcGEtMScsXG4gICAgICAgIGluc3RhbmNlSW5kZXg6IDAsIHN5bmNocm9uaXphdGlvbklkOiAnQUJDJ30pO1xuICAgICAgc2VydmVyLmVtaXQoJ3N5bmNocm9uaXphdGlvbicsIHt0eXBlOiAnb3JkZXJTeW5jaHJvbml6YXRpb25GaW5pc2hlZCcsIGFjY291bnRJZDogJ2FjY291bnRJZCcsIGhvc3Q6ICdwcy1tcGEtMScsXG4gICAgICAgIGluc3RhbmNlSW5kZXg6IDAsIHN5bmNocm9uaXphdGlvbklkOiAnQUJDJ30pO1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCA1MCkpO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoc3luY1N0dWIsICd2aW50LWhpbGw6MDpwcy1tcGEtMScsICdBQkMnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZG93bmdyYWRlIHN1YnNjcmlwdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIGxldCBsaXN0ZW5lciA9IHtcbiAgICAgICAgb25TeW5jaHJvbml6YXRpb25TdGFydGVkOiAoKSA9PiB7fSxcbiAgICAgICAgb25TdWJzY3JpcHRpb25Eb3duZ3JhZGVkOiAoKSA9PiB7fVxuICAgICAgfTtcbiAgICAgIGNvbnN0IHN5bmNTdHViID0gc2FuZGJveC5zdHViKGxpc3RlbmVyLCAnb25TdWJzY3JpcHRpb25Eb3duZ3JhZGVkJykucmVzb2x2ZXMoKTtcbiAgICAgIGNsaWVudC5hZGRTeW5jaHJvbml6YXRpb25MaXN0ZW5lcignYWNjb3VudElkJywgbGlzdGVuZXIpO1xuICAgICAgc2VydmVyLmVtaXQoJ3N5bmNocm9uaXphdGlvbicsIHt0eXBlOiAnZG93bmdyYWRlU3Vic2NyaXB0aW9uJywgYWNjb3VudElkOiAnYWNjb3VudElkJywgaG9zdDogJ3BzLW1wYS0xJyxcbiAgICAgICAgaW5zdGFuY2VJbmRleDogMCwgc3ltYm9sOiAnRVVSVVNEJywgdW5zdWJzY3JpcHRpb25zOiBbe3R5cGU6ICd0aWNrcyd9LCB7dHlwZTogJ2Jvb2tzJ31dfSk7XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIDUwKSk7XG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChzeW5jU3R1YiwgJ3ZpbnQtaGlsbDowOnBzLW1wYS0xJywgJ0VVUlVTRCcsIHVuZGVmaW5lZCxcbiAgICAgICAgW3sgdHlwZTogJ3RpY2tzJyB9LCB7IHR5cGU6ICdib29rcycgfV0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzeW5jaHJvbml6ZSBzeW1ib2wgc3BlY2lmaWNhdGlvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgc3BlY2lmaWNhdGlvbnMgPSBbe1xuICAgICAgICBzeW1ib2w6ICdFVVJVU0QnLFxuICAgICAgICB0aWNrU2l6ZTogMC4wMDAwMSxcbiAgICAgICAgbWluVm9sdW1lOiAwLjAxLFxuICAgICAgICBtYXhWb2x1bWU6IDIwMCxcbiAgICAgICAgdm9sdW1lU3RlcDogMC4wMVxuICAgICAgfV07XG4gICAgICBsZXQgbGlzdGVuZXIgPSB7XG4gICAgICAgIG9uU3ltYm9sU3BlY2lmaWNhdGlvbnNVcGRhdGVkOiAoKSA9PiB7XG4gICAgICAgIH0sXG4gICAgICAgIG9uU3ltYm9sU3BlY2lmaWNhdGlvblVwZGF0ZWQ6ICgpID0+IHtcbiAgICAgICAgfSxcbiAgICAgICAgb25TeW1ib2xTcGVjaWZpY2F0aW9uUmVtb3ZlZDogKCkgPT4ge1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgc2FuZGJveC5zdHViKGxpc3RlbmVyLCAnb25TeW1ib2xTcGVjaWZpY2F0aW9uc1VwZGF0ZWQnKS5yZXNvbHZlcygpO1xuICAgICAgc2FuZGJveC5zdHViKGxpc3RlbmVyLCAnb25TeW1ib2xTcGVjaWZpY2F0aW9uVXBkYXRlZCcpLnJlc29sdmVzKCk7XG4gICAgICBzYW5kYm94LnN0dWIobGlzdGVuZXIsICdvblN5bWJvbFNwZWNpZmljYXRpb25SZW1vdmVkJykucmVzb2x2ZXMoKTtcbiAgICAgIGNsaWVudC5hZGRTeW5jaHJvbml6YXRpb25MaXN0ZW5lcignYWNjb3VudElkJywgbGlzdGVuZXIpO1xuICAgICAgc2VydmVyLmVtaXQoJ3N5bmNocm9uaXphdGlvbicsXG4gICAgICAgIHt0eXBlOiAnc3BlY2lmaWNhdGlvbnMnLCBhY2NvdW50SWQ6ICdhY2NvdW50SWQnLCBzcGVjaWZpY2F0aW9ucywgaW5zdGFuY2VJbmRleDogMCwgaG9zdDogJ3BzLW1wYS0xJyxcbiAgICAgICAgICByZW1vdmVkU3ltYm9sczogWydBVUROWkQnXX0pO1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCA1MCkpO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgobGlzdGVuZXIub25TeW1ib2xTcGVjaWZpY2F0aW9uc1VwZGF0ZWQsICd2aW50LWhpbGw6MDpwcy1tcGEtMScsXG4gICAgICAgIHNwZWNpZmljYXRpb25zLCBbJ0FVRE5aRCddKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGxpc3RlbmVyLm9uU3ltYm9sU3BlY2lmaWNhdGlvblVwZGF0ZWQsICd2aW50LWhpbGw6MDpwcy1tcGEtMScsIHNwZWNpZmljYXRpb25zWzBdKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGxpc3RlbmVyLm9uU3ltYm9sU3BlY2lmaWNhdGlvblJlbW92ZWQsICd2aW50LWhpbGw6MDpwcy1tcGEtMScsICdBVUROWkQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc3luY2hyb25pemUgc3ltYm9sIHByaWNlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGxldCBwcmljZXMgPSBbe1xuICAgICAgICBzeW1ib2w6ICdBVUROWkQnLFxuICAgICAgICBiaWQ6IDEuMDU5MTYsXG4gICAgICAgIGFzazogMS4wNTkyNyxcbiAgICAgICAgcHJvZml0VGlja1ZhbHVlOiAwLjYwMixcbiAgICAgICAgbG9zc1RpY2tWYWx1ZTogMC42MDIwM1xuICAgICAgfV07XG4gICAgICBsZXQgdGlja3MgPSBbe1xuICAgICAgICBzeW1ib2w6ICdBVUROWkQnLFxuICAgICAgICB0aW1lOiBuZXcgRGF0ZSgnMjAyMC0wNC0wN1QwMzo0NTowMC4wMDBaJyksXG4gICAgICAgIGJyb2tlclRpbWU6ICcyMDIwLTA0LTA3IDA2OjQ1OjAwLjAwMCcsXG4gICAgICAgIGJpZDogMS4wNTI5NyxcbiAgICAgICAgYXNrOiAxLjA1MzA5LFxuICAgICAgICBsYXN0OiAwLjUyOTgsXG4gICAgICAgIHZvbHVtZTogMC4xMyxcbiAgICAgICAgc2lkZTogJ2J1eSdcbiAgICAgIH1dO1xuICAgICAgbGV0IGNhbmRsZXMgPSBbe1xuICAgICAgICBzeW1ib2w6ICdBVUROWkQnLFxuICAgICAgICB0aW1lZnJhbWU6ICcxNW0nLFxuICAgICAgICB0aW1lOiBuZXcgRGF0ZSgnMjAyMC0wNC0wN1QwMzo0NTowMC4wMDBaJyksXG4gICAgICAgIGJyb2tlclRpbWU6ICcyMDIwLTA0LTA3IDA2OjQ1OjAwLjAwMCcsXG4gICAgICAgIG9wZW46IDEuMDMyOTcsXG4gICAgICAgIGhpZ2g6IDEuMDYzMDksXG4gICAgICAgIGxvdzogMS4wMjcwNSxcbiAgICAgICAgY2xvc2U6IDEuMDQzLFxuICAgICAgICB0aWNrVm9sdW1lOiAxNDM1LFxuICAgICAgICBzcHJlYWQ6IDE3LFxuICAgICAgICB2b2x1bWU6IDM0NVxuICAgICAgfV07XG4gICAgICBsZXQgYm9va3MgPSBbe1xuICAgICAgICBzeW1ib2w6ICdBVUROWkQnLFxuICAgICAgICB0aW1lOiBuZXcgRGF0ZSgnMjAyMC0wNC0wN1QwMzo0NTowMC4wMDBaJyksXG4gICAgICAgIGJyb2tlclRpbWU6ICcyMDIwLTA0LTA3IDA2OjQ1OjAwLjAwMCcsXG4gICAgICAgIGJvb2s6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0eXBlOiAnQk9PS19UWVBFX1NFTEwnLFxuICAgICAgICAgICAgcHJpY2U6IDEuMDUzMDksXG4gICAgICAgICAgICB2b2x1bWU6IDUuNjdcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHR5cGU6ICdCT09LX1RZUEVfQlVZJyxcbiAgICAgICAgICAgIHByaWNlOiAxLjA1Mjk3LFxuICAgICAgICAgICAgdm9sdW1lOiAzLjQ1XG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XTtcbiAgICAgIGxldCBsaXN0ZW5lciA9IHtcbiAgICAgICAgb25TeW1ib2xQcmljZVVwZGF0ZWQ6ICgpID0+IHt9LFxuICAgICAgICBvblN5bWJvbFByaWNlc1VwZGF0ZWQ6ICgpID0+IHt9LFxuICAgICAgICBvbkNhbmRsZXNVcGRhdGVkOiAoKSA9PiB7fSxcbiAgICAgICAgb25UaWNrc1VwZGF0ZWQ6ICgpID0+IHt9LFxuICAgICAgICBvbkJvb2tzVXBkYXRlZDogKCkgPT4ge31cbiAgICAgIH07XG4gICAgICBzYW5kYm94LnN0dWIobGlzdGVuZXIsICdvblN5bWJvbFByaWNlVXBkYXRlZCcpLnJlc29sdmVzKCk7XG4gICAgICBzYW5kYm94LnN0dWIobGlzdGVuZXIsICdvblN5bWJvbFByaWNlc1VwZGF0ZWQnKS5yZXNvbHZlcygpO1xuICAgICAgc2FuZGJveC5zdHViKGxpc3RlbmVyLCAnb25DYW5kbGVzVXBkYXRlZCcpLnJlc29sdmVzKCk7XG4gICAgICBzYW5kYm94LnN0dWIobGlzdGVuZXIsICdvblRpY2tzVXBkYXRlZCcpLnJlc29sdmVzKCk7XG4gICAgICBzYW5kYm94LnN0dWIobGlzdGVuZXIsICdvbkJvb2tzVXBkYXRlZCcpLnJlc29sdmVzKCk7XG4gICAgICBjbGllbnQuYWRkU3luY2hyb25pemF0aW9uTGlzdGVuZXIoJ2FjY291bnRJZCcsIGxpc3RlbmVyKTtcbiAgICAgIHNlcnZlci5lbWl0KCdzeW5jaHJvbml6YXRpb24nLCB7dHlwZTogJ3ByaWNlcycsIGFjY291bnRJZDogJ2FjY291bnRJZCcsIGhvc3Q6ICdwcy1tcGEtMScsIHByaWNlcyxcbiAgICAgICAgdGlja3MsIGNhbmRsZXMsIGJvb2tzLCBlcXVpdHk6IDEwMCwgbWFyZ2luOiAyMDAsIGZyZWVNYXJnaW46IDQwMCwgbWFyZ2luTGV2ZWw6IDQwMDAwLCBpbnN0YW5jZUluZGV4OiAwfSk7XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIDUwKSk7XG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChsaXN0ZW5lci5vblN5bWJvbFByaWNlc1VwZGF0ZWQsICd2aW50LWhpbGw6MDpwcy1tcGEtMScsIHByaWNlcywgMTAwLCAyMDAsIDQwMCwgNDAwMDApO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgobGlzdGVuZXIub25DYW5kbGVzVXBkYXRlZCwgJ3ZpbnQtaGlsbDowOnBzLW1wYS0xJywgY2FuZGxlcywgMTAwLCAyMDAsIDQwMCwgNDAwMDApO1xuICAgICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgobGlzdGVuZXIub25UaWNrc1VwZGF0ZWQsICd2aW50LWhpbGw6MDpwcy1tcGEtMScsIHRpY2tzLCAxMDAsIDIwMCwgNDAwLCA0MDAwMCk7XG4gICAgICBzaW5vbi5hc3NlcnQuY2FsbGVkV2l0aChsaXN0ZW5lci5vbkJvb2tzVXBkYXRlZCwgJ3ZpbnQtaGlsbDowOnBzLW1wYS0xJywgYm9va3MsIDEwMCwgMjAwLCA0MDAsIDQwMDAwKTtcbiAgICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGxpc3RlbmVyLm9uU3ltYm9sUHJpY2VVcGRhdGVkLCAndmludC1oaWxsOjA6cHMtbXBhLTEnLCBwcmljZXNbMF0pO1xuICAgIH0pO1xuXG4gIH0pO1xuXG4gIGRlc2NyaWJlKCd3YWl0IGZvciBzZXJ2ZXItc2lkZSB0ZXJtaW5hbCBzdGF0ZSBzeW5jaHJvbml6YXRpb24nLCAoKSA9PiB7XG5cbiAgICBhZnRlckVhY2goKCkgPT4ge1xuICAgICAgY2xpZW50LnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHRlc3Qge01ldGFBcGlXZWJzb2NrZXRDbGllbnQjd2FpdFN5bmNocm9uaXplZH1cbiAgICAgKi9cbiAgICBpdCgnc2hvdWxkIHdhaXQgZm9yIHNlcnZlci1zaWRlIHRlcm1pbmFsIHN0YXRlIHN5bmNocm9uaXphdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIGxldCByZXF1ZXN0UmVjZWl2ZWQgPSBmYWxzZTtcbiAgICAgIHNlcnZlci5vbigncmVxdWVzdCcsIGRhdGEgPT4ge1xuICAgICAgICBpZiAoZGF0YS50eXBlID09PSAnd2FpdFN5bmNocm9uaXplZCcgJiYgZGF0YS5hY2NvdW50SWQgPT09ICdhY2NvdW50SWQnICYmXG4gICAgICAgICAgZGF0YS5hcHBsaWNhdGlvblBhdHRlcm4gPT09ICdhcHAuKicgJiYgZGF0YS50aW1lb3V0SW5TZWNvbmRzID09PSAxMCAmJlxuICAgICAgICAgIGRhdGEuYXBwbGljYXRpb24gPT09ICdhcHBsaWNhdGlvbicgJiYgZGF0YS5pbnN0YW5jZUluZGV4ID09PSAwKSB7XG4gICAgICAgICAgcmVxdWVzdFJlY2VpdmVkID0gdHJ1ZTtcbiAgICAgICAgICBzZXJ2ZXIuZW1pdCgncmVzcG9uc2UnLCB7dHlwZTogJ3Jlc3BvbnNlJywgYWNjb3VudElkOiBkYXRhLmFjY291bnRJZCwgcmVxdWVzdElkOiBkYXRhLnJlcXVlc3RJZH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGF3YWl0IGNsaWVudC53YWl0U3luY2hyb25pemVkKCdhY2NvdW50SWQnLCAwLCAnYXBwLionLCAxMCk7XG4gICAgICByZXF1ZXN0UmVjZWl2ZWQuc2hvdWxkLmJlLnRydWUoKTtcbiAgICB9KTtcblxuICB9KTtcblxuICBkZXNjcmliZSgnbGF0ZW5jeSBtb25pdG9yaW5nJywgKCkgPT4ge1xuXG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICBzYW5kYm94LnN0dWIoY2xpZW50Ll9zdWJzY3JpcHRpb25NYW5hZ2VyLCAnaXNTdWJzY3JpcHRpb25BY3RpdmUnKS5yZXR1cm5zKHRydWUpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHRlc3Qge0xhdGVuY3lMaXN0ZW5lciNvblJlc3BvbnNlfVxuICAgICAqL1xuICAgIGl0KCdzaG91bGQgaW52b2tlIGxhdGVuY3kgbGlzdGVuZXIgb24gcmVzcG9uc2UnLCBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgYWNjb3VudElkO1xuICAgICAgbGV0IHJlcXVlc3RUeXBlO1xuICAgICAgbGV0IGFjdHVhbFRpbWVzdGFtcHM7XG4gICAgICBsZXQgbGlzdGVuZXIgPSB7XG4gICAgICAgIG9uUmVzcG9uc2U6IChhaWQsIHR5cGUsIHRzKSA9PiB7XG4gICAgICAgICAgYWNjb3VudElkID0gYWlkO1xuICAgICAgICAgIHJlcXVlc3RUeXBlID0gdHlwZTtcbiAgICAgICAgICBhY3R1YWxUaW1lc3RhbXBzID0gdHM7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBjbGllbnQuYWRkTGF0ZW5jeUxpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICAgIGxldCBwcmljZSA9IHt9O1xuICAgICAgbGV0IHRpbWVzdGFtcHM7XG4gICAgICBzZXJ2ZXIub24oJ3JlcXVlc3QnLCBkYXRhID0+IHtcbiAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ2dldFN5bWJvbFByaWNlJyAmJiBkYXRhLmFjY291bnRJZCA9PT0gJ2FjY291bnRJZCcgJiYgZGF0YS5zeW1ib2wgPT09ICdBVUROWkQnICYmXG4gICAgICAgICAgZGF0YS5hcHBsaWNhdGlvbiA9PT0gJ1JQQycgJiYgZGF0YS50aW1lc3RhbXBzLmNsaWVudFByb2Nlc3NpbmdTdGFydGVkKSB7XG4gICAgICAgICAgdGltZXN0YW1wcyA9IE9iamVjdC5hc3NpZ24oZGF0YS50aW1lc3RhbXBzLCB7c2VydmVyUHJvY2Vzc2luZ1N0YXJ0ZWQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICBzZXJ2ZXJQcm9jZXNzaW5nRmluaXNoZWQ6IG5ldyBEYXRlKCl9KTtcbiAgICAgICAgICB0aW1lc3RhbXBzLmNsaWVudFByb2Nlc3NpbmdTdGFydGVkID0gbmV3IERhdGUodGltZXN0YW1wcy5jbGllbnRQcm9jZXNzaW5nU3RhcnRlZCk7XG4gICAgICAgICAgc2VydmVyLmVtaXQoJ3Jlc3BvbnNlJywge3R5cGU6ICdyZXNwb25zZScsIGFjY291bnRJZDogZGF0YS5hY2NvdW50SWQsIHJlcXVlc3RJZDogZGF0YS5yZXF1ZXN0SWQsIHByaWNlLFxuICAgICAgICAgICAgdGltZXN0YW1wc30pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGF3YWl0IGNsaWVudC5nZXRTeW1ib2xQcmljZSgnYWNjb3VudElkJywgJ0FVRE5aRCcpO1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCAxMDApKTtcbiAgICAgIGFjY291bnRJZC5zaG91bGQuZXF1YWwoJ2FjY291bnRJZCcpO1xuICAgICAgcmVxdWVzdFR5cGUuc2hvdWxkLmVxdWFsKCdnZXRTeW1ib2xQcmljZScpO1xuICAgICAgYWN0dWFsVGltZXN0YW1wcy5zaG91bGQubWF0Y2godGltZXN0YW1wcyk7XG4gICAgICBzaG91bGQuZXhpc3QoYWN0dWFsVGltZXN0YW1wcy5jbGllbnRQcm9jZXNzaW5nU3RhcnRlZCk7XG4gICAgICBzaG91bGQuZXhpc3QoYWN0dWFsVGltZXN0YW1wcy5jbGllbnRQcm9jZXNzaW5nRmluaXNoZWQpO1xuICAgICAgc2hvdWxkLmV4aXN0KGFjdHVhbFRpbWVzdGFtcHMuc2VydmVyUHJvY2Vzc2luZ1N0YXJ0ZWQpO1xuICAgICAgc2hvdWxkLmV4aXN0KGFjdHVhbFRpbWVzdGFtcHMuc2VydmVyUHJvY2Vzc2luZ0ZpbmlzaGVkKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEB0ZXN0IHtMYXRlbmN5TGlzdGVuZXIjb25TeW1ib2xQcmljZX1cbiAgICAgKi9cbiAgICBpdCgnc2hvdWxkIG1lYXN1cmUgcHJpY2Ugc3RyZWFtaW5nIGxhdGVuY2llcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGxldCBwcmljZXMgPSBbe1xuICAgICAgICBzeW1ib2w6ICdBVUROWkQnLFxuICAgICAgICB0aW1lc3RhbXBzOiB7XG4gICAgICAgICAgZXZlbnRHZW5lcmF0ZWQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgc2VydmVyUHJvY2Vzc2luZ1N0YXJ0ZWQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgc2VydmVyUHJvY2Vzc2luZ0ZpbmlzaGVkOiBuZXcgRGF0ZSgpXG4gICAgICAgIH1cbiAgICAgIH1dO1xuICAgICAgbGV0IGFjY291bnRJZDtcbiAgICAgIGxldCBzeW1ib2w7XG4gICAgICBsZXQgYWN0dWFsVGltZXN0YW1wcztcbiAgICAgIGxldCBsaXN0ZW5lciA9IHtcbiAgICAgICAgb25TeW1ib2xQcmljZTogKGFpZCwgc3ltLCB0cykgPT4ge1xuICAgICAgICAgIGFjY291bnRJZCA9IGFpZDtcbiAgICAgICAgICBzeW1ib2wgPSBzeW07XG4gICAgICAgICAgYWN0dWFsVGltZXN0YW1wcyA9IHRzO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgY2xpZW50LmFkZExhdGVuY3lMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgICBzZXJ2ZXIuZW1pdCgnc3luY2hyb25pemF0aW9uJywge3R5cGU6ICdwcmljZXMnLCBhY2NvdW50SWQ6ICdhY2NvdW50SWQnLCBwcmljZXMsIGVxdWl0eTogMTAwLCBtYXJnaW46IDIwMCxcbiAgICAgICAgZnJlZU1hcmdpbjogNDAwLCBtYXJnaW5MZXZlbDogNDAwMDB9KTtcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgNTApKTtcbiAgICAgIGFjY291bnRJZC5zaG91bGQuZXF1YWwoJ2FjY291bnRJZCcpO1xuICAgICAgc3ltYm9sLnNob3VsZC5lcXVhbCgnQVVETlpEJyk7XG4gICAgICBhY3R1YWxUaW1lc3RhbXBzLnNob3VsZC5tYXRjaChwcmljZXNbMF0udGltZXN0YW1wcyk7XG4gICAgICBzaG91bGQuZXhpc3QoYWN0dWFsVGltZXN0YW1wcy5jbGllbnRQcm9jZXNzaW5nRmluaXNoZWQpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQHRlc3Qge0xhdGVuY3lMaXN0ZW5lciNvblVwZGF0ZX1cbiAgICAgKi9cbiAgICBpdCgnc2hvdWxkIG1lYXN1cmUgdXBkYXRlIGxhdGVuY2llcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGxldCB1cGRhdGUgPSB7XG4gICAgICAgIHRpbWVzdGFtcHM6IHtcbiAgICAgICAgICBldmVudEdlbmVyYXRlZDogbmV3IERhdGUoKSxcbiAgICAgICAgICBzZXJ2ZXJQcm9jZXNzaW5nU3RhcnRlZDogbmV3IERhdGUoKSxcbiAgICAgICAgICBzZXJ2ZXJQcm9jZXNzaW5nRmluaXNoZWQ6IG5ldyBEYXRlKClcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGxldCBhY2NvdW50SWQ7XG4gICAgICBsZXQgYWN0dWFsVGltZXN0YW1wcztcbiAgICAgIGxldCBsaXN0ZW5lciA9IHtcbiAgICAgICAgb25VcGRhdGU6IChhaWQsIHRzKSA9PiB7XG4gICAgICAgICAgYWNjb3VudElkID0gYWlkO1xuICAgICAgICAgIGFjdHVhbFRpbWVzdGFtcHMgPSB0cztcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGNsaWVudC5hZGRMYXRlbmN5TGlzdGVuZXIobGlzdGVuZXIpO1xuICAgICAgc2VydmVyLmVtaXQoJ3N5bmNocm9uaXphdGlvbicsIE9iamVjdC5hc3NpZ24oe3R5cGU6ICd1cGRhdGUnLCBhY2NvdW50SWQ6ICdhY2NvdW50SWQnfSwgdXBkYXRlKSk7XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIDUwKSk7XG4gICAgICBhY2NvdW50SWQuc2hvdWxkLmVxdWFsKCdhY2NvdW50SWQnKTtcbiAgICAgIGFjdHVhbFRpbWVzdGFtcHMuc2hvdWxkLm1hdGNoKHVwZGF0ZS50aW1lc3RhbXBzKTtcbiAgICAgIHNob3VsZC5leGlzdChhY3R1YWxUaW1lc3RhbXBzLmNsaWVudFByb2Nlc3NpbmdGaW5pc2hlZCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAdGVzdCB7TGF0ZW5jeUxpc3RlbmVyI29uVHJhZGV9XG4gICAgICovXG4gICAgaXQoJ3Nob3VsZCBwcm9jZXNzIHRyYWRlIGxhdGVuY3knLCBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgdHJhZGUgPSB7fTtcbiAgICAgIGxldCByZXNwb25zZSA9IHtcbiAgICAgICAgbnVtZXJpY0NvZGU6IDEwMDA5LFxuICAgICAgICBzdHJpbmdDb2RlOiAnVFJBREVfUkVUQ09ERV9ET05FJyxcbiAgICAgICAgbWVzc2FnZTogJ1JlcXVlc3QgY29tcGxldGVkJyxcbiAgICAgICAgb3JkZXJJZDogJzQ2ODcwNDcyJ1xuICAgICAgfTtcbiAgICAgIGxldCB0aW1lc3RhbXBzID0ge1xuICAgICAgICBjbGllbnRFeGVjdXRpb25TdGFydGVkOiBuZXcgRGF0ZSgpLFxuICAgICAgICBzZXJ2ZXJFeGVjdXRpb25TdGFydGVkOiBuZXcgRGF0ZSgpLFxuICAgICAgICBzZXJ2ZXJFeGVjdXRpb25GaW5pc2hlZDogbmV3IERhdGUoKSxcbiAgICAgICAgdHJhZGVFeGVjdXRlZDogbmV3IERhdGUoKVxuICAgICAgfTtcbiAgICAgIGxldCBhY2NvdW50SWQ7XG4gICAgICBsZXQgYWN0dWFsVGltZXN0YW1wcztcbiAgICAgIGxldCBsaXN0ZW5lciA9IHtcbiAgICAgICAgb25UcmFkZTogKGFpZCwgdHMpID0+IHtcbiAgICAgICAgICBhY2NvdW50SWQgPSBhaWQ7XG4gICAgICAgICAgYWN0dWFsVGltZXN0YW1wcyA9IHRzO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgY2xpZW50LmFkZExhdGVuY3lMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgICBzZXJ2ZXIub24oJ3JlcXVlc3QnLCBkYXRhID0+IHtcbiAgICAgICAgZGF0YS50cmFkZS5zaG91bGQubWF0Y2godHJhZGUpO1xuICAgICAgICBpZiAoZGF0YS50eXBlID09PSAndHJhZGUnICYmIGRhdGEuYWNjb3VudElkID09PSAnYWNjb3VudElkJyAmJiBkYXRhLmFwcGxpY2F0aW9uID09PSAnYXBwbGljYXRpb24nKSB7XG4gICAgICAgICAgc2VydmVyLmVtaXQoJ3Jlc3BvbnNlJywge3R5cGU6ICdyZXNwb25zZScsIGFjY291bnRJZDogZGF0YS5hY2NvdW50SWQsIHJlcXVlc3RJZDogZGF0YS5yZXF1ZXN0SWQsIHJlc3BvbnNlLFxuICAgICAgICAgICAgdGltZXN0YW1wc30pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGF3YWl0IGNsaWVudC50cmFkZSgnYWNjb3VudElkJywgdHJhZGUpO1xuICAgICAgYWNjb3VudElkLnNob3VsZC5lcXVhbCgnYWNjb3VudElkJyk7XG4gICAgICBhY3R1YWxUaW1lc3RhbXBzLnNob3VsZC5tYXRjaCh0aW1lc3RhbXBzKTtcbiAgICAgIHNob3VsZC5leGlzdChhY3R1YWxUaW1lc3RhbXBzLmNsaWVudFByb2Nlc3NpbmdGaW5pc2hlZCk7XG4gICAgfSk7XG5cbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCByZWNvbm5lY3QgdG8gc2VydmVyIG9uIGRpc2Nvbm5lY3QnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgdHJhZGUgPSB7XG4gICAgICBhY3Rpb25UeXBlOiAnT1JERVJfVFlQRV9TRUxMJyxcbiAgICAgIHN5bWJvbDogJ0FVRE5aRCcsXG4gICAgICB2b2x1bWU6IDAuMDdcbiAgICB9O1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgbnVtZXJpY0NvZGU6IDEwMDA5LFxuICAgICAgc3RyaW5nQ29kZTogJ1RSQURFX1JFVENPREVfRE9ORScsXG4gICAgICBtZXNzYWdlOiAnUmVxdWVzdCBjb21wbGV0ZWQnLFxuICAgICAgb3JkZXJJZDogJzQ2ODcwNDcyJ1xuICAgIH07XG4gICAgbGV0IGxpc3RlbmVyID0ge1xuICAgICAgb25SZWNvbm5lY3RlZDogKCkgPT4ge30sXG4gICAgfTtcbiAgICBzYW5kYm94LnN0dWIobGlzdGVuZXIsICdvblJlY29ubmVjdGVkJykucmVzb2x2ZXMoKTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50Ll9wYWNrZXRPcmRlcmVyLCAnb25SZWNvbm5lY3RlZCcpLnJlc29sdmVzKCk7XG4gICAgc2FuZGJveC5zdHViKGNsaWVudC5fc3Vic2NyaXB0aW9uTWFuYWdlciwgJ29uUmVjb25uZWN0ZWQnKS5yZXNvbHZlcygpO1xuICAgIGNsaWVudC5hZGRSZWNvbm5lY3RMaXN0ZW5lcihsaXN0ZW5lciwgJ2FjY291bnRJZCcpO1xuICAgIGxldCByZXF1ZXN0Q291bnRlciA9IDA7XG4gICAgc2VydmVyLm9uKCdyZXF1ZXN0JywgYXN5bmMgZGF0YSA9PiB7XG4gICAgICBpZiAoZGF0YS50eXBlID09PSAndHJhZGUnICYmIGRhdGEuYWNjb3VudElkID09PSAnYWNjb3VudElkJyAmJiBkYXRhLmFwcGxpY2F0aW9uID09PSAnYXBwbGljYXRpb24nKSB7XG4gICAgICAgIHJlcXVlc3RDb3VudGVyKys7XG4gICAgICAgIGF3YWl0IHNlcnZlci5lbWl0KCdyZXNwb25zZScsIHt0eXBlOiAncmVzcG9uc2UnLCBhY2NvdW50SWQ6IGRhdGEuYWNjb3VudElkLCBcbiAgICAgICAgICByZXF1ZXN0SWQ6IGRhdGEucmVxdWVzdElkLCByZXNwb25zZX0pO1xuICAgICAgfVxuICAgICAgYXdhaXQgc2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICB9KTtcbiAgXG4gICAgY2xpZW50LnRyYWRlKCdhY2NvdW50SWQnLCB0cmFkZSk7XG4gICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCA1MCkpO1xuICAgIGF3YWl0IGNsb2NrLnRpY2tBc3luYygxNTAwKTtcbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIDUwKSk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZE9uY2UobGlzdGVuZXIub25SZWNvbm5lY3RlZCk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZFdpdGgoY2xpZW50Ll9zdWJzY3JpcHRpb25NYW5hZ2VyLm9uUmVjb25uZWN0ZWQsIDAsIDAsIFsnYWNjb3VudElkJ10pO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRXaXRoKGNsaWVudC5fcGFja2V0T3JkZXJlci5vblJlY29ubmVjdGVkLCBbJ2FjY291bnRJZCddKTtcblxuICAgIHNlcnZlci5vbigncmVxdWVzdCcsIGFzeW5jIGRhdGEgPT4ge1xuICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ3RyYWRlJyAmJiBkYXRhLmFjY291bnRJZCA9PT0gJ2FjY291bnRJZCcgJiYgZGF0YS5hcHBsaWNhdGlvbiA9PT0gJ2FwcGxpY2F0aW9uJykge1xuICAgICAgICByZXF1ZXN0Q291bnRlcisrO1xuICAgICAgICBhd2FpdCBzZXJ2ZXIuZW1pdCgncmVzcG9uc2UnLCB7dHlwZTogJ3Jlc3BvbnNlJywgYWNjb3VudElkOiBkYXRhLmFjY291bnRJZCwgXG4gICAgICAgICAgcmVxdWVzdElkOiBkYXRhLnJlcXVlc3RJZCwgcmVzcG9uc2V9KTtcbiAgICAgIH1cbiAgICAgIGF3YWl0IHNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgfSk7XG4gIFxuICAgIGNsaWVudC50cmFkZSgnYWNjb3VudElkJywgdHJhZGUpO1xuICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgNTApKTtcbiAgICBhd2FpdCBjbG9jay50aWNrQXN5bmMoMTUwMCk7XG4gICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCA1MCkpO1xuICAgIHNpbm9uLmFzc2VydC5tYXRjaChyZXF1ZXN0Q291bnRlciwgMik7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaVdlYnNvY2tldENsaWVudCNycGNSZXF1ZXN0fVxuICAgKi9cbiAgaXQoJ3Nob3VsZCBjYW5jZWwgc3luY2hyb25pemF0aW9uIG9uIGRpc2Nvbm5lY3QnLCBhc3luYyAoKSA9PiB7XG4gICAgc2FuZGJveC5zdHViKGNsaWVudC5fc3Vic2NyaXB0aW9uTWFuYWdlciwgJ2lzU3Vic2NyaXB0aW9uQWN0aXZlJykucmV0dXJucyh0cnVlKTtcbiAgICBhY3RpdmVTeW5jaHJvbml6YXRpb25JZHNTdHViLmdldCgoKSA9PiBbXG4gICAgICAnc3luY2hyb25pemF0aW9uSWQnLCAnQUJDMicsICdBQkMzJywgJ0FCQzQnXG4gICAgXSk7XG4gICAgY2xpZW50Ll9zb2NrZXRJbnN0YW5jZXNCeUFjY291bnRzWzBdLmFjY291bnRJZDIgPSAxO1xuICAgIGNsaWVudC5fc29ja2V0SW5zdGFuY2VzQnlBY2NvdW50c1swXS5hY2NvdW50SWQzID0gMDtcbiAgICBjbGllbnQuX3NvY2tldEluc3RhbmNlc0J5QWNjb3VudHNbMV0uYWNjb3VudElkNCA9IDA7XG4gICAgY2xpZW50LmFkZEFjY291bnRDYWNoZSgnYWNjb3VudElkMicsIHsndmludC1oaWxsJzogJ2FjY291bnRJZDInfSk7XG4gICAgY2xpZW50LmFkZEFjY291bnRDYWNoZSgnYWNjb3VudElkMycsIHsnbmV3LXlvcmsnOiAnYWNjb3VudElkMyd9KTtcbiAgICBjbGllbnQuYWRkQWNjb3VudENhY2hlKCdhY2NvdW50SWQ0Jywgeyd2aW50LWhpbGwnOiAnYWNjb3VudElkNCd9KTtcbiAgICBzZXJ2ZXIuZW1pdCgnc3luY2hyb25pemF0aW9uJywge3R5cGU6ICdzeW5jaHJvbml6YXRpb25TdGFydGVkJywgYWNjb3VudElkOiAnYWNjb3VudElkJyxcbiAgICAgIHNlcXVlbmNlVGltZXN0YW1wOiAxNjAzMTI0MjY3MTc4LCBzeW5jaHJvbml6YXRpb25JZDogJ3N5bmNocm9uaXphdGlvbklkJ30pO1xuICAgIHNlcnZlci5lbWl0KCdzeW5jaHJvbml6YXRpb24nLCB7dHlwZTogJ3N5bmNocm9uaXphdGlvblN0YXJ0ZWQnLCBhY2NvdW50SWQ6ICdhY2NvdW50SWQyJyxcbiAgICAgIHNlcXVlbmNlVGltZXN0YW1wOiAxNjAzMTI0MjY3MTc4LCBzeW5jaHJvbml6YXRpb25JZDogJ0FCQzInfSk7XG4gICAgc2VydmVyLmVtaXQoJ3N5bmNocm9uaXphdGlvbicsIHt0eXBlOiAnc3luY2hyb25pemF0aW9uU3RhcnRlZCcsIGFjY291bnRJZDogJ2FjY291bnRJZDMnLFxuICAgICAgc2VxdWVuY2VUaW1lc3RhbXA6IDE2MDMxMjQyNjcxNzgsIHN5bmNocm9uaXphdGlvbklkOiAnQUJDMyd9KTtcbiAgICBzZXJ2ZXIuZW1pdCgnc3luY2hyb25pemF0aW9uJywge3R5cGU6ICdzeW5jaHJvbml6YXRpb25TdGFydGVkJywgYWNjb3VudElkOiAnYWNjb3VudElkNCcsXG4gICAgICBzZXF1ZW5jZVRpbWVzdGFtcDogMTYwMzEyNDI2NzE3OCwgc3luY2hyb25pemF0aW9uSWQ6ICdBQkM0J30pO1xuICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgNTApKTtcbiAgICBzaG91bGQuZXhpc3QoY2xpZW50Ll9zeW5jaHJvbml6YXRpb25GbGFncy5zeW5jaHJvbml6YXRpb25JZCk7XG4gICAgc2hvdWxkLmV4aXN0KGNsaWVudC5fc3luY2hyb25pemF0aW9uRmxhZ3MuQUJDMik7XG4gICAgc2hvdWxkLmV4aXN0KGNsaWVudC5fc3luY2hyb25pemF0aW9uRmxhZ3MuQUJDMyk7XG4gICAgc2hvdWxkLmV4aXN0KGNsaWVudC5fc3luY2hyb25pemF0aW9uRmxhZ3MuQUJDNCk7XG4gICAgYXdhaXQgc2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIDEyMDApKTtcbiAgICBzaG91bGQubm90LmV4aXN0KGNsaWVudC5fc3luY2hyb25pemF0aW9uRmxhZ3Muc3luY2hyb25pemF0aW9uSWQpO1xuICAgIHNob3VsZC5leGlzdChjbGllbnQuX3N5bmNocm9uaXphdGlvbkZsYWdzLkFCQzIpO1xuICAgIHNob3VsZC5leGlzdChjbGllbnQuX3N5bmNocm9uaXphdGlvbkZsYWdzLkFCQzMpO1xuICAgIHNob3VsZC5leGlzdChjbGllbnQuX3N5bmNocm9uaXphdGlvbkZsYWdzLkFCQzQpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlXZWJzb2NrZXRDbGllbnQjcnBjUmVxdWVzdH1cbiAgICovXG4gIGl0KCdzaG91bGQgcmVtb3ZlIHJlY29ubmVjdCBsaXN0ZW5lcicsIGFzeW5jICgpID0+IHtcbiAgICBsZXQgdHJhZGUgPSB7XG4gICAgICBhY3Rpb25UeXBlOiAnT1JERVJfVFlQRV9TRUxMJyxcbiAgICAgIHN5bWJvbDogJ0FVRE5aRCcsXG4gICAgICB2b2x1bWU6IDAuMDdcbiAgICB9O1xuICAgIGxldCByZXNwb25zZSA9IHtcbiAgICAgIG51bWVyaWNDb2RlOiAxMDAwOSxcbiAgICAgIHN0cmluZ0NvZGU6ICdUUkFERV9SRVRDT0RFX0RPTkUnLFxuICAgICAgbWVzc2FnZTogJ1JlcXVlc3QgY29tcGxldGVkJyxcbiAgICAgIG9yZGVySWQ6ICc0Njg3MDQ3MidcbiAgICB9O1xuICAgIGNvbnN0IGxpc3RlbmVyID0ge29uUmVjb25uZWN0ZWQ6IGFzeW5jICgpID0+IHt9fTtcbiAgICBzYW5kYm94LnN0dWIobGlzdGVuZXIsICdvblJlY29ubmVjdGVkJykucmVzb2x2ZXMoKTtcbiAgICBjbGllbnQuYWRkUmVjb25uZWN0TGlzdGVuZXIobGlzdGVuZXIsICdhY2NvdW50SWQnKTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50Ll9zdWJzY3JpcHRpb25NYW5hZ2VyLCAnb25SZWNvbm5lY3RlZCcpO1xuICAgIGxldCByZXF1ZXN0Q291bnRlciA9IDA7XG4gICAgc2VydmVyLm9uKCdyZXF1ZXN0JywgZGF0YSA9PiB7XG4gICAgICBkYXRhLnRyYWRlLnNob3VsZC5tYXRjaCh0cmFkZSk7XG4gICAgICByZXF1ZXN0Q291bnRlcisrO1xuICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ3RyYWRlJyAmJiBkYXRhLmFjY291bnRJZCA9PT0gJ2FjY291bnRJZCcgJiYgZGF0YS5hcHBsaWNhdGlvbiA9PT0gJ2FwcGxpY2F0aW9uJykge1xuICAgICAgICBzZXJ2ZXIuZW1pdCgncmVzcG9uc2UnLCB7dHlwZTogJ3Jlc3BvbnNlJywgYWNjb3VudElkOiBkYXRhLmFjY291bnRJZCwgcmVxdWVzdElkOiBkYXRhLnJlcXVlc3RJZCwgcmVzcG9uc2V9KTtcbiAgICAgIH1cbiAgICAgIHNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgfSk7XG5cbiAgICBhd2FpdCBjbGllbnQudHJhZGUoJ2FjY291bnRJZCcsIHRyYWRlKTtcbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIDUwKSk7XG4gICAgYXdhaXQgY2xvY2sudGlja0FzeW5jKDExMDApO1xuICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgNTApKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkT25jZShsaXN0ZW5lci5vblJlY29ubmVjdGVkKTtcbiAgICBjbGllbnQucmVtb3ZlUmVjb25uZWN0TGlzdGVuZXIobGlzdGVuZXIpO1xuXG4gICAgc2VydmVyLm9uKCdyZXF1ZXN0JywgZGF0YSA9PiB7XG4gICAgICBkYXRhLnRyYWRlLnNob3VsZC5tYXRjaCh0cmFkZSk7XG4gICAgICByZXF1ZXN0Q291bnRlcisrO1xuICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ3RyYWRlJyAmJiBkYXRhLmFjY291bnRJZCA9PT0gJ2FjY291bnRJZCcgJiYgZGF0YS5hcHBsaWNhdGlvbiA9PT0gJ2FwcGxpY2F0aW9uJykge1xuICAgICAgICBzZXJ2ZXIuZW1pdCgncmVzcG9uc2UnLCB7dHlwZTogJ3Jlc3BvbnNlJywgYWNjb3VudElkOiBkYXRhLmFjY291bnRJZCwgcmVxdWVzdElkOiBkYXRhLnJlcXVlc3RJZCwgcmVzcG9uc2V9KTtcbiAgICAgIH1cbiAgICAgIHNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgfSk7XG5cbiAgICBhd2FpdCBjbGllbnQudHJhZGUoJ2FjY291bnRJZCcsIHRyYWRlKTtcbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIDUwKSk7XG4gICAgYXdhaXQgY2xvY2sudGlja0FzeW5jKDExMDApO1xuICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgNTApKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkT25jZShsaXN0ZW5lci5vblJlY29ubmVjdGVkKTtcbiAgICBzaW5vbi5hc3NlcnQubWF0Y2gocmVxdWVzdENvdW50ZXIsIDIpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlXZWJzb2NrZXRDbGllbnQjcXVldWVQYWNrZXR9XG4gICAqL1xuICBpdCgnc2hvdWxkIHByb2Nlc3MgcGFja2V0cyBpbiBvcmRlcicsIGFzeW5jICgpID0+IHtcbiAgICBsZXQgb3JkZXJzQ2FsbFRpbWUgPSAwO1xuICAgIGxldCBwb3NpdGlvbnNDYWxsVGltZSA9IDA7XG4gICAgbGV0IGRpc2Nvbm5lY3RlZENhbGxUaW1lID0gMDtcbiAgICBsZXQgcHJpY2VzQ2FsbFRpbWUgPSAwO1xuICAgIGxldCBsaXN0ZW5lciA9IHtcbiAgICAgIG9uQ29ubmVjdGVkOiAoKSA9PiB7fSxcbiAgICAgIG9uRGlzY29ubmVjdGVkOiBhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgNTAwMCkpO1xuICAgICAgICBkaXNjb25uZWN0ZWRDYWxsVGltZSA9IERhdGUubm93KCk7XG4gICAgICB9LFxuICAgICAgb25TdHJlYW1DbG9zZWQ6ICgpID0+IHt9LFxuICAgICAgb25QZW5kaW5nT3JkZXJzUmVwbGFjZWQ6IGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCAxMDAwMCkpO1xuICAgICAgICBvcmRlcnNDYWxsVGltZSA9IERhdGUubm93KCk7XG4gICAgICB9LFxuICAgICAgb25QZW5kaW5nT3JkZXJzU3luY2hyb25pemVkOiAoKSA9PiB7fSxcbiAgICAgIG9uUG9zaXRpb25zUmVwbGFjZWQ6IGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCAxMDAwKSk7XG4gICAgICAgIHBvc2l0aW9uc0NhbGxUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgIH0sXG4gICAgICBvblBvc2l0aW9uc1N5bmNocm9uaXplZDogKCkgPT4ge30sXG4gICAgICBvblN5bWJvbFByaWNlVXBkYXRlZDogKCkgPT4ge30sXG4gICAgICBvblN5bWJvbFByaWNlc1VwZGF0ZWQ6IGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCAxMDAwKSk7XG4gICAgICAgIHByaWNlc0NhbGxUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgIH0sXG4gICAgfTtcbiAgICBsZXQgcmVzb2x2ZTtcbiAgICBsZXQgcHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlcyA9PiByZXNvbHZlID0gcmVzKTtcbiAgICBjbGllbnQuY2xvc2UoKTtcbiAgICBpby5jbG9zZSgoKSA9PiByZXNvbHZlKCkpO1xuICAgIGF3YWl0IHByb21pc2U7XG4gICAgaW8gPSBuZXcgU2VydmVyKDY3ODUsIHtwYXRoOiAnL3dzJywgcGluZ1RpbWVvdXQ6IDEwMDAwMDB9KTtcbiAgICBjbGllbnQgPSBuZXcgTWV0YUFwaVdlYnNvY2tldENsaWVudChkb21haW5DbGllbnQsICd0b2tlbicsIHthcHBsaWNhdGlvbjogJ2FwcGxpY2F0aW9uJywgXG4gICAgICBkb21haW46ICdwcm9qZWN0LXN0b2NrLmFnaWxpdW1sYWJzLmNsb3VkJywgcmVxdWVzdFRpbWVvdXQ6IDEuNSwgdXNlU2hhcmVkQ2xpZW50QXBpOiBmYWxzZSxcbiAgICAgIHJldHJ5T3B0czogeyByZXRyaWVzOiAzLCBtaW5EZWxheUluU2Vjb25kczogMC4xLCBtYXhEZWxheUluU2Vjb25kczogMC41fSxcbiAgICAgIGV2ZW50UHJvY2Vzc2luZzoge3NlcXVlbnRpYWxQcm9jZXNzaW5nOiB0cnVlfX0pO1xuICAgIHNhbmRib3guc3R1YihjbGllbnQuX2xhdGVuY3lTZXJ2aWNlLCAnb25Db25uZWN0ZWQnKS5yZXR1cm5zKCk7XG4gICAgc2FuZGJveC5zdHViKGNsaWVudC5fbGF0ZW5jeVNlcnZpY2UsICdvbkRpc2Nvbm5lY3RlZCcpLnJldHVybnMoKTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50Ll9sYXRlbmN5U2VydmljZSwgJ29uVW5zdWJzY3JpYmUnKS5yZXR1cm5zKCk7XG4gICAgY2xpZW50LnVybCA9ICdodHRwOi8vbG9jYWxob3N0OjY3ODUnO1xuICAgIGNsaWVudC5hZGRBY2NvdW50Q2FjaGUoJ2FjY291bnRJZCcsIHsndmludC1oaWxsJzogJ2FjY291bnRJZCd9KTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50Ll9zdWJzY3JpcHRpb25NYW5hZ2VyLCAnaXNTdWJzY3JpcHRpb25BY3RpdmUnKS5yZXR1cm5zKHRydWUpO1xuICAgIGlvLm9uKCdjb25uZWN0Jywgc29ja2V0ID0+IHtcbiAgICAgIHNlcnZlciA9IHNvY2tldDtcbiAgICAgIGlmIChzb2NrZXQucmVxdWVzdC5fcXVlcnlbJ2F1dGgtdG9rZW4nXSAhPT0gJ3Rva2VuJykge1xuICAgICAgICBzb2NrZXQuZW1pdCh7ZXJyb3I6ICdVbmF1dGhvcml6ZWRFcnJvcicsIG1lc3NhZ2U6ICdBdXRob3JpemF0aW9uIHRva2VuIGludmFsaWQnfSk7XG4gICAgICAgIHNvY2tldC5jbG9zZSgpO1xuICAgICAgfVxuICAgICAgc2VydmVyLm9uKCdyZXF1ZXN0JywgZGF0YSA9PiB7XG4gICAgICAgIGlmIChkYXRhLnR5cGUgPT09ICdnZXRQb3NpdGlvbnMnICYmIGRhdGEuYWNjb3VudElkID09PSAnYWNjb3VudElkJyAmJiBkYXRhLmFwcGxpY2F0aW9uID09PSAnUlBDJykge1xuICAgICAgICAgIHNlcnZlci5lbWl0KCdyZXNwb25zZScsIHt0eXBlOiAncmVzcG9uc2UnLCBhY2NvdW50SWQ6IGRhdGEuYWNjb3VudElkLCBcbiAgICAgICAgICAgIHJlcXVlc3RJZDogZGF0YS5yZXF1ZXN0SWQsIHBvc2l0aW9uczogW119KTtcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09ICdzdWJzY3JpYmUnKSB7XG4gICAgICAgICAgc2VydmVyLmVtaXQoJ3Jlc3BvbnNlJywge3R5cGU6ICdyZXNwb25zZScsIGFjY291bnRJZDogZGF0YS5hY2NvdW50SWQsIFxuICAgICAgICAgICAgcmVxdWVzdElkOiBkYXRhLnJlcXVlc3RJZH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBhd2FpdCBjbGllbnQuc3Vic2NyaWJlKCdhY2NvdW50SWQnLCAxKTtcbiAgICBhd2FpdCBjbGllbnQuZ2V0UG9zaXRpb25zKCdhY2NvdW50SWQnKTtcbiAgICBjbGllbnQuYWRkU3luY2hyb25pemF0aW9uTGlzdGVuZXIoJ2FjY291bnRJZCcsIGxpc3RlbmVyKTtcbiAgICBzYW5kYm94LnN0dWIoY2xpZW50Ll9wYWNrZXRPcmRlcmVyLCAncmVzdG9yZU9yZGVyJykuY2FsbHNGYWtlKChhcmcpID0+IHtcbiAgICAgIHJldHVybiBbYXJnXTtcbiAgICB9KTtcbiAgICBzZXJ2ZXIuZW1pdCgnc3luY2hyb25pemF0aW9uJywge3R5cGU6ICdhdXRoZW50aWNhdGVkJywgYWNjb3VudElkOiAnYWNjb3VudElkJywgaG9zdDogJ3BzLW1wYS0xJyxcbiAgICAgIGluc3RhbmNlSW5kZXg6IDAsIHJlcGxpY2FzOiAyLCBzZXF1ZW5jZU51bWJlcjogMX0pO1xuICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgNTApKTtcbiAgICBhd2FpdCBjbG9jay50aWNrQXN5bmMoNTkwMDApO1xuICAgIHNlcnZlci5lbWl0KCdzeW5jaHJvbml6YXRpb24nLCB7dHlwZTogJ29yZGVycycsIGFjY291bnRJZDogJ2FjY291bnRJZCcsIG9yZGVyczogW10sIGluc3RhbmNlSW5kZXg6IDAsXG4gICAgICBob3N0OiAncHMtbXBhLTEnLCBzZXF1ZW5jZU51bWJlcjogMn0pO1xuICAgIHNlcnZlci5lbWl0KCdzeW5jaHJvbml6YXRpb24nLCB7dHlwZTogJ3ByaWNlcycsIGFjY291bnRJZDogJ2FjY291bnRJZCcsIHByaWNlczogW3tzeW1ib2w6ICdFVVJVU0QnfV0sIFxuICAgICAgaW5zdGFuY2VJbmRleDogMCwgaG9zdDogJ3BzLW1wYS0xJywgZXF1aXR5OiAxMDAsIG1hcmdpbjogMjAwLCBmcmVlTWFyZ2luOiA0MDAsIG1hcmdpbkxldmVsOiA0MDAwMH0pO1xuICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgNTApKTtcbiAgICBhd2FpdCBjbG9jay50aWNrQXN5bmMoMzAwMCk7XG4gICAgc2VydmVyLmVtaXQoJ3N5bmNocm9uaXphdGlvbicsIHt0eXBlOiAncG9zaXRpb25zJywgYWNjb3VudElkOiAnYWNjb3VudElkJywgcG9zaXRpb25zOiBbXSwgaW5zdGFuY2VJbmRleDogMCxcbiAgICAgIGhvc3Q6ICdwcy1tcGEtMScsIHNlcXVlbmNlTnVtYmVyOiAzfSk7XG4gICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCA1MCkpO1xuICAgIGF3YWl0IGNsb2NrLnRpY2tBc3luYygyMDAwMCk7XG4gICAgYXdhaXQgbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCA1MCkpO1xuICAgIHByaWNlc0NhbGxUaW1lLnNob3VsZC5ub3QuZXFsKDApO1xuICAgIChvcmRlcnNDYWxsVGltZSkuc2hvdWxkLmJlLmFib3ZlKHByaWNlc0NhbGxUaW1lKTtcbiAgICAoZGlzY29ubmVjdGVkQ2FsbFRpbWUpLnNob3VsZC5iZS5hYm92ZShvcmRlcnNDYWxsVGltZSk7XG4gICAgKHBvc2l0aW9uc0NhbGxUaW1lKS5zaG91bGQuYmUuYWJvdmUoZGlzY29ubmVjdGVkQ2FsbFRpbWUpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlXZWJzb2NrZXRDbGllbnQjcXVldWVQYWNrZXR9XG4gICAqL1xuICBpdCgnc2hvdWxkIG5vdCBwcm9jZXNzIG9sZCBzeW5jaHJvbml6YXRpb24gcGFja2V0IHdpdGhvdXQgZ2FwcyBpbiBzZXF1ZW5jZSBudW1iZXJzJywgYXN5bmMgKCkgPT4ge1xuICAgIGxldCBsaXN0ZW5lciA9IHtcbiAgICAgIG9uU3luY2hyb25pemF0aW9uU3RhcnRlZDogc2lub24uZmFrZSgpLFxuICAgICAgb25QZW5kaW5nT3JkZXJzUmVwbGFjZWQ6IHNpbm9uLmZha2UoKSxcbiAgICAgIG9uUGVuZGluZ09yZGVyc1N5bmNocm9uaXplZDogKCkgPT4ge31cbiAgICB9O1xuICAgIGNsaWVudC5hZGRTeW5jaHJvbml6YXRpb25MaXN0ZW5lcignYWNjb3VudElkJywgbGlzdGVuZXIpO1xuICAgIHNhbmRib3guc3R1YihjbGllbnQuX3N1YnNjcmlwdGlvbk1hbmFnZXIsICdpc1N1YnNjcmlwdGlvbkFjdGl2ZScpLnJldHVybnModHJ1ZSk7XG4gICAgc2FuZGJveC5zdHViKGNsaWVudC5fcGFja2V0T3JkZXJlciwgJ3Jlc3RvcmVPcmRlcicpLmNhbGxzRmFrZShhcmcgPT4gW2FyZ10pO1xuXG4gICAgc2FuZGJveC5zdHViKGNsaWVudC5fc29ja2V0SW5zdGFuY2VzWyd2aW50LWhpbGwnXVswXVswXS5zeW5jaHJvbml6YXRpb25UaHJvdHRsZXIsXG4gICAgICAnYWN0aXZlU3luY2hyb25pemF0aW9uSWRzJykuZ2V0KCgpID0+IFsnQUJDJ10pO1xuICAgIHNlcnZlci5lbWl0KCdzeW5jaHJvbml6YXRpb24nLCB7dHlwZTogJ3N5bmNocm9uaXphdGlvblN0YXJ0ZWQnLCBhY2NvdW50SWQ6ICdhY2NvdW50SWQnLFxuICAgICAgc2VxdWVuY2VOdW1iZXI6IDEsIHNlcXVlbmNlVGltZXN0YW1wOiAxNjAzMTI0MjY3MTc4LCBzeW5jaHJvbml6YXRpb25JZDogJ0FCQyd9KTtcbiAgICBzZXJ2ZXIuZW1pdCgnc3luY2hyb25pemF0aW9uJywge3R5cGU6ICdvcmRlcnMnLCBhY2NvdW50SWQ6ICdhY2NvdW50SWQnLCBvcmRlcnM6IFtdLFxuICAgICAgc2VxdWVuY2VOdW1iZXI6IDIsIHNlcXVlbmNlVGltZXN0YW1wOiAxNjAzMTI0MjY3MTgxLCBzeW5jaHJvbml6YXRpb25JZDogJ0FCQyd9KTtcbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIDUwKSk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZE9uY2UobGlzdGVuZXIub25TeW5jaHJvbml6YXRpb25TdGFydGVkKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkT25jZShsaXN0ZW5lci5vblBlbmRpbmdPcmRlcnNSZXBsYWNlZCk7XG5cbiAgICBzYW5kYm94LnN0dWIoY2xpZW50Ll9zb2NrZXRJbnN0YW5jZXNbJ3ZpbnQtaGlsbCddWzBdWzBdLnN5bmNocm9uaXphdGlvblRocm90dGxlcixcbiAgICAgICdhY3RpdmVTeW5jaHJvbml6YXRpb25JZHMnKS5nZXQoKCkgPT4gWydERUYnXSk7XG4gICAgc2VydmVyLmVtaXQoJ3N5bmNocm9uaXphdGlvbicsIHt0eXBlOiAnc3luY2hyb25pemF0aW9uU3RhcnRlZCcsIGFjY291bnRJZDogJ2FjY291bnRJZCcsXG4gICAgICBzZXF1ZW5jZU51bWJlcjogMywgc2VxdWVuY2VUaW1lc3RhbXA6IDE2MDMxMjQyNjcxOTAsIHN5bmNocm9uaXphdGlvbklkOiAnREVGJ30pO1xuICAgIHNlcnZlci5lbWl0KCdzeW5jaHJvbml6YXRpb24nLCB7dHlwZTogJ29yZGVycycsIGFjY291bnRJZDogJ2FjY291bnRJZCcsIG9yZGVyczogW10sXG4gICAgICBzZXF1ZW5jZU51bWJlcjogNCwgc2VxdWVuY2VUaW1lc3RhbXA6IDE2MDMxMjQyNjcxOTIsIHN5bmNocm9uaXphdGlvbklkOiAnQUJDJ30pO1xuICAgIHNlcnZlci5lbWl0KCdzeW5jaHJvbml6YXRpb24nLCB7dHlwZTogJ29yZGVycycsIGFjY291bnRJZDogJ2FjY291bnRJZCcsIG9yZGVyczogW10sXG4gICAgICBzZXF1ZW5jZU51bWJlcjogNSwgc2VxdWVuY2VUaW1lc3RhbXA6IDE2MDMxMjQyNjcxOTUsIHN5bmNocm9uaXphdGlvbklkOiAnREVGJ30pO1xuICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgNTApKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkVHdpY2UobGlzdGVuZXIub25TeW5jaHJvbml6YXRpb25TdGFydGVkKTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkVHdpY2UobGlzdGVuZXIub25QZW5kaW5nT3JkZXJzUmVwbGFjZWQpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlXZWJzb2NrZXRDbGllbnQjcXVldWVFdmVudH1cbiAgICovXG4gIGl0KCdzaG91bGQgcHJvY2VzcyBxdWV1ZWQgZXZlbnRzIHNlcXVlbnRpYWxseScsIGFzeW5jICgpID0+IHtcbiAgICBsZXQgZXZlbnQxID0gc2FuZGJveC5zdHViKCkuY2FsbHNGYWtlKCgpID0+IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgMTAwKSkpO1xuICAgIGxldCBldmVudDIgPSBzYW5kYm94LnN0dWIoKS5jYWxsc0Zha2UoKCkgPT4gbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCAyNSkpKTtcbiAgICBjbGllbnQucXVldWVFdmVudCgnYWNjb3VudElkJywgJ3Rlc3QnLCBldmVudDEpO1xuICAgIGNsaWVudC5xdWV1ZUV2ZW50KCdhY2NvdW50SWQnLCAndGVzdCcsIGV2ZW50Mik7XG4gICAgXG4gICAgYXdhaXQgY2xvY2sudGlja0FzeW5jKDc1KTtcbiAgICBzaW5vbi5hc3NlcnQuY2FsbGVkT25jZShldmVudDEpO1xuICAgIHNpbm9uLmFzc2VydC5ub3RDYWxsZWQoZXZlbnQyKTtcbiAgICBcbiAgICBhd2FpdCBjbG9jay50aWNrQXN5bmMoMzApO1xuICAgIHNpbm9uLmFzc2VydC5jYWxsZWRPbmNlKGV2ZW50Mik7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAdGVzdCB7TWV0YUFwaVdlYnNvY2tldENsaWVudCNxdWV1ZUV2ZW50fVxuICAgKiBAdGVzdCB7TWV0YUFwaVdlYnNvY2tldENsaWVudCNxdWV1ZVBhY2tldH1cbiAgICovXG4gIGl0KCdzaG91bGQgcHJvY2VzcyBxdWV1ZWQgZXZlbnRzIGFtb25nIHN5bmNocm9uaXphdGlvbiBwYWNrZXRzJywgYXN5bmMgKCkgPT4ge1xuICAgIGxldCBsaXN0ZW5lciA9IHtcbiAgICAgIG9uU3luY2hyb25pemF0aW9uU3RhcnRlZDogc2FuZGJveC5zdHViKCkuY2FsbHNGYWtlKCgpID0+IG5ldyBQcm9taXNlKHJlcyA9PiBzZXRUaW1lb3V0KHJlcywgMTAwKSkpXG4gICAgfTtcbiAgICBsZXQgZXZlbnQgPSBzYW5kYm94LnN0dWIoKS5jYWxsc0Zha2UoKCkgPT4gbmV3IFByb21pc2UocmVzID0+IHNldFRpbWVvdXQocmVzLCAyNSkpKTtcbiAgICBjbGllbnQuYWRkU3luY2hyb25pemF0aW9uTGlzdGVuZXIoJ2FjY291bnRJZCcsIGxpc3RlbmVyKTtcblxuICAgIGNsaWVudC5xdWV1ZVBhY2tldCh7XG4gICAgICB0eXBlOiAnc3luY2hyb25pemF0aW9uU3RhcnRlZCcsIGFjY291bnRJZDogJ2FjY291bnRJZCcsIGluc3RhbmNlSW5kZXg6IDAsIHNlcXVlbmNlTnVtYmVyOiAxLCBzZXF1ZW5jZVRpbWVzdGFtcDogMSxcbiAgICAgIHN5bmNocm9uaXphdGlvbklkOiAnc3luY2hyb25pemF0aW9uSWQnLCBob3N0OiAncHMtbXBhLTEnXG4gICAgfSk7XG4gICAgY2xpZW50LnF1ZXVlRXZlbnQoJ2FjY291bnRJZCcsICd0ZXN0JywgZXZlbnQpO1xuICAgIFxuICAgIGF3YWl0IGNsb2NrLnRpY2tBc3luYyg3NSk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZE9uY2UobGlzdGVuZXIub25TeW5jaHJvbml6YXRpb25TdGFydGVkKTtcbiAgICBzaW5vbi5hc3NlcnQubm90Q2FsbGVkKGV2ZW50KTtcblxuICAgIGF3YWl0IGNsb2NrLnRpY2tBc3luYygzMCk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZE9uY2UoZXZlbnQpO1xuICB9KTtcblxuICAvKipcbiAgICogQHRlc3Qge01ldGFBcGlXZWJzb2NrZXRDbGllbnQjcXVldWVFdmVudH1cbiAgICovXG4gIGl0KCdzaG91bGQgbm90IHRocm93IGVycm9ycyBmcm9tIHF1ZXVlZCBldmVudHMnLCBhc3luYyAoKSA9PiB7XG4gICAgbGV0IGV2ZW50ID0gc2FuZGJveC5zdHViKCkucmVqZWN0cygpO1xuICAgIGNsaWVudC5xdWV1ZUV2ZW50KCdhY2NvdW50SWQnLCAndGVzdCcsIGV2ZW50KTtcbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIDEwKSk7XG4gICAgc2lub24uYXNzZXJ0LmNhbGxlZE9uY2UoZXZlbnQpO1xuICB9KTtcblxufSk7XG4iXX0=